<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>zkp-co-learning</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../index.html">TOC</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Halo2</li><li class="chapter-item expanded "><a href="halo2/0xparc halo2.html"><strong aria-hidden="true">1.</strong> 0xparc halo2</a></li><li class="chapter-item expanded "><a href="halo2/1. Simple Examples.html"><strong aria-hidden="true">2.</strong> 1.Simple Examples</a></li><li class="chapter-item expanded "><a href="halo2/2. Fibonacci (halo2-hope).html"><strong aria-hidden="true">3.</strong> 2.Fibonacci(halo2-hope)</a></li><li class="chapter-item expanded "><a href="halo2/3. Fibonacci (ex1+ex2).html"><strong aria-hidden="true">4.</strong> 3. Fibonacci (ex1+ex2)</a></li><li class="chapter-item expanded "><a href="halo2/4. IsZero Check (ex3).html"><strong aria-hidden="true">5.</strong> 4. IsZero Check (ex3)</a></li><li class="chapter-item expanded "><a href="halo2/halo2 Source Code.html"><strong aria-hidden="true">6.</strong> halo2 Source Code</a></li><li class="chapter-item expanded "><a href="halo2/StarLi halo2.html"><strong aria-hidden="true">7.</strong> StarLi halo2</a></li><li class="chapter-item expanded affix "><li class="part-title">Folding Schemes</li><li class="chapter-item expanded "><a href="Nova/SuperNova.html"><strong aria-hidden="true">8.</strong> SuperNova</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">zk-everything</li><li class="chapter-item expanded "><a href="zk-everything/BabySNARK tutorial.html"><strong aria-hidden="true">9.</strong> BabySNARK tutorial</a></li><li class="chapter-item expanded "><a href="zk-everything/zk-learning-miles/KZG.html"><strong aria-hidden="true">10.</strong> KZG</a></li><li class="chapter-item expanded "><a href="zk-everything/zk-learning-miles/Lecture1:Overview about Zeroknowledge.html"><strong aria-hidden="true">11.</strong> Lecture1:Overview about Zeroknowledge</a></li><li class="chapter-item expanded "><a href="zk-everything/zk-learning-miles/Lecture2:Introduction to Modern SNARKs.html"><strong aria-hidden="true">12.</strong> Lecture2:Introduction to Modern SNARKs</a></li><li class="chapter-item expanded "><a href="zk-everything/zk-learning-miles/Lecture12:ZKEVM.html"><strong aria-hidden="true">13.</strong> Lecture12:ZKEVM</a></li><li class="chapter-item expanded "><a href="zk-everything/zk-learning-miles/Lecture16:Hardware acceleration.html"><strong aria-hidden="true">14.</strong> Lecture16:Hardware acceleration</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">ZKP Public Goods</li><li class="chapter-item expanded "><a href="public goods/ç¬¬äºŒç« .html"><strong aria-hidden="true">15.</strong> ch2</a></li><li class="chapter-item expanded "><a href="public goods/4-Proving-System.html"><strong aria-hidden="true">16.</strong> ch4-Proving System</a></li><li class="chapter-item expanded "><a href="public goods/5-plonk-intro.html"><strong aria-hidden="true">17.</strong> ch5-plonk-intro</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">zkp-co-learning</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h2 id="å…±å­¦ç¬”è®°æ•´ç†ä¸­æ–‡"><a class="header" href="#å…±å­¦ç¬”è®°æ•´ç†ä¸­æ–‡">å…±å­¦ç¬”è®°æ•´ç†[ä¸­æ–‡]</a></h2>
<p><a href="https://github.com/zkp-co-learning/zkp-co-learn/blob/main/zk-everything/BabySNARK%20tutorial.md">BabySNARK tutorial</a></p>
<p><a href="https://github.com/zkp-co-learning/zkp-co-learn/blob/main/zk-everything/zk-learning-miles/Lecture1%3AOverview%20about%20Zeroknowledge.md">Lecture1:Introduction to Zero knowledge Interactive Proofs</a></p>
<h2 id="è§†é¢‘æ•´ç†"><a class="header" href="#è§†é¢‘æ•´ç†">è§†é¢‘æ•´ç†</a></h2>
<p><a href="https://www.youtube.com/watch?v=vDvyzVsyJm4&amp;t=7s">Overview of jolt and lasso</a></p>
<hr />
<h2 id="project-description"><a class="header" href="#project-description">Project Description:</a></h2>
<p>zkp-co-learning is a Zero-Knowledge Proofs (ZKP) collaborative study and creation project that has been running for three terms. Since February 2023, we have studied https://zkiap.com/, zk-learning.org, plonkathon codes and more with over 300 participants. We are currently preparing advanced content for zk-learning.org.(like Novaã€STARK...)</p>
<p>zkp-co-learning offers bounties to incentivize learners for their technical sharing, actively becoming community maintainers (Maintainer), and for organizing knowledge in the ZKP field. Together, we aim to improve ZKP Public Goods.</p>
<h2 id="problem-statement"><a class="header" href="#problem-statement">Problem Statement:</a></h2>
<p>Currently, there are challenges related to high barriers to entry, difficulty in learning in the ZKP field, lack of learning communities, and the overwhelming and opaque nature of information. We intend to address these issues specifically through zkp-co-learning.</p>
<h2 id="team-background"><a class="header" href="#team-background">Team Background:</a></h2>
<ul>
<li>Qi Zhou: Founder of ETHStorage</li>
<li>éƒ­å®‡@Secbit: Founder of Secbit, https://github.com/sec-bit, https://secbit.io/</li>
<li>Kurt Pan: Ph.D. in Cryptography from Fudan University, https://github.com/kurtpan666 / https://cryptography.land/</li>
<li>Harry L: co-Founder of Rebase Community.</li>
<li>Shirlene å­ç¾½: director of Creators Co-learning Community</li>
<li>Demian: zkp-co-learning community maintainer, former JD.com algorithm engineer, https://github.com/Demian101</li>
<li>Our Maintainers: dream@Scroll, Po@EthStorage, 0xhhh@EthStorage, Frank Jz Liu, miles, ç™½èœ, KEEP, CJ, ç¬ƒè¡Œ, é˜³å°é›ª, å•Šå’ªå’ªå°ç†Š, é¥­å¡é‡Œè¿˜æœ‰ä¸å°‘é’±å‘¢...</li>
<li>sponsoring agency: [Antalpha Labs]</li>
</ul>
<h2 id="vision-and-mission"><a class="header" href="#vision-and-mission">Vision and Mission:</a></h2>
<ol>
<li>Continue to recruit Maintainers to collaboratively manage the community and answer questions.</li>
<li>Operate technical media and Twitter to expand influence.</li>
<li>Utilize zk technology to support a broader range of web3 applications. </li>
</ol>
<h2 id="roadmap"><a class="header" href="#roadmap">Roadmap:</a></h2>
<p>We plan to accomplish the following tasks within 6 months:</p>
<ol>
<li>Launch the zkp-co-learning.xyz website and aim for:
1.1 Comprehensive ZKP learning path sorting and a clear, seamless learning guide. 
1.2. zk Hackthon information gathering, allowing everyone to showcase and discuss ideas, and team up for Hackthon. 
1.3. Distribute bounties, allowing anyone interested to participate and contribute knowledge and content.</li>
<li>Complete research on at least 5 open-source projects for EF PSE. (https://www.appliedzkp.org/projects)</li>
<li>Host a Hackthon or Hackerhouse to put theory into project practice.</li>
<li>Develop at least one zk application project with specific needs and use cases.</li>
<li>Organize and open-source the vast amount of zk materials that have accumulated and scattered within the current co-learning GROUP.</li>
<li>Attract at least 200 more people to participate in zkp technology learning and engage at least 20 developers in the development of zkp projects.</li>
</ol>
<hr />
<h2 id="project-description-1"><a class="header" href="#project-description-1">Project Descriptionï¼š</a></h2>
<p>zkp-co-learning æ˜¯ä¸€ä¸ªå·²ç»æŒç»­äº† 3 æœŸçš„ ZKP å…±å­¦å…±åˆ›é¡¹ç›®ï¼Œä» 2023 å¹´ 2 æœˆè‡³ä»Šï¼Œæˆ‘ä»¬ä¸ 300+ å­¦å‘˜å…±åŒç ”ç©¶äº† https://zkiap.com/ ï¼Œzk-learning.org ï¼Œplonkathon ä»£ç ç­‰ï¼Œç›®å‰æ­£åœ¨ç­¹å¤‡ zk-learning.org çš„è¿›é˜¶å†…å®¹</p>
<p>zkp-co-learning é’ˆå¯¹å­¦å‘˜çš„æŠ€æœ¯åˆ†äº«ï¼Œç§¯ææˆä¸ºç¤¾ç¾¤ç»´æŠ¤è€…ï¼ˆMaintainerï¼‰ï¼ŒZKP é¢†åŸŸçš„çŸ¥è¯†æ•´ç†ï¼Œéƒ½ä¼šæä¾›å¯¹åº”çš„ bounty æ¥æ¿€åŠ±ä»–ä»¬ï¼Œå…±åŒå®Œå–„ ZKP Public Goods</p>
<h2 id="problem-statement-1"><a class="header" href="#problem-statement-1">Problem Statement</a></h2>
<p>ç›®å‰ï¼Œé’ˆå¯¹ ZKP é¢†åŸŸå­¦ä¹ é—¨æ§›é«˜ã€éš¾åº¦å¤§ï¼Œå­¦ä¹ ç¤¾ç¾¤ç¼ºä¹ï¼Œä¿¡æ¯åºæ‚ä¸é€æ˜çš„æƒ…å†µï¼Œæˆ‘ä»¬æ„å›¾é€šè¿‡ zkp-co-learning æ¥é’ˆå¯¹æ€§åœ°è§£å†³è¿™äº›é—®é¢˜</p>
<h2 id="team-background-1"><a class="header" href="#team-background-1">Team Background</a></h2>
<p>as above.</p>
<h2 id="æ„¿æ™¯"><a class="header" href="#æ„¿æ™¯">æ„¿æ™¯</a></h2>
<ol>
<li>ç»§ç»­æ‹›å‹Ÿ Maintainer æ¥å…±åŒç»´æŠ¤ç¤¾åŒºï¼Œè§£ç­”å¤§å®¶çš„é—®é¢˜</li>
<li>è¿è¥æŠ€æœ¯åª’ä½“ä¸ Twitterï¼Œæ‰©å¤§å½±å“åŠ›</li>
<li>åˆ©ç”¨ zkp æŠ€æœ¯æ”¯æŒæ›´å¹¿æ³›åœºæ™¯çš„ web3 åº”ç”¨</li>
</ol>
<h2 id="roadmap-1"><a class="header" href="#roadmap-1">Roadmap</a></h2>
<p>æˆ‘ä»¬è®¡åˆ’ä½¿ç”¨ 5 ä¸ªæœˆçš„æ—¶é—´å®Œæˆä»¥ä¸‹äº‹åŠ¡ï¼š</p>
<ol>
<li>ä¸Šçº¿ zkp-co-learning.xyz ç½‘ç«™ï¼Œå®Œæˆï¼š1. ZKP å®Œæ•´å­¦ä¹ è·¯å¾„æ¢³ç†ï¼Œæ¸…æ™°æ— ç—›çš„å­¦ä¹ æŒ‡å—  2. zkp Hackthon ä¿¡æ¯æ”¶é›†ï¼Œè®©å¤§å®¶å±•ç¤ºäº¤æµ ideasï¼Œç»„é˜Ÿ Hackthon  3. bounty æ”¾é€ï¼Œè®©æ¯ä¸ªæ„Ÿå…´è¶£çš„äººéƒ½èƒ½å‚ä¸å…¶ä¸­ï¼Œè¿›è¡Œå­¦è¯†å’Œå†…å®¹çš„è´¡çŒ®</li>
<li>å®Œæˆè‡³å°‘ 5 ä¸ª EF PSE çš„å¼€æºé¡¹ç›® Research</li>
<li>ä¸¾åŠä¸€æ¬¡ Hackthon æˆ– Hackerhouse æ¥å°†ç†è®ºä»˜è¯¸é¡¹ç›®å®è·µ</li>
<li>å®Œæˆè‡³å°‘ 1 ä¸ªå…·æœ‰éœ€æ±‚å’Œä½¿ç”¨åœºæ™¯çš„ zkp åº”ç”¨é¡¹ç›®çš„ç ”å‘</li>
<li>æ•´ç†ä¸å¼€æºç›®å‰å…±å­¦ GROUP é‡Œé¢æ²‰æ·€æ•£è½çš„å¤§é‡ zkp èµ„æ–™</li>
<li>å†å¸å¼•è‡³å°‘ 200 äººå‚ä¸åˆ° zkp æŠ€æœ¯çš„å­¦ä¹ ä¸­ï¼Œè®©è‡³å°‘ 20 åå¼€å‘è€…å‚ä¸åˆ° zkp é¡¹ç›®çš„ç ”å‘ä¸­</li>
</ol>
<hr />
<h1 id="what-are-we-doing-now"><a class="header" href="#what-are-we-doing-now">What are we doing now?</a></h1>
<h2 id="è¿›é˜¶ç ”ç©¶å°ç»„"><a class="header" href="#è¿›é˜¶ç ”ç©¶å°ç»„">è¿›é˜¶ç ”ç©¶å°ç»„ï¼š</a></h2>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"></span></span></span></p>
<p float="left">
  <img src="https://github.com/zkp-co-learning/zkp-co-learn/assets/33189338/0e5ec85f-fd7e-4ce3-a579-d86c20b763aa" width="20%" />
  <img src="https://github.com/zkp-co-learning/zkp-co-learn/assets/33189338/230f2aa6-b5bf-4f39-ac70-0d6cb64a140e" width="20%" /> 
  <img src="https://github.com/zkp-co-learning/zkp-co-learn/assets/33189338/e0ae9d92-eed9-46dd-822d-816bdf59c24b" width="20%" />
  <img src="https://github.com/zkp-co-learning/zkp-co-learn/assets/33189338/dbb9423a-3c64-47c1-8a12-30a27c57ffcd"  width="20%" />
  <img src="https://github.com/zkp-co-learning/zkp-co-learn/assets/33189338/e05547fc-61d3-4bc8-ac9c-f4bc0e770f05"  width="20%" />
</p>
<blockquote>
<p>å¦‚æœäºŒç»´ç è¿‡æœŸè¯·æ‰¾ @Demian ç´¢è¦ ~</p>
</blockquote>
<h2 id="æŠ•ç¨¿"><a class="header" href="#æŠ•ç¨¿">æŠ•ç¨¿</a></h2>
<p>æ¬¢è¿å¤§å®¶æŠŠè‡ªå·±åœ¨å†™çš„å†…å®¹æ”¾åœ¨è¿™é‡Œï¼Œ [zk-everything] æˆ‘ä»¬ä¼šåŒæ—¶æ’ç‰ˆåˆ°Antalpha Labsçš„å…¬ä¼—å·ä¸‹.(æœ€å¥½ç•™ä¸‹è”ç³»æ–¹å¼ï¼Œæ–¹ä¾¿åç»­è·Ÿè¿›ï¼‰</p>
<h2 id="å…¶ä»–ç ”ç©¶é¡¹ç›®"><a class="header" href="#å…¶ä»–ç ”ç©¶é¡¹ç›®">å…¶ä»–ç ”ç©¶é¡¹ç›®ï¼š</a></h2>
<ul>
<li><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">ï¼šå¯ç¾¤å†…è”ç³»</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">ain</span><span class="mord mathnormal">t</span><span class="mord mathnormal">ain</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord">@</span><span class="mord mathnormal">Kee</span><span class="mord mathnormal">p</span><span class="mord">@</span><span class="mord cjk_fallback">å•Šå’ªå’ªå°ç†Š</span><span class="mord">âˆ’</span></span></span></span></span> ï¼šå¯ç¾¤å†…è”ç³» Maintainer @cheerup ï¼ˆè¢«åŠ¨ä¸Šå²—ï¼Œåç»­ Scroll æŠ€æœ¯å¤§ä½¬ä¼šå‡ºæ‰‹ï¼Œæ”¾å¿ƒï¼‰</li>
<li>[Novaç ”ç©¶å°ç»„]</li>
<li>[baby plonk]</li>
<li>$$ ï¼šå¦‚ä¸Š â†‘ </li>
</ul>
<p><del><br /></del></p>
<h3 id="github-discussion-ä½¿ç”¨æ–¹æ³•"><a class="header" href="#github-discussion-ä½¿ç”¨æ–¹æ³•">[Github Discussion] ä½¿ç”¨æ–¹æ³•</a></h3>
<p>(tbl)</p>
<h2 id="themes-"><a class="header" href="#themes-">Themes ï¼</a></h2>
<ul>
<li>è‡ªç”±é€‰é¢˜ï¼Œå®Œæˆå­¦ä¹ å¹¶åˆ†äº«å¯å¾— <strong>Bounty</strong> ï¼Œæ¨è PSE å¼€æºé¡¹ç›® ~
<ul>
<li>[Meeting PSE Share]</li>
<li>[PSE opensource projects list]</li>
</ul>
</li>
<li>ç›®å‰æ³•å›½ ğŸ‡«ğŸ‡· å·´é» ZKML Hackerhouse ç«çƒ­è¿›è¡Œä¸­ ğŸ”¥</li>
<li>å¹´åº•<strong>åœŸè€³å…¶ ZKP HackerHouse</strong> ç­‰ä½ æ¥ ï¼ï¼</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<p>Understanding and building user-facing applications with <code>Halo2</code> and <code>PLONKish</code> proving systems</p>
<ul>
<li>Circuits</li>
<li>Toolstack</li>
<li>Developer tools</li>
</ul>
<p>halo2 proving system consists of these 3 components :</p>
<pre><code class="language-mermaid">graph TD

a[arithmetisation]
b[polynomial commitment scheme]
c[accumulation scheme]

a --&gt; b
b --&gt; c
</code></pre>
<p>halo2 use :</p>
<ul>
<li>[arithmetisation] : PLONKish arithmetisation </li>
<li>[polynomial commitment scheme] :  inner product argument</li>
<li>[accumulation scheme]  accumulation scheme</li>
</ul>
<pre><code class="language-mermaid">graph TD

a[PLONKish arithmetisation ]
b[inner product argument]
c[accumulation scheme]

a -- &quot;low-degeree polynomial&quot; --&gt; b
b -- &quot;commitment opening proof&quot; --&gt; c
</code></pre>
<h3 id="plonkish-arithmetisation"><a class="header" href="#plonkish-arithmetisation">PLONKish arithmetisation</a></h3>
<p>![[Pasted image 20230821110734.png]]</p>
<p>![[Pasted image 20230821111605.png]]</p>
<ul>
<li>qs : pre-processed polynomials also called selectors, generated by the <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span></span></span></span>. and they're basically hard-coded for your circuit</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span></span></span></span> are witnesses by the <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> and these have <strong>different values in each proof instance</strong></li>
</ul>
<h4 id="custom-gateturboplonk"><a class="header" href="#custom-gateturboplonk">custom gate(TurboPLONK)</a></h4>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4702em;vertical-align:-1.7202em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-1.4159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">dd</span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span class="svg-align" style="top:-2.102em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13  35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688  0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14  53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3  11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3  28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mathnormal mtight" style="color:red;">a</span><span class="mord mathnormal mtight" style="color:red;">dd</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.898em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.7202em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.7702em;vertical-align:-1.7202em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1 c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349, -36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210, 949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9 c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5, -544.7,-112.5,-882c-2,-104,-3,-167,-3,-189 l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3, -210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-1.4159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span class="svg-align" style="top:-2.102em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13  35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688  0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14  53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3  11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3  28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mathnormal mtight" style="color:red;">m</span><span class="mord mathnormal mtight" style="color:red;">u</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;color:red;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.898em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.7202em;"><span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3, 63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5 c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9 c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664 c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11 c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17 c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558 l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7, -470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.7702em;vertical-align:-1.7202em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1 c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349, -36,557 l0,84c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210, 949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9 c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5, -544.7,-112.5,-882c-2,-104,-3,-167,-3,-189 l0,-92c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3, -210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-1.4159em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span><span class="mord mathnormal mtight">oo</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">e</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord munder"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span class="svg-align" style="top:-2.102em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.548em;min-width:1.6em;"><span class="brace-left" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMinYMin slice'><path d='M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13  35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688  0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7 -331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z'/></svg></span><span class="brace-center" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMidYMin slice'><path d='M199572 214 c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14  53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3  11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0 -5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z'/></svg></span><span class="brace-right" style="height:0.548em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.548em' viewBox='0 0 400000 548' preserveAspectRatio='xMaxYMin slice'><path d='M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3  28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237 -174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z'/></svg></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mathnormal mtight" style="color:red;">b</span><span class="mord mathnormal mtight" style="color:red;">oo</span><span class="mord mathnormal mtight" style="margin-right:0.01968em;color:red;">l</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.898em;"><span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.7202em;"><span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.05em;"><span class="pstrut" style="height:5.6em;"></span><span style="width:0.875em;height:3.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='3.600em' viewBox='0 0 875 3600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3, 63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5 c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,9 c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664 c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11 c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17 c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558 l0,-144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7, -470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span>
all these gates are then combined with <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>  in a linearly independent way and we check that all of these gates are fulfilled.</p>
<p>so in this way we can move from giant primitive <code>plonk equation</code> to any number of gates any arbitrary linear combinations of expressions that we need.</p>
<h4 id="back-to-plonk"><a class="header" href="#back-to-plonk">Back to PLONK</a></h4>
<p>![[Pasted image 20230821141056.png]]</p>
<p>cause the wire routing is baked into the trusted setup, so if you wanted a circuit that wired things differently you would need a different trusted setup.</p>
<p>whereas plonk is trying to avoid this and for this same trusted setup is trying to enable you to wire your circuit all kinds of ways  â€”â€” using Permutation Argument.</p>
<h4 id="lookupultraplonk"><a class="header" href="#lookupultraplonk">Lookup(ultraPLONK)</a></h4>
<p><strong>problem</strong> : SHA256(hash) is <strong>expensive</strong> to do in-circuit
<strong>solution</strong> : load precomputed SHA (e.g. for 8-bit values) as lookup table</p>
<p>![[Pasted image 20230821142653.png]]</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mathnormal mtight" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathnormal mtight" style="color:red;">oo</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;color:red;">k</span><span class="mord mathnormal mtight" style="color:red;">u</span><span class="mord mathnormal mtight" style="color:red;">p</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mathnormal mtight" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathnormal mtight" style="color:red;">oo</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;color:red;">k</span><span class="mord mathnormal mtight" style="color:red;">u</span><span class="mord mathnormal mtight" style="color:red;">p</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span>
=&gt; 
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.75em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mopen">(</span><span class="mord" style="color:red;">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">42</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0</span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mopen">(</span><span class="mord" style="color:red;">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord">69</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord">2</span><span class="mclose">))</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>why?. ..</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4em;vertical-align:-0.95em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">oo</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen" style="color:red;">(</span><span class="mord" style="color:red;">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:red;">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mathnormal mtight" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathnormal mtight" style="color:red;">oo</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;color:red;">k</span><span class="mord mathnormal mtight" style="color:red;">u</span><span class="mord mathnormal mtight" style="color:red;">p</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">0</span><span class="mpunct">,</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">oo</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen" style="color:red;">(</span><span class="mord" style="color:red;">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:red;">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mathnormal mtight" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathnormal mtight" style="color:red;">oo</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;color:red;">k</span><span class="mord mathnormal mtight" style="color:red;">u</span><span class="mord mathnormal mtight" style="color:red;">p</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p>
<p>lookup default value when  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">oo</span><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">p</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>  is not enabled, so that lookup argument passes on every row. (??)</p>
<p>the lookup argument is a more permissive version of the permutation argument. it enforces that: </p>
<blockquote>
<p>every  cell   in a set of input columns is equal to
<strong>some</strong>  cell   in a set of table columns </p>
</blockquote>
<blockquote>
<p>every  <strong>expression</strong>   in a set of input columns is equal to
<strong>some</strong>  <strong>expression</strong>   in a set of table columns </p>
</blockquote>
<p>we conceptualise the circuit as a matrix of m columns and n rows,  over a given finite field <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">F</span></span></span></span> </p>
<ul>
<li><code>instance columns</code> contain inputs shared between prover/verifier , generally used for public inputs
<ul>
<li>e.g.  the res of SHA256</li>
<li>a root of a Merkle Tree. </li>
</ul>
</li>
<li><code>advice columns</code> contain private values witnessed by the prover</li>
<li><code>fixed columns</code> contain preprocessed values set at key generation
<ul>
<li>å¸¸é‡ constant</li>
<li>æŸ¥è¡¨ : Lookup table column</li>
<li>é€‰æ‹©å­ (Selector), åŒä¸€è¡Œå¯ä»¥æ”¯æŒè‹¥å¹²ç§ä¸åŒçš„çº¦æŸ, æ¯”å¦‚ä¸‰å…ƒä¸‰æ¬¡, æˆ–è€…ä¸‰å…ƒäºŒæ¬¡, é€‰æ‹©å­å°±ä¿è¯äº†, æ¯”å¦‚è¯´æœ‰  3 ä¸ª custom gate, å¯ä»¥åªæ»¡è¶³å…¶ä¸­ä¸€ä¸ªå°± OK , æˆ–è€…æ»¡è¶³å…¶ä¸­çš„ 2 ä¸ª</li>
</ul>
</li>
</ul>
<p><strong>Regions</strong></p>
<p>what is regions ?</p>
<p>![[Pasted image 20230821163948.png]]</p>
<ul>
<li>theÂ <code>instance</code>Â columnsÂ areÂ white (public inputs), </li>
<li>andÂ theÂ <code>advice</code>Â columns(witnessed)Â areÂ pinkÂ andÂ the</li>
<li><code>fixed</code>Â columns(preprocessed value)Â areÂ purple</li>
</ul>
<p>![[Pasted image 20230821165358.png]]</p>
<ul>
<li>theÂ adviceÂ columns(witness)Â areÂ stillÂ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="color:pink;">p</span><span class="mord mathnormal" style="margin-right:0.03148em;color:pink;">ink</span></span></span></span></li>
<li>theÂ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;color:green;">g</span><span class="mord mathnormal" style="color:green;">ree</span><span class="mord mathnormal" style="color:green;">n</span></span></span></span>Â boxesÂ justÂ meansÂ thatÂ theyÂ haveÂ beenÂ assigned</li>
<li>the <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="color:purple;">p</span><span class="mord mathnormal" style="color:purple;">u</span><span class="mord mathnormal" style="margin-right:0.02778em;color:purple;">r</span><span class="mord mathnormal" style="margin-right:0.01968em;color:purple;">pl</span><span class="mord mathnormal" style="color:purple;">e</span></span></span></span> regions are <code>fixed</code> columns (preprocessed value)
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;color:violet;">l</span><span class="mord mathnormal" style="color:violet;">i</span><span class="mord mathnormal" style="margin-right:0.03588em;color:violet;">g</span><span class="mord mathnormal" style="color:violet;">h</span><span class="mord mathnormal" style="color:violet;">t</span><span class="mspace" style="color:violet;"><span style="color:violet;">Â </span></span><span class="mspace" style="color:violet;"><span style="color:violet;">Â </span></span><span class="mord mathnormal" style="color:violet;">p</span><span class="mord mathnormal" style="color:violet;">u</span><span class="mord mathnormal" style="margin-right:0.02778em;color:violet;">r</span><span class="mord mathnormal" style="margin-right:0.01968em;color:violet;">pl</span><span class="mord mathnormal" style="color:violet;">e</span></span></span></span> : fixed columnÂ thatÂ is binary (0/1) weÂ callÂ these <code>selector</code> like in PLONK paper.</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;color:purple;">l</span><span class="mord mathnormal" style="color:purple;">i</span><span class="mord mathnormal" style="margin-right:0.03588em;color:purple;">g</span><span class="mord mathnormal" style="color:purple;">h</span><span class="mord mathnormal" style="color:purple;">t</span><span class="mspace" style="color:purple;"><span style="color:purple;">Â </span></span><span class="mspace" style="color:purple;"><span style="color:purple;">Â </span></span><span class="mord mathnormal" style="color:purple;">p</span><span class="mord mathnormal" style="color:purple;">u</span><span class="mord mathnormal" style="margin-right:0.02778em;color:purple;">r</span><span class="mord mathnormal" style="margin-right:0.01968em;color:purple;">pl</span><span class="mord mathnormal" style="color:purple;">e</span></span></span></span> : non-binaryÂ soÂ that youÂ canÂ witnessÂ constantÂ valuesÂ inÂ them. forÂ example like aÂ fixÂ columnÂ isÂ <strong>five</strong>Â andÂ youÂ wannaÂ yourÂ gateÂ doesÂ likeÂ five timesÂ something, andÂ weÂ useÂ theseÂ fixedÂ columns.</li>
</ul>
</li>
</ul>
<p>Throughout the diagram, whatÂ areÂ weÂ tryingÂ to optimize?</p>
<ul>
<li>we'reÂ tryingÂ toÂ reduce theÂ spaceÂ beingÂ usedÂ .</li>
<li>Casue we do a lot of FFTs on the rows</li>
</ul>
<p>![[Pasted image 20230821171338.png]]</p>
<p>What does columns do ? </p>
<ul>
<li>each column, the priver needs to make a <code>commitment</code> to the column.</li>
<li>so, more columns, more commitments ;  more commitments, larger proof.</li>
</ul>
<p>&quot;regions&quot; are the boundary between <code>gates</code> and the global circuit <code>layouter</code> : </p>
<ul>
<li>a block of assignments preserving relative offsets: easy to reason about how gates apply within the region</li>
<li>not affected by offsets in other regions: can be freely rearranged to optimise global space usage</li>
<li>each region is completely independent of other regions, and if you were to try to write some constraint that crossed the boundary between two regions you would quickly find that you run into problems</li>
</ul>
<p>halo2 gadgets : </p>
<p>![[Pasted image 20230821191128.png]]</p>
<p>![[Pasted image 20230821191251.png]]</p>
<p><strong>open problems / wishlist</strong></p>
<ul>
<li>
<p>DSL / intermediate representation</p>
<ul>
<li>add an API to construct a Halo 2 circuit from a set of constraints (<a href="https://github.com/zcash/halo2/issues/550">halo2#550</a>)</li>
<li>improve connection between gate configuration and assignment (<a href="https://github.com/zcash/halo2/issues/550">halo2#365</a>)</li>
</ul>
</li>
<li>
<p>multi-phase prover (<a href="https://github.com/zcash/halo2/pull/593">halo2#593</a>)</p>
</li>
<li>
<p>dynamic lookup tables (<a href="https://github.com/zcash/halo2/pull/534">halo2#534</a>)</p>
</li>
<li>
<p>what other features would you like to see?</p>
</li>
</ul>
<h5 id="multipoint-opening-argument"><a class="header" href="#multipoint-opening-argument">multipoint opening argument</a></h5>
<p><strong>arithmetisation (cont.)</strong></p>
<blockquote>
<p>(cont.) i.e. continue, ç»­</p>
</blockquote>
<ol>
<li>
<p>arithmetise statement using <code>UltraPLONK</code> circuit</p>
</li>
<li>
<p><strong>commit to polynomials</strong> encoding the main components of the circuit ;
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:7.0014em;vertical-align:-3.2507em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.7507em;"><span style="top:-5.7507em;"><span class="pstrut" style="height:3.6514em;"></span><span class="mord"></span></span><span style="top:-4.0607em;"><span class="pstrut" style="height:3.6514em;"></span><span class="mord"></span></span><span style="top:-2.5607em;"><span class="pstrut" style="height:3.6514em;"></span><span class="mord"></span></span><span style="top:-1.0607em;"><span class="pstrut" style="height:3.6514em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.2507em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.7507em;"><span style="top:-5.7507em;"><span class="pstrut" style="height:3.6514em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">mmi</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.55em;"><span></span></span></span></span></span><span class="mspace">Â </span><span class="mopen">[</span><span class="mord mathnormal">p</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-4.0607em;"><span class="pstrut" style="height:3.6514em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord sizing reset-size6 size5"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">h</span><span class="mord mathnormal">ere</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">n</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2897em;"><span style="top:-2.45em;margin-left:0em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7834em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace">Â </span><span class="mord mathnormal">s</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord mathnormal">a</span><span class="mord mathnormal">re</span><span class="mspace">Â </span><span class="mord mathnormal">co</span><span class="mord mathnormal">mmi</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mspace">Â </span><span class="mord mathnormal">t</span><span class="mord mathnormal">o</span><span class="mspace">Â </span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mspace">Â </span><span class="mord mathnormal">L</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">an</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">ys</span></span></span></span><span style="top:-2.5607em;"><span class="pstrut" style="height:3.6514em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ce</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord mathnormal">p</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">ys</span></span></span><span style="top:-1.0607em;"><span class="pstrut" style="height:3.6514em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal">x</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord mathnormal">p</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">ys</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.2507em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>construct <strong>vanishing argument</strong> to constrain all circuit relations to zero ;
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.663em;vertical-align:-2.5815em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.0815em;"><span style="top:-5.0815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"></span></span><span style="top:-3.0055em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"></span></span><span style="top:-1.5055em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.5815em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.0815em;"><span style="top:-5.0815em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0573em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-3.0055em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord sizing reset-size6 size5"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">h</span><span class="mord mathnormal">ere</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mspace">Â </span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">ani</span><span class="mord mathnormal">s</span><span class="mord mathnormal">hin</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace">Â </span><span class="mord mathnormal">p</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">n</span><span class="mord mathnormal">o</span><span class="mord mathnormal">mia</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mspace">Â </span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mspace">Â </span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal">e</span></span></span></span><span style="top:-1.5055em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:2em;"></span><span class="mord sizing reset-size6 size5"><span class="mord mathnormal">d</span><span class="mord mathnormal">o</span><span class="mord mathnormal">main</span><span class="mspace">Â </span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8426em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8426em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">}</span><span class="mpunct">;</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">in</span><span class="mspace">Â </span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal" style="margin-right:0.02778em;">or</span><span class="mord mathnormal">d</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7em;"><span style="top:-3.013em;margin-right:0.0556em;"><span class="pstrut" style="height:2.6em;"></span><span class="sizing reset-size5 size2 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.5815em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>evaluate the above polynomials at all necessary points ;
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.6871em;vertical-align:-2.5936em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.0936em;"><span style="top:-5.6806em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"></span></span><span style="top:-4.1564em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"></span></span><span style="top:-2.0694em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.5936em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.0936em;"><span style="top:-5.6806em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span></span></span><span style="top:-4.1564em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span></span></span><span style="top:-2.0694em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.207em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.0573em;"><span style="top:-2.4559em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2441em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.5936em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>construct the <strong>multipoint opening argument</strong> to check that all evaluations are consistent with their respective commitments ;
5.a.  group commitments by the <strong>sets of points</strong> at which they were queried:<br />
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mclose">}</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">}</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p>
</li>
</ol>
<blockquote>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> are gates , and is only every queries on the current row (at point set x )
advice columns(witness) <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  queries on the current row (<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>) as well as the next row (<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span></span></span></span>)</p>
</blockquote>
<p>5.b.  construct polynomials to accumulate polynomials at each point set;   sample(éšæœº) <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> to keep them linearly independent:<br />
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span></span></span></span></span>
5.c  evaluate the <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 's at their respective points:
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span>
5.d  at each query point, interpolate the relevant qi evaluations:<br />
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord text"><span class="mord">Â s.t.Â </span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord text"><span class="mord">Â s.t.Â </span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span>
5.e  construct polynomials to check the correctness of qi polynomials
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.1593em;vertical-align:-2.3297em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8297em;"><span style="top:-4.8297em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"></span></span><span style="top:-2.3333em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.3297em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8297em;"><span style="top:-4.8297em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">Î¸</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3333em;"><span class="pstrut" style="height:3.427em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.3297em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>5.f  construct <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ…</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2191em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">x</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span> , with random <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> to keep  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  polynomials linearly independent</p>
<p>5.g  construct<br />
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">ina</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">p</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5945em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ…</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2191em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0141em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span></span>
with random <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> challenge to keep polynomials linearly independent.<br />
this checks that all evaluations are consistent with their respective commitments.</p>
<h3 id="inner-product-argument"><a class="header" href="#inner-product-argument">inner product argument</a></h3>
<p>Polynomial commitment General process:</p>
<ol>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mclose">)</span></span></span></span> : generate a setup <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span></li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">mmi</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">p</span><span class="mclose">)</span></span></span></span> : creates a commitment <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span> to <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span></span></span></span> : checks <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span> is a valid commitment to <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Op</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> : generates an opening proof Ï€</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">Op</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mclose">)</span></span></span></span> : checks if <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> using <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span></span></span></span></li>
</ol>
<p>Use cases</p>
<ul>
<li>zkEVM: KZG</li>
<li>plonky2: fri</li>
</ul>
<p><code>KZG</code> / <code>fri</code> are alternatives for <code>inner product argument</code></p>
<hr />
<p><code>inner product argument</code>  is a type of polynomial commitment scheme .</p>
<h3 id="halo2-api"><a class="header" href="#halo2-api">halo2 API</a></h3>
<p>![[Pasted image 20230821203602.png]]</p>
<p><strong>Column data structure</strong></p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// Advice column.
Column&lt;Advice&gt;
/// Column for public input.
Column&lt;Instance&gt;
/// A fixed column for constants.
Column&lt;Fixed&gt;
/// A fixed column that holds binary constants.
Selector
/// A fixed column for a lookup table.
TableColumn
<span class="boring">}</span></code></pre></pre>
<p><strong>Constraint system</strong></p>
<blockquote>
<p>The constraint system is used to create <code>columns</code> and define <code>custom gates</code>.</p>
</blockquote>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn advice_column(&amp;mut self) -&gt; Column&lt;Advice&gt; 
fn instance_column(&amp;mut self) -&gt; Column&lt;Instance&gt;
fn fixed_column(&amp;mut self) -&gt; Column&lt;Fixed&gt;
fn selector(&amp;mut self) -&gt; Selector
fn complex_selector(&amp;mut self) -&gt; Selector
fn lookup_table_column(&amp;mut self) -&gt; TableColumn
/// Enable the ability to enforce equality over cells in this column
fn enable_equality&lt;C: Into&lt;Column&lt;Any&gt;&gt;&gt;(&amp;mut self, column: C)
/// Creates a new gate.
fn create_gate&lt;C: Into&lt;Constraint&lt;F&gt;&gt;, Iter: IntoIterator&lt;Item = C&gt;&gt;(
    &amp;mut self,
    name: &amp;'static str,
    constraints: impl FnOnce(&amp;mut VirtualCells&lt;'_, F&gt;) -&gt; Iter,
)
<span class="boring">}</span></code></pre></pre>
<ul>
<li>selector : only involving some very simple custom gate and custom constraints</li>
<li>complex_selector : you can use that to construct a lookup argument (with arbitrary times.)</li>
<li>The last 2 apis are used to set up actual constraints,  such as copy constraints and custom gates. In particular, for copy constraint/permutation check, theÂ <code>enable_equality</code>Â API must be used together with theÂ <code>copy_advice</code>Â API (see example1.rs for more details).</li>
</ul>
<h4 id="layouter"><a class="header" href="#layouter">Layouter</a></h4>
<p>The layouter will be used during the assignment, namely(äº¦å³) when you fill up a table with the witness. Each time you will fill up a region(æ¯æ¬¡éƒ½ä¼šå¡«æ»¡ä¸€ä¸ª Region). You won't fill the entire table at once (ä½ ä¸ä¼šä¸€ä¸‹å­å¡«æ»¡æ•´ä¸ªè¡¨).  layouter takes a region as input and assign values to that region.</p>
<ol>
<li><strong>A region doesnâ€™t need to have the same shape as custom gate,  but must cover all related custom gates.</strong></li>
</ol>
<p>![[Pasted image 20230823145220.png]]
å·¦è¾¹ Valid Region âœ…:</p>
<ul>
<li>å‡è®¾ä¸Šé¢çš„ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> , ä¸‹é¢çš„  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> </li>
<li>åˆ™åªå¼€å¯äº†å·¦è¾¹çš„ <code>Custom Gate</code>.</li>
</ul>
<p>å³è¾¹çš„ invalid Region âŒ: </p>
<ul>
<li>it didn't cover all of the cells related to the <code>Custom Gate</code>.  and it doesn't assign all the cells you need for that<code>Custom Gate</code></li>
<li>if you turn on the selector, you should cover all of cells controlled by this <code>Custom Gate</code>.</li>
</ul>
<p>2 layouters in halo2:</p>
<ol>
<li><strong>SimpleFloorPlanner</strong></li>
<li>TwopassPlanner ?</li>
</ol>
<h5 id="simplefloorplanner"><a class="header" href="#simplefloorplanner">SimpleFloorPlanner</a></h5>
<ul>
<li>It is a single-pass layouter.Â </li>
<li>It finds the first empty row, for each column used in the region and takes a maximum.</li>
<li>trying to pack all our region as much as possible to use the <strong>fewer rows</strong> </li>
</ul>
<p>![[Pasted image 20230823151041.png]]</p>
<ul>
<li>Region <code>1</code> : use one cell for 3 advice column</li>
<li>Region <code>2</code> :  &quot;L shape&quot;</li>
<li>Region <code>3</code> :  &quot;L shape&quot;</li>
</ul>
<p>Q: how does region <code>1</code> not include a selector ?
A: you can think of region <code>1</code> is some <strong>private input</strong> you want to initialize it doesn't involve any check.</p>
<p>![[Pasted image 20230823152500.png]]</p>
<p>å¯¹äº Region 4 , å®ƒæœ¬å¯ä»¥å¡«åˆ°çº¢è‰²çš„ hole é‡Œé¢, ä½†æ˜¯è¿™ä¸æ˜¯å’±ä»¬ SimpleFloorPlanner è¯¥è€ƒè™‘çš„äº‹ ~</p>
<hr />
<p><strong>Chip:</strong></p>
<blockquote>
<p>The chip is not strictly necessary, but it is good to create gadgets. For more complex circuits you will have multiple chips and use them as lego blocks. A Circuit can use different chips.</p>
</blockquote>
<hr />
<p><strong>Three steps to implement a circuit :</strong> </p>
<ol>
<li>Define a <code>Config</code> struct that includes the columns used in the circuit</li>
<li>Define a <code>Chip</code> struct that configures the constraints in the circuit and provides assignment functions</li>
<li>Define a <code>Circuit</code> struct that implements the <code>Circuit trait</code> and instantiates a circuit instance that will be fed into the prover</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub trait Circuit&lt;F: Field&gt; {
    type Config: Clone;
    type FloorPlanner: FloorPlanner; //we use SimpleFloorPlanner

    /// Returns a copy of this circuit with no witness values
    // without real Witness, it can still generate vk &amp; pk..
    fn without_witnesses(&amp;self) -&gt; Self;

    /// The circuit is given an opportunity to describe the exact gate
    /// arrangement, column arrangement, etc.
    fn configure(meta: &amp;mut ConstraintSystem&lt;F&gt;) -&gt; Self::Config;

    /// Given the provided `cs`(constrain system), synthesize the circuit.
    fn synthesize(&amp;self, config: Self::Config, layouter: impl Layouter&lt;F&gt;) -&gt; Result&lt;(), Error&gt;;
}
<span class="boring">}</span></code></pre></pre>
<ul>
<li>
<p>cs : constrain system</p>
<ul>
<li>the <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span></span></span></span> will generate this constraint systems</li>
</ul>
</li>
<li>
<p><strong>chips are a way to make circuits modular</strong></p>
</li>
</ul>
<p>Why we need Region : </p>
<ul>
<li>heuristically you can think of a region as like a self-contained block of flick and within this block you are concerned with relative offsets and you need certain cells to be placed relative to other cells in a specific way . whereas(ç›¸å) if you do not care about how two blocks interact with each other then you should define them in separate regions and the reason why this is better is you can hand some control to the <code>layouter</code> to optimize the layout of your regions
<ul>
<li>å¯å‘å¼åœ°æ¥è¯´, æ‚¨å¯ä»¥å°†ä¸€ä¸ª region è§†ä¸ºä¸€ä¸ªè‡ªåŒ…å«çš„ Blockï¼Œåœ¨è¯¥å—å†…ä½ å…³å¿ƒç›¸å¯¹åç§»(relative offsets)ï¼Œå¹¶ä¸”éœ€è¦ä»¥ç‰¹å®šæ–¹å¼ç›¸å¯¹äºå…¶ä»–å•å…ƒæ”¾ç½®æŸäº›å•å…ƒã€‚ è€Œå¦‚æœæ‚¨ä¸å…³å¿ƒä¸¤ä¸ªå—å¦‚ä½•ç›¸äº’ä½œç”¨ï¼Œé‚£ä¹ˆæ‚¨åº”è¯¥å°†å®ƒä»¬å®šä¹‰åœ¨ separate regions ä¸­ï¼ŒåŸå› æ˜¯å¯ä»¥å°†ä¸€äº›æ§åˆ¶æƒäº¤ç»™â€œlayouterâ€ä»¥ä¼˜åŒ–åŒºåŸŸçš„å¸ƒå±€</li>
</ul>
</li>
<li>so as opposed to like using a one region for your whole circuit,  you should try and break it up as far as possible into self-contained regions,  unless your whole circuit is literally the same gate repeating over and over.  in that case,  you just need one region.
<ul>
<li>å› æ­¤ï¼Œä¸ä¸ºæ•´ä¸ªç”µè·¯ä½¿ç”¨ä¸€ä¸ª region ç›¸åï¼Œæ‚¨åº”è¯¥å°è¯•å°†å…¶å°½å¯èƒ½åˆ†è§£ self-contained regions ï¼Œé™¤éæ•´ä¸ªç”µè·¯å®é™…ä¸Šæ˜¯ä¸€éåˆä¸€éé‡å¤çš„åŒä¸€ä¸ªé—¨ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨åªéœ€è¦ä¸€ä¸ª region</li>
</ul>
</li>
</ul>
<p>Q: what's the cost model for halo2 are we trying to minimize the number of rows
A: </p>
<h3 id="fibonacci"><a class="header" href="#fibonacci">fibonacci</a></h3>
<p><strong>GOAL</strong> : Given <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> , we will prove <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">9</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span></p>
<p>![[Pasted image 20230823230126.png]]</p>
<pre><code class="language-bash">mkdir fibonacci
cd fibonacci
cargo init . 
code .
</code></pre>
<p>right now our layouter it can compress things horizontally for you, but it cannot do it vertically. the layouter has no control over like the config . so if you want two chips to reuse the same columns you have to manually specify it.</p>
<h4 id="qa"><a class="header" href="#qa">QA</a></h4>
<p>Q: Is there a solidity snark verifier for halo2 ?
A: Yes, you can use <code>halo2-wrong</code> by pse for that</p>
<p>Q: Do you need to supply the entire witness or can you let the circuit generate it by itself?
A: You need to supply the entire witness, but, of course, you can create scripts that are able to do that. For example you can check theÂ <code>assign_row</code>Â method inside theÂ <code>example1.rs</code>Â file.</p>
<p>Q: What is the <strong>rotation</strong> doing ?
A: In the example we used the rotation feature when <code>querying</code> values that will be used to set up custom gates. In the case of the example we are creating a custom gate that covers only one row. So we query value from the current row usingÂ <code>cur()</code>. If we wanted to create more complex gates we could use theÂ <code>next()</code>Â orÂ <code>prev()</code>Â method to query values from the next row or also access value from a specifc row by specifying the offset!
æˆ‘ä»¬åœ¨ <code>querying</code> values (values å°†ç”¨äºè®¾ç½® custom gates) æ—¶ä½¿ç”¨äº† <code>rotation</code> åŠŸèƒ½ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªä»…è¦†ç›–ä¸€è¡Œçš„è‡ªå®šä¹‰é—¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>cur()</code> ä»å½“å‰è¡ŒæŸ¥è¯¢å€¼ã€‚å¦‚æœæˆ‘ä»¬æƒ³åˆ›å»ºæ›´å¤æ‚çš„é—¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>next()</code> æˆ– <code>prev()</code> æ–¹æ³•æ¥æŸ¥è¯¢ä¸‹ä¸€è¡Œçš„å€¼ï¼Œæˆ–è€…é€šè¿‡æŒ‡å®šåç§»é‡æ¥è®¿é—®ç‰¹å®šè¡Œçš„å€¼ï¼</p>
<p>Q: What does <code>meta</code> represent?
A: <code>Meta</code> is an instance of a <em>default constraint system</em> . You can see it's been used inside the mock prover when calling the configure function</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let mut cs = ConstraintSystem::default();
let config = ConcreteCircuit::configure(&amp;mut cs);
<span class="boring">}</span></code></pre></pre>
<p>The process look like:</p>
<p><strong>key gen time</strong></p>
<ul>
<li>create a circuit instance</li>
<li>define the constraint system by callingÂ <code>configure</code></li>
<li><code>synthesize</code>Â runs ignoring witness assignment</li>
</ul>
<p><strong>proving time</strong></p>
<ul>
<li>the prover receives a circuit instance</li>
<li>The prover assign the values inside the circuit by callingÂ <code>synthesize</code></li>
</ul>
<p>Q: Where does <code>region</code> come from in <code>assign_region</code> method (file example1.rs)?
A: This may sound confusing because it seems like the region is an input parameter coming out of nowhere. In order to understand it we should go back to theÂ <code>assign_region</code>Â method defined on the Layouter trait. </p>
<p>The <code>assign_region</code> function takes an assignment as input which is a closure that takes a mutable reference to a Region instance as its argument, and returns a result of type AR. The closure is responsible for assigning variables and constraints to the Region. So, to answer the initial question, the region parameter used inside layouter.assign_region is not derived from any external source; rather, it is created by the assign_region method itself and passed to the closure as an argument.
<code>assign_region</code> takes an assignment as inputï¼Œè¿™æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œå®ƒä»¥ä¸€ä¸ªå¯¹ Region å®ä¾‹çš„å¯å˜å¼•ç”¨ä½œä¸ºå…¶å‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç±»å‹ä¸º AR çš„ç»“æœã€‚è¿™ä¸ªé—­åŒ…è´Ÿè´£å°†å˜é‡å’Œçº¦æŸåˆ†é…ç»™ Regionã€‚å› æ­¤ï¼Œä¸ºäº†å›ç­”æœ€åˆçš„é—®é¢˜ï¼Œ<code>layouter.assign_region</code> å†…éƒ¨ä½¿ç”¨çš„ region å‚æ•°å¹¶ä¸æ˜¯ä»ä»»ä½•å¤–éƒ¨æ¥æºæ´¾ç”Ÿå‡ºæ¥çš„ï¼›ç›¸åï¼Œå®ƒæ˜¯ç”± assign_region æ–¹æ³•è‡ªå·±åˆ›å»ºçš„ï¼Œå¹¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™é—­åŒ…ã€‚</p>
<p>Q: When would you even set the selector to 0?
A: You can set the selector to 0 when you want to <em>skip a constraint</em>. Also the number of rows is always <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span> , so if you are not using the entire rows you can set the selector to 0.</p>
<p>Q: Would it be possible to create a region that doesn't involve any selector?
A: Yes, for example when you want to initalize some input values. You can create a region that doesn't involve any selector and just assign values to the table. (?)</p>
<pre><code class="language-bash">cargo test
&gt; running 1 test
&gt; test fibonacci::tests::test_fib ... ok
</code></pre>
<p><strong>Reference:</strong> </p>
<ul>
<li><a href="https://www.remnote.com/a/Halo2-Notes/63c6758305f78c10a175b0c5">halo2 hand write notes</a></li>
<li><a href="https://docs.google.com/presentation/d/1zMY25DVTS2dUdXQWQMXiHsVyqLCKApcD4-vMHdYtZxM/edit#slide=id.g11fcf3d3017_4_955">halo2 intro from YingTong</a></li>
<li></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<p>![[Simple-Example(halo2).excalidraw]]</p>
<p><img src="http://imagesoda.oss-cn-beijing.aliyuncs.com/Sodaoo/2023-08-25-050418.png" alt="" /></p>
<h3 id="simple-example"><a class="header" href="#simple-example">Simple Example</a></h3>
<p>Let's start with a simple circuit, to introduce you to the common APIs and how they are used. The circuit will take a public inputÂ c, and will prove knowledge of two private inputsÂ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>Â andÂ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>Â such that
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span></span></p>
<h4 id="define-instructions"><a class="header" href="#define-instructions"><a href="https://zcash.github.io/halo2/user/simple-example.html#define-instructions">Define instructions</a></a></h4>
<p>Instructions are the boundary between high-levelÂ <a href="https://zcash.github.io/halo2/concepts/gadgets.html">gadgets</a>Â and the low-level circuit operations. Instructions may be as coarse or as granular as desired, but in practice you want to strike a balance between an instruction being large enough to effectively optimize its implementation, and small enough that it is meaningfully reusable.
Instructions ä»‹äº high-level gadgets å’Œåº•å±‚çš„ç”µè·¯æ“ä½œä¹‹é—´ã€‚æŒ‡ä»¤æ—¢å¯ä»¥ç»†ç²’åº¦ä¹Ÿå¯ä»¥ç²—ç²’åº¦ï¼Œä½†åœ¨å®è·µä¸­ï¼ŒæŒ‡ä»¤çš„åŠŸèƒ½åº”å½“è¶³å¤Ÿå°ï¼Œè¿™æ ·å¯ä»¥é‡å¤ä½¿ç”¨ï¼›ä½†åˆè¦è¶³å¤Ÿå¤§ï¼Œè¿™æ ·å¯ä»¥ä¼˜åŒ–å®ƒçš„å®ç°ã€‚è®¾è®¡è€…åº”å½“åœ¨è¿™ä¸¤è€…ä¹‹é—´å–å¾—å¹³è¡¡</p>
<p>For our circuit, we will use three instructions:</p>
<ul>
<li>Load a private number into the circuit.</li>
<li>Multiply two numbers.</li>
<li>Expose a number as a public input to the circuit. (å°†ä¸€ä¸ªæ•°è®¾ç½®ä¸ºç”µè·¯çš„å…¬å¼€è¾“å…¥)</li>
</ul>
<p>We also need a type for a variable representing a number. Instruction interfaces provide associated types for their inputs and outputs, to allow the implementations to represent these in a way that makes the most sense for their optimization goals.
æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªä»£è¡¨æ•°å­—çš„å˜é‡çš„ç±»å‹ã€‚æŒ‡ä»¤æ¥å£ä¸ºå…¶è¾“å…¥å’Œè¾“å‡ºæä¾›å…³è”ç±»å‹ï¼Œä»¥å…è®¸å®ç°ä»¥å¯¹å…¶ä¼˜åŒ–ç›®æ ‡æœ€æœ‰æ„ä¹‰çš„æ–¹å¼è¡¨ç¤ºè¿™äº›ç±»å‹</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>trait NumericInstructions&lt;F: Field&gt;: Chip&lt;F&gt; {
    /// Variable representing a number. ç”¨äºè¡¨ç¤ºä¸€ä¸ªæ•°çš„å˜é‡
    type Num;

    /// Loads a number into the circuit as a private input. éšç§è¾“å…¥
    fn load_private(&amp;self, layouter: impl Layouter&lt;F&gt;, a: Value&lt;F&gt;) -&gt; Result&lt;Self::Num, Error&gt;;

    /// Loads a number into the circuit as a fixed constant. 
    fn load_constant(&amp;self, layouter: impl Layouter&lt;F&gt;, constant: F) -&gt; Result&lt;Self::Num, Error&gt;;

    /// Returns `c = a * b`.
    fn mul(
        &amp;self,
        layouter: impl Layouter&lt;F&gt;,
        a: Self::Num,
        b: Self::Num,
    ) -&gt; Result&lt;Self::Num, Error&gt;;

    /// Exposes a number as a public input to the circuit.
    /// å°†ä¸€ä¸ªæ•°ç½®ä¸ºç”µè·¯çš„å…¬å¼€è¾“å…¥
    fn expose_public(
        &amp;self,
        layouter: impl Layouter&lt;F&gt;,
        num: Self::Num,
        row: usize,
    ) -&gt; Result&lt;(), Error&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p>Among them, </p>
<ul>
<li><em>Num</em> is used to adapt to the type handled in this interface, (é€‚é…è¯¥æ¥å£ä¸­å¤„ç†çš„ç±»å‹)</li>
<li><em>load_private</em>Â is used to load witness,</li>
<li><em>load_constant</em>Â is used to load constants,Â </li>
<li><em>mul</em>Â is used to calculate the multiplication of two numbers, andÂ </li>
<li><em>expose_public</em>Â is used to set instance.</li>
</ul>
<h4 id="define-a-chip-implementation"><a class="header" href="#define-a-chip-implementation"><a href="https://zcash.github.io/halo2/user/simple-example.html#define-a-chip-implementation">Define a chip implementation</a></a></h4>
<p>å®šä¹‰èŠ¯ç‰‡çš„å®ç° : For our circuit, we will build aÂ <a href="https://zcash.github.io/halo2/concepts/chips.html">chip</a>Â that provides the above numeric instructions for a finite field.</p>
<p>If you want to develop a custom chip, you need to implement theÂ <em>chip</em>Â trait of Halo 2.</p>
<p>Most of the time, using Halo 2 for circuit development does not need to define instructions and chips by oneself. But if you need to use complex ones that Halo 2 does not provide, you need to implement them yourself, such as implementing an emerging(æ–°å…´çš„) cryptographic algorithm.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// è¿™å—èŠ¯ç‰‡å°†å®ç°æˆ‘ä»¬çš„æŒ‡ä»¤é›†ï¼èŠ¯ç‰‡å­˜å‚¨å®ƒä»¬è‡ªå·±çš„é…ç½®ï¼Œ
struct FieldChip&lt;F: Field&gt; {
    config: FieldConfig,
    _marker: PhantomData&lt;F&gt;,
}
<span class="boring">}</span></code></pre></pre>
<p>Every chip needs to implement the Â <code>Chip</code>Â  trait.  This defines the properties of the chip that aÂ <code>Layouter</code>Â may rely on when synthesizing a circuit, as well as enabling any initial state that the chip requires to be loaded into the circuit.
æ¯ä¸€ä¸ª&quot;èŠ¯ç‰‡&quot;ç±»å‹éƒ½è¦å®ç° <code>Chip</code> trait , <code>Chip</code> trait å®šä¹‰äº† <code>Layouter</code> åœ¨ synthesizing ç”µè·¯æ—¶å¯èƒ½éœ€è¦çš„å…³äºç”µè·¯çš„æŸäº›å±æ€§ï¼Œä»¥åŠè‹¥å°†è¯¥èŠ¯ç‰‡åŠ è½½åˆ°ç”µè·¯æ‰€éœ€è¦è®¾ç½®çš„ä»»ä½•åˆå§‹çŠ¶æ€</p>
<blockquote>
<p>synthesizing ç”µè·¯ : ä¸€èˆ¬æŒ‡çš„æ˜¯ç±»ä¼¼ R1CS é‚£ç§å†™çº¦æŸçš„æ„æ€</p>
</blockquote>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl&lt;F: FieldExt&gt; Chip&lt;F&gt; for FieldChip&lt;F&gt; {
    type Config = FieldConfig;
    type Loaded = ();

    fn config(&amp;self) -&gt; &amp;Self::Config {
        &amp;self.config
    }

    fn loaded(&amp;self) -&gt; &amp;Self::Loaded {
        &amp;()
    }
}
<span class="boring">}</span></code></pre></pre>
<h4 id="configure-the-chip"><a class="header" href="#configure-the-chip"><a href="https://zcash.github.io/halo2/user/simple-example.html#configure-the-chip">Configure the chip</a></a></h4>
<p>The chip needs to be configured with the columns, permutations, and gates that will be required to implement all of the desired instructions.  (éœ€è¦ä¸ºèŠ¯ç‰‡é…ç½®å¥½å®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½æ‰€éœ€è¦çš„é‚£äº›åˆ—ã€ç½®æ¢ã€é—¨) : </p>
<pre><pre class="playground"><code class="language-rust">#![allow(unused)]
fn main() {
/// èŠ¯ç‰‡çš„çŠ¶æ€è¢«å­˜å‚¨åœ¨ä¸€ä¸ª config ç»“æ„ä½“ä¸­ï¼Œå®ƒæ˜¯åœ¨é…ç½®è¿‡ç¨‹ä¸­ç”±èŠ¯ç‰‡ç”Ÿæˆï¼Œ
/// å¹¶ä¸”å­˜å‚¨åœ¨èŠ¯ç‰‡å†…éƒ¨ã€‚
#[derive(Clone, Debug)]
struct FieldConfig {
    /// å¯¹äºè¿™å—èŠ¯ç‰‡ï¼Œæˆ‘ä»¬å°†ç”¨åˆ°ä¸¤ä¸ª advice åˆ—æ¥å®ç°æˆ‘ä»¬çš„æŒ‡ä»¤é›†ã€‚
    /// å®ƒä»¬ä¹Ÿæ˜¯æˆ‘ä»¬ä¸ç”µè·¯çš„å…¶ä»–éƒ¨åˆ†é€šä¿¡æ‰€éœ€è¦ç”¨åˆ°åˆ—ã€‚
    advice: [Column&lt;Advice&gt;; 2],
    instance: Column&lt;Instance&gt;, //å…¬å¼€è¾“å…¥ï¼ˆinstanceï¼‰åˆ—

    // æˆ‘ä»¬éœ€è¦ä¸€ä¸ª selector æ¥æ¿€æ´»ä¹˜æ³•é—¨ï¼Œä»è€Œåœ¨ç”¨ä¸åˆ°`NumericInstructions::mul`æŒ‡ä»¤çš„
    //cells ä¸Šä¸è®¾ç½®ä»»ä½•çº¦æŸã€‚è¿™éå¸¸é‡è¦ï¼Œå°¤å…¶åœ¨æ„å»ºæ›´å¤§å‹çš„ç”µè·¯çš„æƒ…å†µä¸‹ï¼Œåˆ—ä¼šè¢«å¤šæ¡æŒ‡ä»¤é›†ç”¨åˆ°
    s_mul: Selector,

    /// ç”¨æ¥åŠ è½½å¸¸æ•°çš„ fixed åˆ—
    constant: Column&lt;Fixed&gt;,
}</code></pre></pre>
<p>ä¸‹é¢æˆ‘ä»¬æ¥æ„å»ºçº¦æŸ : </p>
<ul>
<li>the most critical functionsÂ <em>configure</em>Â andÂ <em>enable_equality</em>Â are used to check the equality of the incoming parameters(ä¼ å…¥çš„å‚æ•°).</li>
<li>å¦‚ä¸‹å›¾ : åœ¨ <code>create_gate</code> å‡½æ•°ä¸­ : 
<ul>
<li>ä¹˜æ•° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span> åˆ†åˆ«åœ¨åŒä¸€è¡Œçš„ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  advice åˆ—  ;</li>
<li>ä¹˜ç§¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span>  å’Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> åŒåœ¨ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> åˆ—, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span></span></span></span> åœ¨ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>  çš„ä¸‹ä¸€è¡Œ : </li>
</ul>
</li>
<li>å¯ä»¥çœ‹åˆ°åœ¨ä»£ç ä¸­, éƒ½æ˜¯ä½¿ç”¨ ç›¸å¯¹ä½ç½®æ¥æè¿°çš„ !</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// | a0  | a1  | s_mul | 
// |-----|-----|-------|
// | lhs | rhs | s_mul |
// | out |     |       |
let lhs = meta.query_advice(advice[0], Rotation::cur());
let rhs = meta.query_advice(advice[1], Rotation::cur());
let out = meta.query_advice(advice[0], Rotation::next()); // Attention !!
<span class="boring">}</span></code></pre></pre>
<p>æœ€åå‡½æ•°è¿”å›å¤šé¡¹å¼çº¦æŸï¼š</p>
<ul>
<li>è‹¥ <code>s_mul</code> ä¸ä¸º 0ï¼Œåˆ™<strong>æ¿€æ´»</strong>æ ¡éªŒä¹˜æ³•çº¦æŸ : 
<ul>
<li>å½“ <code>s_mul * (lhs * rhs - out) == 0</code>ï¼Œåˆ™ <em>lhs * rhs = out</em> çº¦æŸæˆç«‹ï¼›</li>
<li>å½“ <code>s_mul * (lhs * rhs - out) != 0</code>ï¼Œ <em>lhs * rhs = out</em> çº¦æŸä¸æˆç«‹ï¼›ç¨‹åºæŠ¥é”™</li>
</ul>
</li>
<li>è‹¥ <code>s_mul</code> ä¸º 0ï¼Œåˆ™<strong>ä¸ä¼šæ¿€æ´»</strong>æ£€æŸ¥ä¹˜æ³•çº¦æŸï¼Œany subsequent values are fine</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl&lt;F: FieldExt&gt; FieldChip&lt;F&gt; {
    fn construct(config: &lt;Self as Chip&lt;F&gt;&gt;::Config) -&gt; Self {
        Self {
            config,
            _marker: PhantomData,
        }
    }

    fn configure(
        meta: &amp;mut ConstraintSystem&lt;F&gt;,
        advice: [Column&lt;Advice&gt;; 2],
        instance: Column&lt;Instance&gt;,
        constant: Column&lt;Fixed&gt;,
    ) -&gt; &lt;Self as Chip&lt;F&gt;&gt;::Config {
        meta.enable_equality(instance.into());
        meta.enable_constant(constant);
        for column in &amp;advice {
            meta.enable_equality((*column).into());
        }
        let s_mul = meta.selector();

        // å®šä¹‰æˆ‘ä»¬çš„ä¹˜æ³•é—¨
        meta.create_gate(&quot;mul&quot;, |meta| {
            // To implement multiplication, we need 3 advice `cells` 
            // and 1 selector.  We arrange them like so:
            //
            // | a0  | a1  | s_mul |
            // |-----|-----|-------|
            // | lhs | rhs | s_mul |
            // | out |     |       |
            //
            // é—¨å¯ä»¥ç”¨ä»»ä¸€ç›¸å¯¹åç§»ï¼Œä½†æ¯ä¸€ä¸ªä¸åŒçš„åç§»éƒ½ä¼šå¯¹è¯æ˜å¢åŠ å¼€é”€ã€‚
            // æœ€å¸¸è§çš„åç§»å€¼æ˜¯ 0 (å½“å‰è¡Œ), 1(ä¸‹ä¸€è¡Œ), -1(ä¸Šä¸€è¡Œ)ã€‚
            // é’ˆå¯¹è¿™ä¸‰ç§æƒ…å†µï¼Œæœ‰ç‰¹å®šçš„æ„é€ å‡½æ•°æ¥æ„é€ `Rotation` ç»“æ„ã€‚
            let lhs = meta.query_advice(advice[0], Rotation::cur());
            let rhs = meta.query_advice(advice[1], Rotation::cur());
            let out = meta.query_advice(advice[0], Rotation::next());
            let s_mul = meta.query_selector(s_mul);

            // æœ€ç»ˆï¼Œæˆ‘ä»¬å°†çº¦æŸé—¨çš„å¤šé¡¹å¼è¡¨è¾¾å¼è¿”å›ã€‚
            // å¯¹äºæˆ‘ä»¬çš„ä¹˜æ³•é—¨ï¼Œæˆ‘ä»¬ä»…éœ€è¦ä¸€ä¸ªå¤šé¡¹å¼çº¦æŸã€‚
            //
            // `create_gate` å‡½æ•°è¿”å›çš„å¤šé¡¹å¼è¡¨è¾¾å¼ï¼Œåœ¨è¯æ˜ç³»ç»Ÿä¸­ä¸€å®šç­‰äº0ã€‚
            // æˆ‘ä»¬çš„è¡¨è¾¾å¼æœ‰ä»¥ä¸‹æ€§è´¨ï¼š
            // - å½“ s_mul = 0 æ—¶ï¼Œlhs, rhs, out å¯ä»¥æ˜¯ä»»æ„å€¼ã€‚
            // - å½“ s_mul != 0 æ—¶ï¼Œlhs, rhs, out å°†æ»¡è¶³ lhs * rhs = out è¿™æ¡çº¦æŸã€‚ 
            vec![s_mul * (lhs * rhs - out)]
        });

        FieldConfig {
            advice,
            instance,
            s_mul,
            constant,
        }
    }
}
}
<span class="boring">}</span></code></pre></pre>
<h4 id="implement-chip-traits"><a class="header" href="#implement-chip-traits"><a href="https://trapdoor-tech.github.io/halo2-book-chinese/user/simple-example.html#%E5%AE%9E%E7%8E%B0%E8%8A%AF%E7%89%87%E5%8A%9F%E8%83%BD">Implement chip Traits</a></a></h4>
<p>The <code>instructions interface</code> we defined earlier needs to be implemented, and defining the implementation of Number is to en<strong>capsul</strong>ate(å°è£…) finite field elements.</p>
<p>the most critical functionÂ <em>mul</em> , take out 2 cells from <code>config</code> , check whether the input <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> and <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> are equal, and then return <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>  :</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>region.constrain_equal(a.cell, lhs)?;
region.constrain_equal(b.cell, rhs)?;
// ...
let value = a.value.and_then(|a| b.value.map(|b| a * b));
<span class="boring">}</span></code></pre></pre>
<p>It should be noted that, in addition to row and column, the position of the cell can also be determined by the relative position offset  (é™¤äº†è¡Œå’Œåˆ—ä¹‹å¤–ï¼Œå•å…ƒçš„ä½ç½®è¿˜å¯ä»¥é€šè¿‡ç›¸å¯¹ä½ç½®åç§»æ¥ç¡®å®š).</p>
<p>Generally, there are <code>3</code> types of offsets, 0 representing the current position, <code>1</code> representing the next position, and <code>-1</code> representing the previous position.</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
/// ç”¨äºè¡¨ç¤ºæ•°çš„å˜é‡
#[derive(Clone)]
struct Number&lt;F: FieldExt&gt; {
    cell: Cell,
    value: Option&lt;F&gt;,
}

impl&lt;F: FieldExt&gt; NumericInstructions&lt;F&gt; for FieldChip&lt;F&gt; {
    type Num = Number&lt;F&gt;;

    fn load_private(
        &amp;self,
        mut layouter: impl Layouter&lt;F&gt;,
        value: Option&lt;F&gt;,
    ) -&gt; Result&lt;Self::Num, Error&gt; {
        let config = self.config();

        let mut num = None;
        layouter.assign_region(
            || &quot;load private&quot;,
            |mut region| {
                let cell = region.assign_advice(
                    || &quot;private input&quot;,
                    config.advice[0],
                    0,
                    || value.ok_or(Error::SynthesisError),
                )?;
                num = Some(Number { cell, value });
                Ok(())
            },
        )?;
        Ok(num.unwrap())
    }

    fn load_constant(
        &amp;self,
        mut layouter: impl Layouter&lt;F&gt;,
        constant: F,
    ) -&gt; Result&lt;Self::Num, Error&gt; {
        let config = self.config();

        let mut num = None;
        layouter.assign_region(
            || &quot;load constant&quot;,
            |mut region| {
                let cell = region.assign_advice_from_constant(
                    || &quot;constant value&quot;,
                    config.advice[0],
                    0,
                    constant,
                )?;
                num = Some(Number {
                    cell,
                    value: Some(constant),
                });
                Ok(())
            },
        )?;
        Ok(num.unwrap())
    }

    fn mul(
        &amp;self,
        mut layouter: impl Layouter&lt;F&gt;,
        a: Self::Num,
        b: Self::Num,
    ) -&gt; Result&lt;Self::Num, Error&gt; {
        let config = self.config();

        let mut out = None;
        layouter.assign_region(
            || &quot;mul&quot;,
            |mut region: Region&lt;'_, F&gt;| {
                // åœ¨è¿™ä¸ª region ä¸­ï¼Œæˆ‘ä»¬åªæƒ³ç”¨ä¸€ä¸ªä¹˜æ³•é—¨ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ region åç§» 0 å¤„ï¼Œ
                //  æ¿€æ´»å®ƒï¼›è¿™æ„å‘³ç€å®ƒå°†å¯¹ 0 åç§» å’Œ 1åç§»å¤„çš„ä¸¤ä¸ª cells è¿›è¡Œçº¦æŸã€‚
                config.s_mul.enable(&amp;mut region, 0)?;

                // ç»™æˆ‘ä»¬çš„è¾“å…¥æœ‰å¯èƒ½åœ¨ç”µè·¯çš„ä»»ä¸€ä½ç½®ï¼Œä½†åœ¨å½“å‰ region ä¸­ï¼Œæˆ‘ä»¬ä»…å¯ä»¥ç”¨
                // ç›¸å¯¹åç§»ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨ region å†…åˆ†é…æ–°çš„ cells å¹¶é™å®šä»–ä»¬çš„å€¼ä¸è¾“å…¥ cells çš„å€¼ç›¸ç­‰ã€‚
                let lhs = region.assign_advice(
                    || &quot;lhs&quot;,
                    config.advice[0], // ç¬¬ 0 åˆ— (advice åˆ—)
                    0,                // ç¬¬ 0 è¡Œ
                    || a.value.ok_or(Error::SynthesisError), // æ”¾ a çš„å€¼è¿›å»
                )?;
                let rhs = region.assign_advice(
                    || &quot;rhs&quot;,
                    config.advice[1], // ç¬¬ 1 åˆ—, 
                    0,                // ç¬¬ 0 è¡Œ
                    || b.value.ok_or(Error::SynthesisError),
                )?;
                region.constrain_equal(a.cell, lhs)?;
                region.constrain_equal(b.cell, rhs)?;

                // ç°åœ¨æˆ‘ä»¬å¯ä»¥æŠŠä¹˜ç§¯æ”¾åˆ°è¾“å‡ºçš„ä½ç½®äº†ã€‚
                let value = a.value.and_then(|a| b.value.map(|b| a * b));
                let cell = region.assign_advice(
                    || &quot;lhs * rhs&quot;,
                    config.advice[0], // ç¬¬ 0 åˆ—,  (advice åˆ—)
                    1,                // ç¬¬ &quot;1&quot; è¡Œ !!
                    || value.ok_or(Error::SynthesisError), // æ”¾ value çš„å€¼è¿›å»
                )?;

                // æœ€åï¼Œæˆ‘ä»¬è¿”å›ä¸€ä¸ªç”¨æ¥è¡¨ç¤ºè¾“å‡ºçš„å˜é‡ï¼Œå®ƒä¼šè¢«ç”¨åœ¨ç”µè·¯çš„å¦ä¸€ä¸ªéƒ¨åˆ†ã€‚
                out = Some(Number { cell, value });
                Ok(())
            },
        )?;

        Ok(out.unwrap())
    }

    fn expose_public(
        &amp;self,
        mut layouter: impl Layouter&lt;F&gt;,
        num: Self::Num,
        row: usize,
    ) -&gt; Result&lt;(), Error&gt; {
        let config = self.config();

        layouter.constrain_instance(num.cell, config.instance, row)
    }
}}</code></pre></pre>
<h4 id="build-the-circuit"><a class="header" href="#build-the-circuit"><a href="https://trapdoor-tech.github.io/halo2-book-chinese/user/simple-example.html#%E6%9E%84%E9%80%A0%E7%94%B5%E8%B7%AF">Build the Circuit</a></a></h4>
<p>æ—¢ç„¶æˆ‘ä»¬å·²ç»æœ‰äº†æ‰€éœ€è¦çš„æŒ‡ä»¤ï¼Œä»¥åŠä¸€å—å®ç°äº†è¿™äº›æŒ‡ä»¤çš„èŠ¯ç‰‡ï¼Œæˆ‘ä»¬ç»ˆäºå¯ä»¥æ„é€ ç¤ºä¾‹ç”µè·¯å•¦</p>
<p>The <strong>circuit</strong> trait is the entrance to the circuit development. We need to define our own circuit structure and access the <em>witness</em> input.</p>
<p>struct <code>MyCircuit</code> : </p>
<ul>
<li>åœ¨è¿™ä¸ªç»“æ„ä½“ä¸­ï¼Œæˆ‘ä»¬ä¿å­˜éšç§è¾“å…¥å˜é‡ã€‚æˆ‘ä»¬ä½¿ç”¨  <code>Option&lt;F&gt;</code> ç±»å‹æ˜¯å› ä¸ºï¼Œåœ¨ç”Ÿæˆå¯†é’¥é˜¶æ®µï¼Œä»–ä»¬ä¸éœ€è¦æœ‰ä»»ä½•çš„å€¼ã€‚åœ¨è¯æ˜é˜¶æ®µä¸­ï¼Œå¦‚æœå®ƒä»¬ä»»ä¸€ä¸º <code>None</code> çš„è¯ï¼Œå°†å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚</li>
</ul>
<p>The interfaces defined before are all used here.Â <em>configure</em>Â creates a storage column for advice/instance/constant.Â <em>synthesize</em>Â uses a custom chip to get the input witness and constant, and finally, calculate the result and return the public input.</p>
<p>In fact, it can satisfy most scenarios by simply implementing theÂ <em>circuit</em>Â trait for general circuit development. Some common functions of the chip have already been implemented in Halo 2.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct MyCircuit&lt;F: FieldExt&gt; {
    constant: F,
    a: Option&lt;F&gt;,
    b: Option&lt;F&gt;,
}

impl&lt;F: FieldExt&gt; Circuit&lt;F&gt; for MyCircuit&lt;F&gt; {
    // å› ä¸ºæˆ‘ä»¬åœ¨ä»»ä¸€åœ°æ–¹å€¼ç”¨äº†ä¸€ä¸ªèŠ¯ç‰‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é‡ç”¨å®ƒçš„é…ç½®ã€‚
    type Config = FieldConfig;
    type FloorPlanner = SimpleFloorPlanner;

    fn without_witnesses(&amp;self) -&gt; Self {
        Self::default()
    }

    fn configure(meta: &amp;mut ConstraintSystem&lt;F&gt;) -&gt; Self::Config {
        // æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ª advice åˆ—ï¼Œä½œä¸º FieldChip çš„è¾“å…¥ã€‚
        let advice = [meta.advice_column(), meta.advice_column()];

        // æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ª instance åˆ—æ¥å­˜å‚¨å…¬å¼€è¾“å…¥ã€‚
        let instance = meta.instance_column();

        // åˆ›å»ºä¸€ä¸ª fixed åˆ—æ¥åŠ è½½å¸¸æ•°
        let constant = meta.fixed_column();

        FieldChip::configure(meta, advice, instance, constant)
    }
    // Prove a2â‹…b2 = c
    fn synthesize(
        &amp;self,
        config: Self::Config,
        mut layouter: impl Layouter&lt;F&gt;,
    ) -&gt; Result&lt;(), Error&gt; {
        let field_chip = FieldChip::&lt;F&gt;::construct(config);

        // å°†æˆ‘ä»¬çš„éšç§å€¼åŠ è½½åˆ°ç”µè·¯ä¸­ã€‚
        let a = field_chip.load_private(layouter.namespace(|| &quot;load a&quot;), self.a)?;
        let b = field_chip.load_private(layouter.namespace(|| &quot;load b&quot;), self.b)?;

        // å°†å¸¸æ•°å› å­åŠ è½½åˆ°ç”µè·¯ä¸­
        let constant =
            field_chip.load_constant(layouter.namespace(|| &quot;load constant&quot;), self.constant)?;

        // æˆ‘ä»¬ä»…æœ‰ä¹˜æ³•å¯ç”¨ï¼Œå› æ­¤æˆ‘ä»¬æŒ‰ä»¥ä¸‹æ–¹æ³•å®ç°ç”µè·¯ï¼š
        //     asq  = a*a
        //     bsq  = b*b
        //     absq = asq*bsq
        //     c    = constant*asq*bsq
        //
        // ä½†æ˜¯ï¼ŒæŒ‰ä¸‹é¢çš„æ–¹æ³•å®ç°ï¼Œæ›´åŠ é«˜æ•ˆ: 
        //     ab   = a*b
        //     absq = ab^2
        //     c    = constant*absq
        let ab = field_chip.mul(layouter.namespace(|| &quot;a * b&quot;), a, b)?;
        let absq = field_chip.mul(layouter.namespace(|| &quot;ab * ab&quot;), ab.clone(), ab)?;
        let c = field_chip.mul(layouter.namespace(|| &quot;constant * absq&quot;), constant, absq)?;

        // å°†ç»“æœä½œä¸ºç”µè·¯çš„å…¬å¼€è¾“å…¥è¿›è¡Œå…¬å¼€
        field_chip.expose_public(layouter.namespace(|| &quot;expose c&quot;), c, 0)
    }
} }
<span class="boring">}</span></code></pre></pre>
<h4 id="testing-the-circuit"><a class="header" href="#testing-the-circuit"><a href="https://zcash.github.io/halo2/user/simple-example.html#testing-the-circuit">Testing the circuit</a></a></h4>
<p>TheÂ <em>MockProver</em>Â andÂ <em>CircuitLayout</em>Â that we mentioned in the chapter about tools can come in handy (æ´¾ä¸Šç”¨åœº).</p>
<p>å¯ä»¥ç”¨Â <code>halo2::dev::MockProver</code>Â æ¥æµ‹è¯•ä¸€ä¸ªç”µè·¯æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚æ„é€ ç”µè·¯çš„ä¸€ç»„ Private/Public input ï¼Œè¿™ç»„è¾“å…¥å¯ç›´æ¥ç”¨æ¥è®¡ç®—åˆæ³•è¯æ˜ï¼Œä½†æˆ‘ä»¬æŠŠè¿™ç»„è¾“å…¥ä¼ å…¥åˆ° <code>MockProver::run</code> å‡½æ•°ä¸­ä¹‹åï¼Œå°±èƒ½å¾—åˆ°ä¸€ä¸ªå¯ç”¨äºæ£€éªŒç”µè·¯ä¸­æ¯ä¸€æ¡çº¦æŸæ˜¯å¦æ»¡è¶³çš„å¯¹è±¡ã€‚è€Œä¸”ç”µè·¯éªŒè¯ä¸è¿‡ï¼Œè¿™ä¸ªå¯¹è±¡è¿˜èƒ½è¾“å‡ºé‚£æ¡ä¸æ»¡è¶³çš„çº¦æŸ</p>
<p>å¦‚ä¸‹ä»£ç  , <code>MockProver::run</code>  ä¸­åªçŸ¥é“ Public input <code>c</code> , ä»–å¹¶ä¸çŸ¥é“ Private æ˜¯ä»€ä¹ˆ, ä½†ä»å¯ä»¥è¿›è¡ŒéªŒè¯</p>
<pre><pre class="playground"><code class="language-rust">fn main() {
    // æˆ‘ä»¬ç”µè·¯çš„è¡Œæ•°ä¸èƒ½è¶…è¿‡ 2^k. å› ä¸ºæˆ‘ä»¬çš„ç¤ºä¾‹ç”µè·¯å¾ˆå°ï¼Œæˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªè¾ƒå°çš„å€¼
    let k = 4;

    // å‡†å¤‡å¥½ç”µè·¯çš„éšç§è¾“å…¥å’Œå…¬å¼€è¾“å…¥
    let constant = Fp::from(7);
    let a = Fp::from(2);
    let b = Fp::from(3);
    let c = constant * a.square() * b.square();  // ç®—å‡ºæ¥

    // ç”¨éšç§è¾“å…¥æ¥å®ä¾‹åŒ–ç”µè·¯
    let circuit = MyCircuit {
        constant,
        a: Value::known(a),
        b: Value::known(b),
    };

    // å°†å…¬å¼€è¾“å…¥è¿›è¡Œæ’åˆ—ã€‚ä¹˜æ³•çš„ç»“æœè¢«æˆ‘ä»¬æ”¾ç½®åœ¨ instance åˆ—çš„ç¬¬0è¡Œï¼Œ
    // æ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒæ”¾åœ¨å…¬å¼€è¾“å…¥çš„å¯¹åº”ä½ç½®ã€‚
    let mut public_inputs = vec![c];

    // ç»™å®šæ­£ç¡®çš„å…¬å¼€è¾“å…¥ï¼Œæˆ‘ä»¬çš„ç”µè·¯èƒ½éªŒè¯é€šè¿‡
    let prover = MockProver::run(k, &amp;circuit, vec![public_inputs.clone()]).unwrap();
    assert_eq!(prover.verify(), Ok(()));

    // å¦‚æœæˆ‘ä»¬å°è¯•ç”¨å…¶ä»–çš„å…¬å¼€è¾“å…¥(æ­¤å¤„æ˜¯ +1)ï¼Œè¯æ˜å°†å¤±è´¥ï¼
    public_inputs[0] += Fp::one();
    let prover = MockProver::run(k, &amp;circuit, vec![public_inputs]).unwrap();
    assert!(prover.verify().is_err());
}</code></pre></pre>
<h3 id="code-ref--full-example"><a class="header" href="#code-ref--full-example">Code Ref / <a href="https://zcash.github.io/halo2/user/simple-example.html#full-example">Full example</a></a></h3>
<p>You can find the source code for this exampleÂ <a href="https://github.com/zcash/halo2/tree/main/halo2_proofs/examples/simple-example.rs">here</a>.</p>
<pre><code class="language-bash">cargo run --example simple-example
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<p><code>Question</code> :  è¿™ä»½ä»£ç æˆ‘æ²¡æ˜ç™½çš„æ˜¯, ä½ å¯ä»¥éšæ„ä¿®æ”¹ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="color:red;">e</span><span class="mord mathnormal" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathnormal" style="color:red;">e</span><span class="mord" style="color:red;"><span class="mord mathnormal" style="color:red;">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord" style="color:red;">/</span><span class="mord mathnormal" style="color:red;">e</span><span class="mord mathnormal" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathnormal" style="color:red;">e</span><span class="mord" style="color:red;"><span class="mord mathnormal" style="color:red;">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„å€¼, ä¹Ÿä¸å½±å“ Test é€šè¿‡, æ„Ÿè§‰å°‘äº†ä¸€äº› <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;color:red;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;color:red;">r</span><span class="mord mathnormal" style="color:red;">i</span><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">v</span><span class="mord mathnormal" style="color:red;">a</span><span class="mord mathnormal" style="color:red;">t</span><span class="mord mathnormal" style="color:red;">e</span><span class="mspace" style="color:red;"><span style="color:red;">Â </span></span><span class="mspace" style="color:red;"><span style="color:red;">Â </span></span><span class="mord mathnormal" style="color:red;">in</span><span class="mord mathnormal" style="color:red;">p</span><span class="mord mathnormal" style="color:red;">u</span><span class="mord mathnormal" style="color:red;">t</span><span class="mclose" style="color:red;">?</span></span></span></span></p>
<p><code>Goal</code> :    <strong>Given <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">0</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> , we will prove <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord">9</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> .</strong></p>
<pre><code class="language-bash">    1, 1, 2, 3, 5, 8, 13, ...

    | elem_1 | elem_2 | sum | q_fib
    --------------------------------
    |    1   |    1   |  2  |   1
    |    1   |    2   |  3  |   1
    |    2   |    3   |  5  |   1
    |        |        |     |   0

    q_fib * (elem_1 + elem_2 - elem_3) = 0
</code></pre>
<p><img src="http://imagesoda.oss-cn-beijing.aliyuncs.com/Sodaoo/2023-08-25-160959.png" alt="" /></p>
<p>![[Fibonacci(halo2).excalidraw]]</p>
<h3 id="struct-config"><a class="header" href="#struct-config">struct config</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct Config {
    elem_1: Column&lt;Advice&gt;,
    elem_2: Column&lt;Advice&gt;,
    elem_3: Column&lt;Advice&gt;,
    q_fib: Selector,
}
<span class="boring">}</span></code></pre></pre>
<h3 id="impl-config--"><a class="header" href="#impl-config--">impl Config { ...</a></h3>
<h4 id="fn-configure"><a class="header" href="#fn-configure">fn configure</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn configure&lt;F: Field&gt;(cs: &amp;mut ConstraintSystem&lt;F&gt;) -&gt; Self {
	// before using Permutation Argument, you need to enable_quality...
	let elem_1 = cs.advice_column();
	cs.enable_equality(elem_1);
	let elem_2 = cs.advice_column();
	cs.enable_equality(elem_2);
	let elem_3 = cs.advice_column();
	cs.enable_equality(elem_3);
	let q_fib = cs.selector();

	cs.create_gate(&quot;fibonacci&quot;, | virtual_cells | {
		let q_fib = virtual_cells.query_selector(q_fib);
		// if Rotation::next`  means  `Ï‰x`
		// è¿™ 3 åˆ—éƒ½åœ¨åŒä¸€è¡Œ, æ‰€ä»¥éƒ½æ˜¯ Rotation::cur()
		let elem_1 = virtual_cells.query_advice(elem_1, Rotation::cur());
		let elem_2 = virtual_cells.query_advice(elem_2, Rotation::cur());
		let elem_3 = virtual_cells.query_advice(elem_3, Rotation::cur());
        // q_fib * (elem_1 + elem_2 - elem_3) = 0
		vec![ q_fib * (elem_1 + elem_2 - elem_3), ]
	});
	Self { elem_1, elem_2, elem_3, q_fib }
}
<span class="boring">}</span></code></pre></pre>
<p>Q: <code>virtual_cells</code> æ˜¯ä»€ä¹ˆæ„æ€ ? </p>
<p>A by GPT : åœ¨Halo2çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œ<code>virtual_cells</code> è¿™ä¸ªåå­—å¯èƒ½ä¸æ˜¯æœ€è‡ªæ˜çš„ï¼Œä½†å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼Œå½“æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ–°çš„é—¨æˆ–çº¦æŸæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹å¼æ¥å¼•ç”¨å’ŒæŸ¥è¯¢ç”µè·¯çš„å„ä¸ªéƒ¨åˆ†ã€‚è¿™å°±æ˜¯ <code>virtual_cells</code> æ‰€åšçš„äº‹æƒ…ã€‚</p>
<p>åœ¨ <code>configure</code> å‡½æ•°ä¸­å®šä¹‰é—¨æ—¶ï¼Œä½ é€šå¸¸ä¼šä¸ºå…¶æä¾›ä¸€ä¸ªé—­åŒ…ï¼Œè¯¥é—­åŒ…æè¿°äº†ä½ çš„çº¦æŸå¦‚ä½•å·¥ä½œã€‚ä¸ºäº†æè¿°è¿™äº›çº¦æŸï¼Œä½ éœ€è¦æŸ¥è¯¢ç”µè·¯çš„æŸäº›å€¼ã€‚è¿™äº›å€¼å¯èƒ½åœ¨å»ºè®®çš„åˆ—ã€æŸ¥æ‰¾åˆ—æˆ–å›ºå®šåˆ—ä¸­ã€‚</p>
<p>è¿™å°±æ˜¯ <code>virtual_cells</code> çš„ä½œç”¨ï¼šå®ƒæä¾›äº†ä¸€ä¸ªæ–¹æ³•æ¥æŸ¥è¯¢è¿™äº›å€¼ï¼Œä¸ç®¡å®ƒä»¬æ˜¯åœ¨å“ªä¸ªåˆ—ä¸­ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ ä¼šçœ‹åˆ°ä»£ç ç±»ä¼¼äº:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let q_fib = virtual_cells.query_selector(q_fib);
let elem_1 = virtual_cells.query_advice(elem_1, Rotation::cur()); // ....
<span class="boring">}</span></code></pre></pre>
<p>ä½¿ç”¨ <code>virtual_cells</code> å…è®¸ä½ ä»¥ä¸€ä¸ªç»Ÿä¸€çš„æ–¹å¼æ¥æŸ¥è¯¢è¿™äº›å€¼ï¼Œå¹¶å°†å®ƒä»¬ç”¨äºä½ çš„çº¦æŸæè¿°ã€‚è¿™ä½¿å¾—ç”µè·¯çš„å®šä¹‰æ›´åŠ æ¸…æ™°ï¼Œå°¤å…¶æ˜¯å½“ä½ éœ€è¦å¤„ç†å¤šç§ä¸åŒç±»å‹çš„åˆ—æ—¶ã€‚</p>
<p>æ€»ä¹‹ï¼Œ<code>virtual_cells</code> ä¸ºç”µè·¯çš„çº¦æŸæä¾›äº†æŸ¥è¯¢æ¥å£ï¼Œè®©ä½ å¯ä»¥åœ¨å®šä¹‰é—¨æˆ–çº¦æŸæ—¶è®¿é—®å’Œæ“ä½œå®ƒä»¬ã€‚</p>
<h4 id="fn-init"><a class="header" href="#fn-init">fn init</a></h4>
<p><code>init</code> è´Ÿè´£åˆå§‹åŒ– Fibonacci åºåˆ—å‰ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span> ä¸ªæ•° , è¿”å›ç¬¬ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">3</span><span class="mclose">)</span></span></span></span> ä¸ªæ•°</p>
<ul>
<li><code>offset</code> å®šä¹‰äº†è¯¥åŒºåŸŸä¸­çš„è¡Œçš„ä½ç½® (ç¬¬ä¸€è¡Œ)</li>
<li><code>q_fib</code> Selector é€‰æ‹©å™¨: æŸçº¦æŸåœ¨æŸä¸€è¡Œä¸Šæ˜¯å¦éœ€è¦æˆç«‹ </li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn init&lt;F: Field&gt;(
  &amp;self,
  mut layouter: impl Layouter&lt;F&gt;,
  elem_1: Value&lt;F&gt;,
  elem_2: Value&lt;F&gt;,
) -&gt; Result&lt;(
  AssignedCell&lt;F, F&gt;, // elem_2
  AssignedCell&lt;F, F&gt;  // elem_3
), Error&gt; {
  layouter.assign_region(|| &quot;init Fibonacci&quot;, |mut region| {
    let offset = 0;  // offset å®šä¹‰äº†è¯¥åŒºåŸŸä¸­çš„è¡Œçš„ä½ç½® (ç¬¬ä¸€è¡Œ)            
    self.q_fib.enable(&amp;mut region, offset)?;  // Enable q_fib

    // Assign elem_1
    region.assign_advice(|| &quot;elem_1&quot;, self.elem_1, offset, || elem_1)?;

    // Assign elem_2
    let elem_2 = region.assign_advice(|| &quot;elem_2&quot;, self.elem_2, offset, || elem_2)?;

    let e3_val = elem_1 + elem_2.value_field().evaluate();
    // Assign elem_3
    let elem_3 = region.assign_advice(|| &quot;elem_3&quot;, self.elem_3, offset, || e3_val)?;
    Ok ((elem_2, elem_3))
  })
}
<span class="boring">}</span></code></pre></pre>
<h4 id="fn-assign"><a class="header" href="#fn-assign">fn assign</a></h4>
<p><strong>copy_advice  vs  assign_advice</strong>   i.e.   <strong>å¤åˆ¶ vs. é‡æ–°èµ‹å€¼</strong>: </p>
<ul>
<li>å½“æˆ‘ä»¬è¯´â€œå¤åˆ¶â€ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯è¯´æˆ‘ä»¬è¦ç¡®ä¿ä¸€ä¸ª Region-Cell çš„å€¼ä¸å¦ä¸€ä¸ª Region-Cell ä¸­çš„å€¼æ˜¯ç›¸åŒçš„ã€‚ä¸å…¶ä¸ºæ¯ä¸ªåœ°æ–¹é‡æ–°è®¡ç®—/åˆ†é…(assign)ä¸€ä¸ªå€¼ï¼Œä¸å¦‚ç®€å•åœ°â€œå¤åˆ¶â€è¯¥å€¼åˆ°æ–°ä½ç½®ï¼Œä»¥ç¡®ä¿å®ƒä»¬æ˜¯ä¸€æ ·çš„ã€‚</li>
<li><strong>Permutations and Copy Constraints</strong>:  Halo2ä½¿ç”¨ä¸€ç§ç§°ä¸º&quot;permutation argument&quot;çš„æŠ€æœ¯æ¥ç¡®ä¿ä¸¤ä¸ªæˆ–å¤šä¸ªå•å…ƒæ ¼ä¸­çš„å€¼æ˜¯ç›¸åŒçš„ã€‚<code>copy_advice</code> å®é™…ä¸Šæ˜¯åœ¨èƒŒåä½¿ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œé€šè¿‡å¼•å…¥ä¸€ä¸ªé¢å¤–çš„çº¦æŸæ¥ç¡®ä¿å€¼çš„ä¸€è‡´æ€§ã€‚</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn assign&lt;F: Field&gt;(
	&amp;self,
	mut layouter: impl Layouter&lt;F&gt;,
	elem_2: AssignedCell&lt;F, F&gt;,
	elem_3: AssignedCell&lt;F, F&gt;,
) -&gt; Result&lt;(
	AssignedCell&lt;F, F&gt;, // elem_2
	AssignedCell&lt;F, F&gt;  // elem_3
), Error&gt; {
	layouter.assign_region(|| &quot;steady-state Fibonacci&quot;, |mut region| {
		let offset = 0;

		// Enable q_fib
		self.q_fib.enable(&amp;mut region, offset)?;

		// Copy elem_1 (which is the previous elem_2)
		let elem_1 = elem_2.copy_advice(|| &quot;copy elem_2 into current elem_1&quot;, &amp;mut region, self.elem_1, offset)?;

		// Copy elem_2 (which is the previous elem_3)
		let elem_2 = elem_3.copy_advice(|| &quot;copy elem_3 into current elem_2&quot;, &amp;mut region, self.elem_2, offset)?;

		let e3_val = elem_1.value_field().evaluate() + elem_2.value_field().evaluate();
		// Assign elem_3
		let elem_3 = region.assign_advice(|| &quot;elem_3&quot;, self.elem_3, offset, || e3_val)?;

		Ok((
			elem_2,
			elem_3
		))
	})
}
<span class="boring">}</span></code></pre></pre>
<p>Q: ä¸ºä»€ä¹ˆ <code>elem_2.copy_advice</code>  æ²¡æœ‰ä½¿ç”¨ <code>assign_advice</code> ? </p>
<p>A: å¦‚ä¸‹ : æ­£åœ¨å°†å‰ä¸€ä¸ª Region ä¸­çš„ <code>elem_2</code> å¤åˆ¶åˆ°å½“å‰ Region ä¸­çš„ <code>elem_1</code>ã€‚è¿™æ„å‘³ç€ä½ å¸Œæœ›å½“å‰ Region çš„ <code>elem_1</code> å’Œå‰ä¸€ä¸ª Region çš„ <code>elem_2</code> æŒæœ‰ç›¸åŒçš„å€¼ </p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let elem_1 = elem_2.copy_advice(|| &quot;copy elem_2 into current elem_1&quot;, &amp;mut region, self.elem_1, offset)?;
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p>ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Ÿå› ä¸º Fibonacci åºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯å‰ 2 ä¸ªæ•°å­—çš„å’Œã€‚ä½ æ­£åœ¨æ»‘åŠ¨åºåˆ—ï¼Œæ‰€ä»¥å‰ä¸€ä¸ªæ•°å­—ï¼ˆå‰ä¸€ä¸ªåŒºåŸŸçš„ <code>elem_2</code>ï¼‰ç°åœ¨æˆä¸ºå½“å‰åŒºåŸŸçš„ <code>elem_1</code> </p>
</blockquote>
<h3 id="test"><a class="header" href="#test">Test</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>    #[test]
    fn test_fib() {

        let circuit = MyCircuit {
            elem_1: Value::known(Fp::one()), // 1
            elem_2: Value::known(Fp::from(2)), // 1 ??
        };

        let prover = MockProver::run(3, &amp;circuit, vec![]).unwrap();
        prover.assert_satisfied();
    }
<span class="boring">}</span></code></pre></pre>
<p>laiyingtong çš„è¿™ä»½ä»£ç æˆ‘æ²¡æ˜ç™½çš„æ˜¯, ä½ å¯ä»¥éšæ„ä¿®æ”¹ elem_1 / elem_2 çš„å€¼, ä¹Ÿä¸å½±å“ Test é€šè¿‡, æ„Ÿè§‰å°‘äº†ä¸€äº› Private input ? </p>
<pre><code class="language-bash">cargo test
</code></pre>
<h3 id="reference-"><a class="header" href="#reference-">Reference :</a></h3>
<ul>
<li>https://github.com/therealyingtong/halo2-hope/blob/main/src/fibonacci.rs</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<p>Q: åœ¨ Example 2 çš„ assign å‡½æ•°ä¸­, </p>
<h3 id="example-1"><a class="header" href="#example-1">example 1</a></h3>
<p><img src="http://imagesoda.oss-cn-beijing.aliyuncs.com/Sodaoo/2023-08-25-160959.png" alt="" /></p>
<h4 id="struct-components"><a class="header" href="#struct-components">struct components</a></h4>
<h5 id="acell"><a class="header" href="#acell">ACell</a></h5>
<ul>
<li>ACell æ˜¯ä¸€ä¸ª <em>tuple struct</em> , </li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use std::marker::PhantomData;

use halo2_proofs::{arithmetic::FieldExt, circuit::*, plonk::*, poly::Rotation};

#[derive(Debug, Clone)]
struct ACell&lt;F: FieldExt&gt;(AssignedCell&lt;F, F&gt;);
<span class="boring">}</span></code></pre></pre>
<p><strong>Why ACell ?</strong></p>
<ol>
<li><strong>å°è£…å’ŒæŠ½è±¡</strong>ï¼šé€šè¿‡ä½¿ç”¨ <code>ACell</code>ï¼Œæˆ‘ä»¬ä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªç®€åŒ–å’Œæ›´ç›´è§‚çš„æ¥å£ï¼Œä½¿ä»–ä»¬å¯ä»¥æ›´å®¹æ˜“åœ°ä¸å·²åˆ†é…çš„å•å…ƒæ ¼è¿›è¡Œäº¤äº’ï¼Œè€Œä¸å¿…æ¯æ¬¡éƒ½ç›´æ¥å¤„ç† <code>AssignedCell</code>ã€‚</li>
<li><strong>çµæ´»æ€§</strong>ï¼šå°†æ¥ï¼Œå¦‚æœæˆ‘ä»¬æƒ³åœ¨ <code>ACell</code> ä¸­æ·»åŠ æ›´å¤šçš„åŠŸèƒ½æˆ–å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšè€Œä¸å½±å“ç°æœ‰çš„ä»£ç ã€‚</li>
<li>æ•… : <code>ACell</code> ä¸»è¦æ˜¯ä¸€ä¸ªè¾…åŠ©ç»“æ„ä½“ï¼Œç”¨äºç®€åŒ–ä¸ç”µè·¯ä¸­å•å…ƒæ ¼çš„äº¤äº’ã€‚</li>
</ol>
<p><strong>å…ƒç´ è®¿é—® :</strong> </p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// å› ä¸º `ACell` æ˜¯å¯¹ `AssignedCell` çš„ç®€å•åŒ…è£…ï¼Œ
// æ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨ `.0` è¯­æ³•æ¥è®¿é—®å…¶å†…éƒ¨çš„ `AssignedCell` :  `prev_b.0`
let c_val = prev_b.0.value().copied() + prev_c.0.value();
<span class="boring">}</span></code></pre></pre>
<p><code>.map</code> è®¿é—® :</p>
<ul>
<li>å…·ä½“æ¥è¯´ï¼Œ<code>assign_advice</code> è¿”å›çš„æ˜¯ <code>Result&lt;AssignedCell&lt;F, F&gt;, Error&gt;</code>ï¼Œ <code>.map(ACell)</code> ä¼šå°†å…¶è½¬æ¢ä¸º <code>Result&lt;ACell&lt;F&gt;, Error&gt;</code> </li>
<li>å…ƒç»„ç»“æ„ä½“æœ¬èº«å¯ä»¥ä½œä¸ºå‡½æ•°æ¥è°ƒç”¨, ç›¸å½“äºè°ƒç”¨ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„æ„é€ å‡½æ•°ã€‚</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// when call .map() , æˆ‘ä»¬æä¾›ä¸€ä¸ªå‡½æ•°ï¼Œå°†å…¶åº”ç”¨äº Result å†…çš„ Ok çš„å€¼ï¼ˆif soï¼‰
// æœ¬ä¾‹ä¸­ä¼ é€’çš„å‡½æ•°æ˜¯ ACell çš„æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯å°† AssignedCell è½¬æ¢æˆ ACell
// å¯¹äº tuple struct, å¦‚ `let black = Color(0, 0, 0);`
// therefore  `AssignedCell&lt;F, F&gt;` æœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°
let a_cell = region
    .assign_advice(|| &quot;a&quot;, self.config.advice[0], 0, || a)
    .map(ACell)?;
<span class="boring">}</span></code></pre></pre>
<h5 id="fiboconfig--fibochip"><a class="header" href="#fiboconfig--fibochip">FiboConfig / FiboChip</a></h5>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct FiboConfig {
    pub advice: [Column&lt;Advice&gt;; 3],
    pub selector: Selector,
    pub instance: Column&lt;Instance&gt;,
}

struct FiboChip&lt;F: FieldExt&gt; {
    config: FiboConfig, // â†‘ ğŸ‘†ğŸ»
    _marker: PhantomData&lt;F&gt;,
}
<span class="boring">}</span></code></pre></pre>
<h4 id="impl-fibochip--"><a class="header" href="#impl-fibochip--">impl FiboChip { ...</a></h4>
<h5 id="fn-configure-1"><a class="header" href="#fn-configure-1">fn configure</a></h5>
<ul>
<li><code>meta</code>: æ˜¯å¯¹çº¦æŸç³»ç»Ÿçš„å¯å˜å¼•ç”¨ï¼Œå…è®¸æˆ‘ä»¬åœ¨å…¶ä¸­é…ç½®åˆ—å’Œçº¦æŸã€‚</li>
<li>Selector : ç”¨äºæ¿€æ´»æˆ–ç¦ç”¨æŸäº›ç‰¹å®šçº¦æŸ</li>
<li><code>meta.query_selector</code> : Query a selector at the current position.</li>
<li><code>Query an advice column at a relative position</code> : Query an advice column at a relative position</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl&lt;F: FieldExt&gt; FiboChip&lt;F&gt; {
    pub fn construct(config: FiboConfig) -&gt; Self {
        Self {
            config,
            _marker: PhantomData,
        }
    }

    pub fn configure(
        meta: &amp;mut ConstraintSystem&lt;F&gt;,
        advice: [Column&lt;Advice&gt;; 3],
        instance: Column&lt;Instance&gt;,
    ) -&gt; FiboConfig {
        let col_a = advice[0]; // å¯¹æ¯ä¸ª advice åˆ—è¿›è¡Œå‘½å
        let col_b = advice[1];
        let col_c = advice[2];
        let selector = meta.selector();

        meta.enable_equality(col_a);
        meta.enable_equality(col_b);
        meta.enable_equality(col_c);
        meta.enable_equality(instance);

        meta.create_gate(&quot;add&quot;, |meta| {
            //
            // col_a | col_b | col_c | selector
            //   a      b        c       s
            //
            // Query a selector at the current position.
            let s = meta.query_selector(selector);
            let a = meta.query_advice(col_a, Rotation::cur());
            let b = meta.query_advice(col_b, Rotation::cur());
            let c = meta.query_advice(col_c, Rotation::cur());
            vec![s * (a + b - c)]
        });

        FiboConfig {
            advice: [col_a, col_b, col_c],
            selector,
            instance,
        }
    }
<span class="boring">}</span></code></pre></pre>
<h5 id="fn-assign_first_row"><a class="header" href="#fn-assign_first_row">fn assign_first_row</a></h5>
<ul>
<li>æœ¬å‡½æ•°çš„ä½œç”¨: ä¸º Fibonacci list çš„ç¬¬ä¸€è¡Œçš„å‰ 2 ä¸ªå…ƒç´ åˆ†é…å€¼ <code>1 </code>  , è¿”å›å‰ 3 ä¸ªå…ƒç´  <code>a_cell, b_cell, c_cell</code></li>
<li><code>layouter.assign_region</code>
<ul>
<li><code>region.assign_advice(|| &quot;a&quot;, self.config.advice[0], 0, || a)</code></li>
<li>å‡½æ•°æºç : [[halo2 Source Code#assign_advice]]</li>
</ul>
</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[allow(clippy::type_complexity)]
pub fn assign_first_row(
	&amp;self,
	mut layouter: impl Layouter&lt;F&gt;,
	a: Value&lt;F&gt;,
	b: Value&lt;F&gt;,
) -&gt; Result&lt;(ACell&lt;F&gt;, ACell&lt;F&gt;, ACell&lt;F&gt;), Error&gt; {
	layouter.assign_region(
		|| &quot;first row&quot;,
		|mut region| {
			self.config.selector.enable(&amp;mut region, 0)?;

			let a_cell = region
				.assign_advice(|| &quot;a&quot;, self.config.advice[0], 0, || a)
				.map(ACell)?;

			let b_cell = region
				.assign_advice(|| &quot;b&quot;, self.config.advice[1], 0, || b)
				.map(ACell)?;

			let c_cell = region
				.assign_advice(|| &quot;c&quot;, self.config.advice[2], 0, || a + b)
				.map(ACell)?;

			Ok((a_cell, b_cell, c_cell))
		},
	) }
<span class="boring">}</span></code></pre></pre>
<h5 id="fn-assign_row"><a class="header" href="#fn-assign_row">fn assign_row</a></h5>
<ul>
<li><code>layouter.assign_region</code>
<ul>
<li><code>copy_advice()</code>å°† <code>prev_b</code> å’Œ <code>prev_c</code> çš„å€¼å¤åˆ¶åˆ°å½“å‰è¡Œçš„ <strong>å‰ 2 åˆ—(a/b column)</strong>ã€‚è¿™æ„å‘³ç€å‰ä¸€ä¸ª<code>b</code>å€¼è¢«å¤åˆ¶åˆ°æ–°è¡Œçš„ç¬¬ä¸€åˆ—ï¼ˆæ ‡è®°ä¸º<code>a</code>ï¼‰ï¼Œå‰ä¸€ä¸ª<code>c</code>å€¼è¢«å¤åˆ¶åˆ°æ–°è¡Œçš„ç¬¬äºŒåˆ—ï¼ˆæ ‡è®°ä¸º<code>b</code>ï¼‰</li>
<li>è®¡ç®—æ–°çš„æ–æ³¢é‚£å¥‘æ•°<code>c_val</code>ï¼Œå®ƒæ˜¯<code>prev_b</code>å’Œ<code>prev_c</code>çš„å’Œã€‚</li>
<li>ä½¿ç”¨<code>assign_advice</code>åˆ†é…<code>c_val</code>åˆ°æ–°è¡Œçš„ç¬¬ä¸‰åˆ—ï¼Œå¹¶è¿”å›æ­¤å€¼çš„ <code>ACell</code></li>
</ul>
</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn assign_row(
  &amp;self, // å½“å‰`FiboChip`å®ä¾‹çš„å¼•ç”¨
  mut layouter: impl Layouter&lt;F&gt;,
  prev_b: &amp;ACell&lt;F&gt;,
  prev_c: &amp;ACell&lt;F&gt;,  // Fibonacci æ•°åˆ—ä¸­çš„å‰ 2 ä¸ªæ•°å­—
) -&gt; Result&lt;ACell&lt;F&gt;, Error&gt; {
  layouter.assign_region(
    || &quot;next row&quot;,
    |mut region| {
      self.config.selector.enable(&amp;mut region, 0)?;

      prev_b
        .0
        .copy_advice(|| &quot;a&quot;, &amp;mut region, self.config.advice[0], 0)?;
      prev_c
        .0
        .copy_advice(|| &quot;b&quot;, &amp;mut region, self.config.advice[1], 0)?;

      let c_val = prev_b.0.value().copied() + prev_c.0.value();

      let c_cell = region
        .assign_advice(|| &quot;c&quot;, self.config.advice[2], 0, || c_val)
        .map(ACell)?;

      Ok(c_cell)
    },
  )
}
<span class="boring">}</span></code></pre></pre>
<h4 id="fn-expose_public"><a class="header" href="#fn-expose_public">fn expose_public</a></h4>
<ul>
<li><code>expose_public</code> : å°†æŒ‡å®šçš„ <code>ACell</code> å…¬å¼€ä¸º Public Input.</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn expose_public(
	&amp;self,
	mut layouter: impl Layouter&lt;F&gt;,
	cell: &amp;ACell&lt;F&gt;,
	row: usize,
) -&gt; Result&lt;(), Error&gt; {
	layouter.constrain_instance(cell.0.cell(), self.config.instance, row)
}

// 
chip.expose_public(layouter.namespace(|| &quot;private a&quot;), &amp;prev_a, 0)?;
chip.expose_public(layouter.namespace(|| &quot;private b&quot;), &amp;prev_b, 1)?;
<span class="boring">}</span></code></pre></pre>
<h4 id="mycircuit"><a class="header" href="#mycircuit">MyCircuit</a></h4>
<ol>
<li><code>let chip = FiboChip::construct(config);</code> : ä¼ å…¥ <code>config</code> åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>FiboChip</code> å®ä¾‹</li>
<li><code>chip.assign_first_row(layouter.namespace(|| &quot;first row&quot;), self.a, self.b)?;</code> : <strong>åˆå§‹åŒ–æ–æ³¢é‚£å¥‘æ•°åˆ—</strong>:  è°ƒç”¨ assign_first_row å‡½æ•°ä»¥åœ¨ç¬¬ä¸€è¡Œä¸­è®¾ç½®æ–æ³¢é‚£å¥‘æ•°åˆ—çš„å‰ä¸¤ä¸ªå€¼ self.a å’Œ self.bã€‚è¿”å›çš„ç»“æœæ˜¯ä¸‰ä¸ªå€¼ï¼šprev_a, prev_b å’Œ prev_cã€‚å…¶ä¸­ï¼Œprev_c æ˜¯å‰ä¸¤ä¸ªæ•°çš„å’Œ </li>
<li><code>chip.expose_public(layouter.namespace(|| &quot;private a&quot;), &amp;prev_a, 0)?;</code> : <strong>å…¬å¼€å‰ä¸¤ä¸ªæ•°</strong>:  å°†å‰ä¸¤ä¸ªæ•° expose ä¸º public, è¿™æ„å‘³ç€è¿™äº›å€¼å¯ä»¥è¢« <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span></span></span></span> è®¿é—®å’ŒéªŒè¯</li>
<li><strong>è®¡ç®—åç»­çš„æ–æ³¢é‚£å¥‘æ•°</strong>: <code> for</code> å¾ªç¯ä¸­ï¼Œ<code>assign_row</code> å‡½æ•°è¢«è°ƒç”¨ä»¥è®¡ç®—åç»­çš„æ–æ³¢é‚£å¥‘æ•°ã€‚æ¯æ¬¡è¿­ä»£éƒ½ä¼šç”Ÿæˆæ–°çš„æ–æ³¢é‚£å¥‘æ•°å¹¶ä¸ºä¸‹ä¸€æ¬¡è¿­ä»£æ›´æ–° <code>prev_b</code> å’Œ <code>prev_c</code></li>
<li><code>chip.expose_public(layouter.namespace(|| &quot;out&quot;), &amp;prev_c, 2)?;</code> : <strong>å…¬å¼€æœ€ç»ˆçš„æ–æ³¢é‚£å¥‘æ•°</strong>:  å°†å¾ªç¯ç»“æŸåçš„æœ€åä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°å€¼è®¾ä¸º Public</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Default)]
struct MyCircuit&lt;F&gt; {
    pub a: Value&lt;F&gt;,
    pub b: Value&lt;F&gt;,
}

impl&lt;F: FieldExt&gt; Circuit&lt;F&gt; for MyCircuit&lt;F&gt; {
    type Config = FiboConfig;
    type FloorPlanner = SimpleFloorPlanner;

    fn without_witnesses(&amp;self) -&gt; Self {
        Self::default()
    }

    fn configure(meta: &amp;mut ConstraintSystem&lt;F&gt;) -&gt; Self::Config {
        let col_a = meta.advice_column();
        let col_b = meta.advice_column();
        let col_c = meta.advice_column();
        let instance = meta.instance_column();
        FiboChip::configure(meta, [col_a, col_b, col_c], instance)
    }

    fn synthesize(
        &amp;self,
        config: Self::Config,
        mut layouter: impl Layouter&lt;F&gt;,
    ) -&gt; Result&lt;(), Error&gt; {
        let chip = FiboChip::construct(config);

        let (prev_a, mut prev_b, mut prev_c) =
            chip.assign_first_row(layouter.namespace(|| &quot;first row&quot;), self.a, self.b)?;

        chip.expose_public(layouter.namespace(|| &quot;private a&quot;), &amp;prev_a, 0)?;
        chip.expose_public(layouter.namespace(|| &quot;private b&quot;), &amp;prev_b, 1)?;

        for _i in 3..10 {
            let c_cell = chip.assign_row(layouter.namespace(|| &quot;next row&quot;), &amp;prev_b, &amp;prev_c)?;
            prev_b = prev_c;
            prev_c = c_cell;
        }

        chip.expose_public(layouter.namespace(|| &quot;out&quot;), &amp;prev_c, 2)?;

        Ok(())
    }
}
<span class="boring">}</span></code></pre></pre>
<h4 id="test-1"><a class="header" href="#test-1">Test</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[cfg(test)]
mod tests {
    use super::MyCircuit;
    use halo2_proofs::{circuit::Value, dev::MockProver, pasta::Fp};

    #[test]
    fn test_example1() {
        let k = 4;

        let a = Fp::from(1); // F[0]
        let b = Fp::from(1); // F[1]
        let out = Fp::from(55); // F[9]

        let circuit = MyCircuit {
            a: Value::known(a),
            b: Value::known(b),
        };

        let mut public_input = vec![a, b, out];

        let prover = MockProver::run(k, &amp;circuit, vec![public_input.clone()]).unwrap();
        prover.assert_satisfied();

        public_input[2] += Fp::one();
        let _prover = MockProver::run(k, &amp;circuit, vec![public_input]).unwrap();
        // uncomment the following line and the assert will fail
        // _prover.assert_satisfied();
    }
<span class="boring">}</span></code></pre></pre>
<pre><code class="language-bash">cargo test fibonacci::example1  `or`
cargo test -- --nocapture fibonacci::example1
</code></pre>
<h3 id="example-2"><a class="header" href="#example-2">Example 2</a></h3>
<p>the problem we noticed like inside example-1  is that there are basically</p>
<ul>
<li><strong>too many duplicate cells</strong> , so every time you need copy two cells from previous row to next row , not efficient </li>
<li><em>better solution</em> :  Use rotation to access to the multiple rows.</li>
</ul>
<img src="http://imagesoda.oss-cn-beijing.aliyuncs.com/Sodaoo/2023-08-27-005058.png" width="50%" />
<p>åœ¨æœ¬ä¾‹å­ä¸­, ä»£ç å°†æ›´åŠ ç´§å‡‘å’Œæ¨¡å—åŒ–, ä»¥ä¸‹æ˜¯ä¸€äº›ä¸»è¦çš„åŒºåˆ« :</p>
<ol>
<li><strong>Advice Columns</strong>:
<ul>
<li><strong>ex 1</strong> : 
<ul>
<li>ç”¨äº† 3 ä¸ª advice columnsï¼š<code>col_a</code>, <code>col_b</code> å’Œ <code>col_c</code>ï¼Œè¿™ 3 ä¸ª columns çš„ç¬¬ä¸€è¡Œç”¨æ¥å­˜å‚¨ Fibonacci åºåˆ—çš„è¿ç»­çš„ 3 ä¸ªæ•°</li>
<li><code>configure()</code> åœ¨ 3 ä¸ª advice columns ä¸­ä¸ºæ¯ä¸€ä¸ªéœ€å¯ç”¨ <code>enable_equality</code>ï¼Œå¹¶ä¸ºæ¯ä¸€ä¸ªéƒ½å»ºç«‹äº†é—¨çº¦æŸã€‚</li>
</ul>
</li>
<li><strong>ex 2</strong>: 
<ul>
<li>ä»…ä½¿ç”¨äº†<strong>ä¸€ä¸ª</strong> advice columnï¼Œå¹¶ä¾èµ– rotationï¼ˆè½®è½¬, å³ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="color:red;">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;color:red;">w</span></span></span></span>ï¼‰æ¥è®¿é—®è¿ç»­çš„æ•°, å‡å°‘äº†å„ç§å¤åˆ¶</li>
</ul>
</li>
</ul>
</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// example-1
pub fn configure(
	.., advice: [Column&lt;Advice&gt;; 3], .. 
	{
    let col_i = advice[ii];	
    meta.enable_equality(col_i); // å¾ˆå¤šåˆ—éœ€è¦å£°æ˜, éœ€è¦ enable...

    meta.create_gate(&quot;add&quot;, |meta| {
        let s = meta.query_selector(selector);
        let a = meta.query_advice(col_a, Rotation::cur()); //ğŸ“¢
        let b = meta.query_advice(col_b, Rotation::cur()); //ğŸ“¢
        let c = meta.query_advice(col_c, Rotation::cur()); //ğŸ“¢

}

----------------------------------------

// example-2
pub fn configure(  
	.., advice: Column&lt;Advice&gt;, .. 
	{
    meta.enable_equality(advice); //æ‰€æœ‰ advice åˆ—åªåœ¨æ­¤ enable once.

    meta.create_gate(&quot;add&quot;, |meta| {
        let s = meta.query_selector(selector);
        let a = meta.query_advice(advice, Rotation::cur()); //ğŸ’¡
        let b = meta.query_advice(advice, Rotation::next());//ğŸ’¡
        let c = meta.query_advice(advice, Rotation(2));}    //ğŸ’¡
<span class="boring">}</span></code></pre></pre>
<ul>
<li><code>Rotation::cur()</code>  å½“å‰è¡Œ </li>
<li><code>Rotation::next()</code>  ä¸‹ä¸€è¡Œ</li>
<li><code>Rotation(2)</code>  å†ä¸‹ä¸€è¡Œ</li>
</ul>
<p>The Polynomial Identity : 
<span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2141em;vertical-align:-0.35em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal" style="color:red;">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">Ï‰</span><span class="mord mathnormal" style="color:red;">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">A</span><span class="mopen">(</span><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03588em;color:red;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;">2</span></span></span></span></span></span></span></span><span class="mord mathnormal" style="color:red;">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p>
<ol start="2">
<li><strong>æ•°æ®èµ‹å€¼</strong>:
<ul>
<li><strong>ex 1</strong>: åˆå§‹çš„ Fibonacci æ•° <code>a</code> å’Œ <code>b</code> è¢«èµ‹å€¼åˆ°ä¸¤ä¸ªä¸åŒçš„ advice columnsï¼Œè€Œä»–ä»¬çš„å’Œåˆ™è¢«èµ‹å€¼åˆ°ç¬¬ä¸‰ä¸ª columnã€‚</li>
<li><strong>ex 2</strong>: æ‰€æœ‰çš„ Fibonacci æ•°éƒ½åœ¨åŒä¸€ä¸ª advice columnï¼Œä½†åœ¨ä¸åŒçš„è¡Œ (thanks to rotation)</li>
</ul>
</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>////  Example 2  ////
pub fn assign(..., nrows){
  layouter.assign_region(&quot;entire fibonacci table&quot;,
    |mut region| {
    // ä¸ºå‰ä¸¤è¡Œå¯ç”¨ selector,è¿™æ„å‘³ç€æˆ‘ä»¬å°†ä» instance åˆ—ï¼ˆå¯èƒ½æ˜¯å…¬å…±è¾“å…¥ï¼‰
    // ä¸­å¤åˆ¶ Fibonacci åºåˆ—çš„å‰ 2 ä¸ªæ•°å­—
    self.config.selector.enable(&amp;mut region, 0)?;
    self.config.selector.enable(&amp;mut region, 1)?;

    // assign_advice_from_instance æ–¹æ³•ï¼Œå°† instance åˆ—çš„å‰ä¸¤ä¸ªå€¼
	//   (å³ Fibonacci åºåˆ—çš„å‰ä¸¤ä¸ªæ•°å­—ï¼‰èµ‹ç»™ advice åˆ—ä¸­çš„å‰ä¸¤ä¸ªå•å…ƒæ ¼
	//   åé¢åœ¨ MockProver ä¸­, æˆ‘ä»¬ä¼šä¼ å…¥ instance ä½œä¸º Public input
	let mut a_cell = region.assign_advice_from_instance(
		|| &quot;1&quot;,
		self.config.instance,
		0,
		self.config.advice,
		0,  // row
	)?;
	let mut b_cell = region.assign_advice_from_instance(
		|| &quot;1&quot;,
		self.config.instance,
		1,  // è¿™é‡Œå†™ 0 ä¹Ÿä¸æŠ¥é”™, å†™ 1/2/3 å°±ä¼šæŠ¥é”™äº†..
		self.config.advice,
		1,  // row
    )?;
    
	// èµ‹å€¼å¥½äº†å‰ 2 è¡Œ(é€’å½’åŸº) ,å…¶ä½™çš„è¡Œå°±ç´¯åŠ è¿‡å»å°±å¥½äº†
	for row in 2..nrows {
		if row &lt; nrows - 2 {
			self.config.selector.enable(&amp;mut region, row)?;
		}

		let c_cell = region.assign_advice(
			|| &quot;advice&quot;,
			self.config.advice,
			row,
			|| a_cell.value().copied() + b_cell.value(),
		)?;

		a_cell = b_cell;
		b_cell = c_cell;
	}

	Ok(b_cell)	
}
<span class="boring">}</span></code></pre></pre>
<ol start="3">
<li><strong>ç”Ÿæˆçš„ Fibonacci æ•°</strong>:
<ul>
<li><strong>Version 1</strong>: ä½¿ç”¨æ–¹æ³• <code>assign_row</code> ä»å‰ä¸¤ä¸ªæ•°ç”Ÿæˆä¸‹ä¸€ä¸ªæ•°ã€‚</li>
<li><strong>Version 2</strong>: ä½¿ç”¨ä¸€ä¸ªå¾ªç¯åœ¨æ•´ä¸ª Fibonacci è¡¨æ ¼ä¸­ä¸ºæ‰€æœ‰çš„æ•°èµ‹å€¼ã€‚</li>
</ul>
</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>////  Example 2  ////
pub fn assign(..., nrows){
	// èµ‹å€¼å¥½äº†å‰ 2 è¡Œ(é€’å½’åŸº) ,å…¶ä½™çš„è¡Œå°±ç´¯åŠ è¿‡å»å°±å¥½äº†
	for row in 2..nrows {
		if row &lt; nrows - 2 {
			self.config.selector.enable(&amp;mut region, row)?;
		}

		let c_cell = region.assign_advice(
			|| &quot;advice&quot;,
			self.config.advice,
			row,
			|| a_cell.value().copied() + b_cell.value(),
		)?;

		a_cell = b_cell;
		b_cell = c_cell;
	}

	Ok(b_cell)
}
<span class="boring">}</span></code></pre></pre>
<p>å¦‚ä¸‹ <code>instance</code> , é‡Œé¢æ˜¯ Public input </p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[test]
fn test_example2() {
	let k = 4;

	let a = Fp::from(1); // F[0]
	let b = Fp::from(1); // F[1]
	let out = Fp::from(55); // F[9]

	let circuit = MyCircuit(PhantomData);

	let mut public_input = vec![a, b, out];

	let prover = MockProver::run(k, &amp;circuit, vec![public_input.clone()]).unwrap();
	prover.assert_satisfied();

	public_input[2] += Fp::one();
	let _prover = MockProver::run(k, &amp;circuit, vec![public_input]).unwrap();
	// uncomment the following line and the assert will fail
	// _prover.assert_satisfied();
}
<span class="boring">}</span></code></pre></pre>
<h4 id="print"><a class="header" href="#print">print</a></h4>
<ul>
<li>the white column is the instance column, </li>
<li>the pink one is the advice and </li>
<li>the purple one is the selector.</li>
<li>the green part shows the cells that have been assigned
<ul>
<li>light green : selector not used.</li>
</ul>
</li>
</ul>
<pre><code class="language-bash">cargo test --all-features -- --nocapture print
</code></pre>
<p>change k from 13 to 4, the line will be more small so now you are not calim about the main function .</p>
<ul>
<li>the MockProver will tell you constrains that <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;color:red;">f</span><span class="mord mathnormal" style="color:red;">ai</span><span class="mord mathnormal" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathnormal" style="color:red;">e</span><span class="mord mathnormal" style="color:red;">d</span></span></span></span> ,</li>
<li>the <code>png</code> will tell you a Â <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="color:blue;">mi</span><span class="mord mathnormal" style="color:blue;">ss</span><span class="mord mathnormal" style="color:blue;">in</span><span class="mord mathnormal" style="margin-right:0.03588em;color:blue;">g</span></span></span></span>Â  constraint <code>you have ignored</code> !</li>
</ul>
<h4 id="row--column-in-region"><a class="header" href="#row--column-in-region">Row &amp; Column in Region</a></h4>
<p>Compared  <code>example-1 </code> with <code>example-2</code>  : </p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>meta.create_gate(&quot;add&quot;, |meta| {
	// col_a | col_b | col_c | selector
	//   a      b        c       s
	let s = meta.query_selector(selector);
	let a = meta.query_advice(col_a, Rotation::cur());
	let b = meta.query_advice(col_b, Rotation::cur());
	let c = meta.query_advice(col_c, Rotation::cur());
	vec![s * (a + b - c)]

---------------------------------------------

meta.create_gate(&quot;add&quot;, |meta| {
	// advice | selector
	//   a    |   s
	//   b    |
	//   c    |
	let s = meta.query_selector(selector);
	let a = meta.query_advice(advice, Rotation::cur());
	let b = meta.query_advice(advice, Rotation::next());
	let c = meta.query_advice(advice, Rotation(2));
	vec![s * (a + b - c)] 
<span class="boring">}</span></code></pre></pre>
<p>We see : </p>
<ul>
<li><code>col_a / col_b / col_c</code> represent different  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="color:red;">co</span><span class="mord mathnormal" style="margin-right:0.01968em;color:red;">l</span><span class="mord mathnormal" style="color:red;">u</span><span class="mord mathnormal" style="color:red;">mn</span><span class="mord mathnormal" style="color:red;">s</span></span></span></span></li>
<li><code>Rotation::cur() / Rotation::next() / Rotation::prev() / Rotation(2)</code>  represent different <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="color:red;">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;color:red;">w</span><span class="mord mathnormal" style="color:red;">s</span></span></span></span></li>
</ul>
<pre><code class="language-bash">cargo test -- --nocapture fibonacci::example2
</code></pre>
<h3 id="reference--1"><a class="header" href="#reference--1">Reference :</a></h3>
<ul>
<li><a href="https://github.com/jasonmorton/halo2-examples/blob/master/src/fibonacci/example1.rs">Jason Morton</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<p>We want Prove that : <code>f(a, b, c) = if a == b {c} else {a - b}</code> </p>
<blockquote>
<p>è¯æ˜æŸäººçŸ¥é“ä¸‰ä¸ªæ•°å­— aã€bå’Œ cï¼Œä½¿å¾—å½“ <code>a == b</code> æ—¶ï¼Œè¾“å‡ºä¸º cï¼Œå¦åˆ™è¾“å‡ºä¸º <code>a - b</code>ï¼Œè€Œæ— éœ€æ­ç¤ºaã€bå’Œcçš„å®é™…å€¼ã€‚</p>
</blockquote>
<p>how to describe it ?   Firstly, let's dive into the IszeroÂ Chip</p>
<h3 id="iszero-chip"><a class="header" href="#iszero-chip">IszeroÂ Chip</a></h3>
<h4 id="structs"><a class="header" href="#structs">structs</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Clone, Debug)]
pub struct IsZeroConfig&lt;F&gt; {
    pub value_inv: Column&lt;Advice&gt;,
    pub is_zero_expr: Expression&lt;F&gt;,
}

impl&lt;F: FieldExt&gt; IsZeroConfig&lt;F&gt; {
    pub fn expr(&amp;self) -&gt; Expression&lt;F&gt; {
        self.is_zero_expr.clone()
    }
}

pub struct IsZeroChip&lt;F: FieldExt&gt; {
    config: IsZeroConfig&lt;F&gt;,
}
<span class="boring">}</span></code></pre></pre>
<h4 id="impl-iszerochip--"><a class="header" href="#impl-iszerochip--">impl IsZeroChip { ..</a></h4>
<h5 id="configure"><a class="header" href="#configure">configure</a></h5>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl&lt;F: FieldExt&gt; IsZeroChip&lt;F&gt; {
    pub fn construct(config: IsZeroConfig&lt;F&gt;) -&gt; Self {
        IsZeroChip { config }
    }

    pub fn configure(
        meta: &amp;mut ConstraintSystem&lt;F&gt;,
        q_enable: impl FnOnce(&amp;mut VirtualCells&lt;'_, F&gt;) -&gt; Expression&lt;F&gt;,
        value: impl FnOnce(&amp;mut VirtualCells&lt;'_, F&gt;) -&gt; Expression&lt;F&gt;,
        value_inv: Column&lt;Advice&gt;,
    ) -&gt; IsZeroConfig&lt;F&gt; {
        let mut is_zero_expr = Expression::Constant(F::zero());

        meta.create_gate(&quot;is_zero&quot;, |meta| {
            //
            // valid | val |  val_inv |  1 - val * val_inv | val * (1 - val * val_inv)
            // ------+-----+----------+--------------------+-------------------
            //  yes  |  x  |    1/x   |        0           |   0
            //  no   |  x  |    0     |        1           |   x
            //  yes  |  0  |    0     |        1           |   0
            //  yes  |  0  |    y     |        1           |   0

            //
            let value = value(meta);
            let q_enable = q_enable(meta);
            let value_inv = meta.query_advice(value_inv, Rotation::cur());

            is_zero_expr = Expression::Constant(F::one()) - value.clone() * value_inv;
            vec![q_enable * value * is_zero_expr.clone()]  // gate's constraints
        });

        IsZeroConfig {
            value_inv,
            is_zero_expr,
        }
    }
<span class="boring">}</span></code></pre></pre>
<p>configure defines the logic for the &quot;is-zero&quot; gate. It uses the following table to guide the logic: </p>
<pre><code class="language-bash">valid | val |  val_inv |  1 - val * val_inv | val * (1 - val * val_inv)
------+-----+----------+--------------------+-------------------
 yes  |  x  |    1/x   |        0           |   0
 no   |  x  |    0     |        1           |   x
 yes  |  0  |    0     |        1           |   0
 yes  |  0  |    y     |        1           |   0
</code></pre>
<p>ç¬¬ <code>1 / 3 / 4</code> è¡Œæ¶‰åŠåˆ°çš„çº¦æŸä¸éœ€è¦é€šè¿‡ q_enable å³å¯å®Œæˆ, ä½†æ˜¯è€ƒè™‘ç¬¬äºŒè¡Œæ‰€æ¶‰åŠåˆ°çš„æƒ…å†µ : </p>
<ul>
<li>å¦‚æœ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>  æ˜¯ä¸ª malicious Prover, ä»–æä¾›äº† <code>val == x</code> å’Œ <code>val_inv == 0</code> , æ­¤æ—¶ä»…é  <code>is_zero_expr</code>  æ˜¯æ— æ³•åˆ†è¾¨çš„ (è¿™ä¸ª case é‡Œ assign å‡½æ•°ä¼šç›´æ¥åˆ†é… <code>self.config.value_inv</code>  i.e.  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord" style="color:red;">0</span></span></span></span>  å³è®¤ä¸ºè¿™ä¸ªå€¼æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord" style="color:red;">0</span></span></span></span> </li>
<li>ä½†æ˜¯æ·»åŠ äº† <code>vec![q_enable * value * is_zero_expr.clone()]</code>  çº¦æŸå°±ä¸ä¸€æ ·äº† , çº¦æŸå¼ºåˆ¶è¦æ±‚ <code>val * is_zero_expr</code> i.e.  <code>val * ( 1 - val * val_inv)</code> å¿…é¡»ä¸º 0 , ä»è€Œè§£å†³äº†è¿™ç§ malicious situation.</li>
<li>å¦‚æœ malicious <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>  æä¾›äº†è¿™ç§ Witness, å°†ä¸ä¼šé€šè¿‡çº¦æŸæ ¡éªŒ, ä¹Ÿå°±ä¸ä¼šç”Ÿæˆè¯¥ proof</li>
<li>åªæœ‰ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>  æä¾›äº†ç¬¦åˆçº¦æŸçš„ Witness, <code>val_inv</code>  æ‰ä¼šè¢«èµ‹å€¼ç»™ <code>val_inv</code> column</li>
</ul>
<p>The gate ensures that for valid rows:</p>
<ul>
<li>If the <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> , its inverse is computed such that their multiplication (<code>val * val_inv</code>) 's  results in 1.</li>
<li>If the <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">==</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> , its inverse <strong>can be any value</strong>, but the result of their multiplication should be 0.</li>
</ul>
<p>The gate equation is <code>q_enable * value * (1 - value * value_inv)</code>, which should be satisfied for the valid conditions.</p>
<ul>
<li><code>assign()</code>: This method is used to assign the inverse of a value (if it exists) or zero to the specified advice column in the circuit.</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>is_zero_expr = Expression::Constant(F::one()) - value.clone() * value_inv;
<span class="boring">}</span></code></pre></pre>
<ul>
<li>i.e. <code>1 - val * val_inv</code> , like the table above : 
<ul>
<li>if <code>val != 0</code> :  is_zero_expr = 0</li>
<li>if <code>val == 0</code>  : is_zero_expr = 1</li>
</ul>
</li>
</ul>
<p><code>vec![q_enable * value * is_zero_expr.clone()]</code>  is the gate's constraint. it should be <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></p>
<h5 id="assign"><a class="header" href="#assign">assign</a></h5>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn assign(
	&amp;self,
	region: &amp;mut Region&lt;'_, F&gt;,
	offset: usize,
	value: Value&lt;F&gt;,
) -&gt; Result&lt;(), Error&gt; {
	// value.invert()  OR  F::zero()
	let value_inv = value.map(|value| value.invert().unwrap_or(F::zero()));
	region.assign_advice(|| &quot;value inv&quot;, self.config.value_inv, offset, || value_inv)?;
	Ok(())
}
<span class="boring">}</span></code></pre></pre>
<p>åœ¨ <code>IsZero</code> çš„éªŒè¯è¿‡ç¨‹ä¸­ï¼Œå°†è¦éªŒè¯çš„å€¼ï¼ˆæˆ–è¾“å…¥å€¼ï¼‰åˆ†é…åˆ°ç”µè·¯åŒºåŸŸä¸­ï¼Œä»¥ä¾¿åœ¨ç”µè·¯ä¸­è¿›è¡Œè®¡ç®—å’Œçº¦æŸçš„éªŒè¯ : </p>
<ol>
<li>å¦‚æœè¦éªŒè¯çš„å€¼ä¸ºé›¶ï¼Œ<code>assign</code> æ–¹æ³•å°†ä¸ºé€†å…ƒåˆ†é…ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼ˆä¾‹å¦‚ <code>F::zero()</code>ï¼‰</li>
<li>å¦‚æœè¦éªŒè¯çš„å€¼ä¸ä¸ºé›¶ï¼Œ<code>value_inv</code> columns å°†è¢«åˆ†é…ä¸º <code>value.invert().unwrap_or(F::zero())</code> i.e.  <code>value.invert()</code></li>
</ol>
<p>è¿™äº› IsZero çš„ check å°†è¢«èµ‹å€¼åˆ° <code>value_inv</code> column å¹¶åœ¨å…¶ä¸Šå¾—åˆ°ä½“ç°</p>
<h3 id="example-3"><a class="header" href="#example-3">Example 3</a></h3>
<p>welcome back, now we have the gadget <code>IsZero</code> , so we can constrain  malicious <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> 's  input</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Debug, Clone)]
struct FunctionConfig&lt;F: FieldExt&gt; {
    selector: Selector,
    a: Column&lt;Advice&gt;,
    b: Column&lt;Advice&gt;,
    c: Column&lt;Advice&gt;,
    a_equals_b: IsZeroConfig&lt;F&gt;,
    output: Column&lt;Advice&gt;,
}
#[derive(Debug, Clone)]
struct FunctionChip&lt;F: FieldExt&gt; {
    config: FunctionConfig&lt;F&gt;,
}
<span class="boring">}</span></code></pre></pre>
<h4 id="configure-1"><a class="header" href="#configure-1">configure</a></h4>
<blockquote>
<p>Recap : <code>f(a, b, c) = if a == b {c} else {a - b}</code> </p>
</blockquote>
<ol>
<li>column : é™¤äº†å¸¸è§„çš„ <code>a/b/c</code> advice column,  è¿˜ç”³è¯·äº† <code>is_zero_advice_column</code></li>
<li><code>IsZeroChip</code> : <code>use crate::is_zero::{IsZeroChip, IsZeroConfig};</code>  ä½¿ç”¨äº†ä¸Šé¢å®šä¹‰çš„ <code>IsZero</code> chip æ¥æ ¡éªŒ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">==</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span> è¿™ä¸ªäº‹æƒ… (å› ä¸º a/b éƒ½æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>  æä¾›çš„, ä¸€ä¸ª malicious <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>  æœ‰åŠ¨æœºå»æä¾› <code>a=3 , b=4</code> ç„¶å <code>return c</code> , å¿…é¡»é€šè¿‡ç”Ÿæˆ proof å‰çš„çº¦æŸæ¥é™åˆ¶ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span> çš„è¡Œä¸º)</li>
<li><code>IsZeroChip::configure</code> è¿”å› <code>IsZeroConfig&lt;F&gt;</code> </li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl&lt;F: FieldExt&gt; FunctionChip&lt;F&gt; {
    pub fn construct(config: FunctionConfig&lt;F&gt;) -&gt; Self { Self { config } }

    pub fn configure(meta: &amp;mut ConstraintSystem&lt;F&gt;) -&gt; FunctionConfig&lt;F&gt; {
        let selector = meta.selector();
        let a = meta.advice_column();
        let b = meta.advice_column();
        let c = meta.advice_column();
        let output = meta.advice_column();

        let is_zero_advice_column = meta.advice_column();
        
        let a_equals_b = IsZeroChip::configure(
            meta,
            |meta| meta.query_selector(selector),
            |meta| meta.query_advice(a, Rotation::cur()) - meta.query_advice(b, Rotation::cur()),
            is_zero_advice_column,
        );

        meta.create_gate(&quot;f(a, b, c) = if a == b {c} else {a - b}&quot;, |meta| {
            let s = meta.query_selector(selector);
            let a = meta.query_advice(a, Rotation::cur());
            let b = meta.query_advice(b, Rotation::cur());
            let c = meta.query_advice(c, Rotation::cur());
            let output = meta.query_advice(output, Rotation::cur());
            vec![
                s.clone() * (a_equals_b.expr() * (output.clone() - c)),
                s * (Expression::Constant(F::one()) - a_equals_b.expr()) * (output - (a - b)),
            ]
        });

        FunctionConfig {
            selector,
            a,
            b,
            c,
            a_equals_b,
            output,
        }
    }
<span class="boring">}</span></code></pre></pre>
<h4 id="assign-1"><a class="header" href="#assign-1">assign</a></h4>
<ol>
<li><code>IsZeroChip::construct</code>  : åˆ›å»ºä¸€ä¸ª<code>IsZeroChip</code>å®ä¾‹</li>
<li><code>layouter.assign_region(</code> : 
<ol>
<li></li>
</ol>
</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn assign(
  &amp;self,
  mut layouter: impl Layouter&lt;F&gt;,
  a: F,  b: F,  c: F,
) -&gt; Result&lt;AssignedCell&lt;F, F&gt;, Error&gt; {
  let is_zero_chip = IsZeroChip::construct(self.config.a_equals_b.clone());

  layouter.assign_region(
    || &quot;f(a, b, c) = if a == b {c} else {a - b}&quot;,
    |mut region| {
      self.config.selector.enable(&amp;mut region, 0)?;
      region.assign_advice(|| &quot;a&quot;, self.config.a, 0, || Value::known(a))?;
      region.assign_advice(|| &quot;b&quot;, self.config.b, 0, || Value::known(b))?;
      region.assign_advice(|| &quot;c&quot;, self.config.c, 0, || Value::known(c))?;

      // æ­£å¼ä½¿ç”¨ IsZeroChip å­ç”µè·¯æ¥æ£€æŸ¥ a - b æ˜¯å¦ä¸ºé›¶
      is_zero_chip.assign(&amp;mut region, 0, Value::known(a - b))?;

      // Rust expr to calculate val.
      let output = if a == b { c } else { a - b };
      // assign to cell.
      region.assign_advice(|| &quot;output&quot;, self.config.output, 0, || Value::known(output))
    },
  ) }
<span class="boring">}</span></code></pre></pre>
<h4 id="test-2"><a class="header" href="#test-2">test</a></h4>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[cfg(test)]
mod tests {
    use super::*;
    use halo2_proofs::{dev::MockProver, pasta::Fp};

    #[test]
    fn test_example3() {
        let circuit = FunctionCircuit {
            a: Fp::from(10),
            b: Fp::from(12),
            c: Fp::from(15),
        };

        let prover = MockProver::run(4, &amp;circuit, vec![]).unwrap();
        prover.assert_satisfied();
    }
}
<span class="boring">}</span></code></pre></pre>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h4 id="assign_advice"><a class="header" href="#assign_advice">assign_advice</a></h4>
<p><code>halo2_proofs/src/circuit.rs</code></p>
<ul>
<li><code>assign_advice()</code> æ˜¯ä¸ºäº†åœ¨æŒ‡å®šçš„ advice column å’Œåç§»ï¼ˆè¡Œï¼‰ä¸­åˆ†é…ä¸€ä¸ªå€¼ï¼Œå¹¶è¿”å›è¯¥å·²åˆ†é…å€¼çš„ wrappingï¼Œi.e. <code>AssignedCell</code></li>
</ul>
<p>å‚æ•° : </p>
<ul>
<li><code>&amp;'v mut self</code>: ä»£è¡¨å‡½æ•°éœ€è¦ä¸€ä¸ª <code>self</code> çš„å¯å˜å¼•ç”¨ï¼Œå¹¶ä¸”è¿™ä¸ªå¼•ç”¨çš„ç”Ÿå‘½å‘¨æœŸè‡³å°‘ä¸º <code>'v</code> </li>
<li><code>annotation: A</code>: æ˜¯ä¸€ä¸ªè¿”å›æ³¨é‡Šå­—ç¬¦ä¸²çš„å‡½æ•°ã€‚å¯ç”¨äºä¸ºè°ƒè¯•æˆ–é”™è¯¯æ¶ˆæ¯æä¾›ä¸Šä¸‹æ–‡ </li>
<li><code>column: Column&lt;Advice&gt;</code>: æŒ‡å®šåº”è¯¥åœ¨å“ªä¸€åˆ—åˆ†é…è¯¥å€¼ã€‚</li>
<li><code>offset: usize</code>: æŒ‡å®šåº”è¯¥åœ¨å“ªä¸€è¡Œåˆ†é…è¯¥å€¼ã€‚</li>
<li><code>mut to: V</code>: æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿”å›å°†è¦è¢«åˆ†é…çš„å€¼ã€‚è¿™æ˜¯ä¸€ä¸ªé—­åŒ…æˆ–å‡½æ•°å¯¹è±¡</li>
</ul>
<p><code>where</code> å­å¥æŒ‡å®šäº†è¯¥å‡½æ•°çš„æ³›å‹å‚æ•°å¿…é¡»æ»¡è¶³çš„çº¦æŸï¼š</p>
<ul>
<li><code>V</code> æ˜¯ä¸€ä¸ªå¯å˜å‡½æ•°å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª <code>Value&lt;VR&gt;</code>ã€‚ </li>
<li><code>Assigned&lt;F&gt;</code> å¿…é¡»å®ç° <code>From</code> traitï¼Œä»ä¸€ä¸ªå¯¹ <code>VR</code> çš„å¼•ç”¨è½¬æ¢ã€‚</li>
<li><code>A</code> æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œè¿”å›ä¸€ä¸ª <code>AR</code>ã€‚</li>
<li><code>AR</code> å¿…é¡»èƒ½è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œè¿™æ˜¯ä¸ºäº† <code>annotation</code> èƒ½å¤Ÿæä¾›æè¿°æ€§çš„å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p><strong>Process :</strong> </p>
<ol>
<li>å‡½æ•°é¦–å…ˆå£°æ˜äº†ä¸€ä¸ªæœªçŸ¥çš„å€¼ï¼š<code>let mut value = Value::unknown();</code></li>
<li>ç„¶åï¼Œå®ƒä½¿ç”¨ <code>self.region.assign_advice</code> æ–¹æ³•æ¥çœŸæ­£åˆ†é…å€¼ï¼Œä¼ é€’æ³¨é‡Šã€åˆ—ã€åç§»å’Œä¸€ä¸ªè·å–å€¼çš„é—­åŒ…ã€‚æ­¤é—­åŒ…å…ˆè°ƒç”¨ <code>to()</code> è·å–å€¼ï¼Œç„¶åè½¬æ¢è¯¥å€¼ä¸ºå­—æ®µï¼Œå¹¶æ›´æ–°ä¹‹å‰å£°æ˜çš„æœªçŸ¥å€¼ã€‚</li>
<li>æœ€åï¼Œä¸€ä¸ªæ–°çš„ <code>AssignedCell</code> è¢«æ„é€ å¹¶è¿”å›ï¼Œå…¶ä¸­åŒ…å«å·²åˆ†é…çš„å€¼å’Œå¯¹åº”çš„å•å…ƒæ ¼ã€‚</li>
<li><code>assign_advice</code> å‡½æ•°ä¸ºä¸€ä¸ªç»™å®šçš„å»ºè®®åˆ—å’Œè¡Œåˆ†é…ä¸€ä¸ªå€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªè¡¨ç¤ºå·²åˆ†é…å€¼çš„ <code>AssignedCell</code>ã€‚è¿™ä¸ªå‡½æ•°è®¾è®¡å¾—éå¸¸æ³›åŒ–ï¼Œå…è®¸å®¢æˆ·ç«¯æä¾›ä»»æ„çš„å€¼æä¾›å‡½æ•°å’Œæ³¨é‡Šå‡½æ•°ã€‚</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn assign_advice&lt;'v, V, VR, A, AR&gt;(
	&amp;'v mut self,
	annotation: A,
	column: Column&lt;Advice&gt;,
	offset: usize,
	mut to: V,
) -&gt; Result&lt;AssignedCell&lt;VR, F&gt;, Error&gt;
where
	V: FnMut() -&gt; Value&lt;VR&gt; + 'v,
	for&lt;'vr&gt; Assigned&lt;F&gt;: From&lt;&amp;'vr VR&gt;,
	A: Fn() -&gt; AR,
	AR: Into&lt;String&gt;,
{
	let mut value = Value::unknown();
	let cell =
		self.region
			.assign_advice(&amp;|| annotation().into(), column, offset, &amp;mut || {
				let v = to();
				let value_f = v.to_field();
				value = v;
				value_f
			})?;

	Ok(AssignedCell {
		value,
		cell,
		_marker: PhantomData,
	})
}
<span class="boring">}</span></code></pre></pre>
<h4 id="assign_advice_from_instance"><a class="header" href="#assign_advice_from_instance">assign_advice_from_instance</a></h4>
<ul>
<li>å°†ç»å¯¹ä½ç½®â€œrowâ€å¤„çš„ instance col cell çš„å€¼åˆ†é…ç»™è¯¥åŒºåŸŸå†…â€œoffsetâ€å¤„çš„åˆ—â€œadviceâ€ã€‚</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>/// Assign the value of the instance column's cell at absolute location
/// `row` to the column `advice` at `offset` within this region.
///
/// Returns the advice cell, and its value if known.
pub fn assign_advice_from_instance&lt;A, AR&gt;(
	&amp;mut self,
	annotation: A,
	instance: Column&lt;Instance&gt;,
	row: usize,
	advice: Column&lt;Advice&gt;,
	offset: usize,
) -&gt; Result&lt;AssignedCell&lt;F, F&gt;, Error&gt;
where
	A: Fn() -&gt; AR,
	AR: Into&lt;String&gt;,
{
	let (cell, value) = self.region.assign_advice_from_instance(
		&amp;|| annotation().into(),
		instance,
		row,
		advice,
		offset,
	)?;

	Ok(AssignedCell {
		value,
		cell,
		_marker: PhantomData,
	})
}
<span class="boring">}</span></code></pre></pre>
<h4 id="without_witnesses"><a class="header" href="#without_witnesses">without_witnesses</a></h4>
<ul>
<li>called only during keygen</li>
<li>the circuit without witnesses</li>
</ul>
<h4 id="synthesize"><a class="header" href="#synthesize">synthesize</a></h4>
<p>with takes the output of the 'configure' and the floorplanner to make the actual circuit</p>
<ul>
<li>called at keygen and proving time</li>
<li>has copy constraints</li>
<li>this is the witness generation code, so you don't need to do much halo2-specific stuff except call assign once per region</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<p>ç¬¬ä¸€ä»£ zkp ç®—æ³•:  groth16 , groth16 ç®—æ³•çš„æ¯ä¸€ä¸ªæ–°çš„ä¸šåŠ¡, æ¯æ¬¡è¿­ä»£éƒ½éœ€è¦é‡æ–°åš Setup, æ¨¡å¼å¤ªé‡, éœ€è¦å¼ºä¿¡ä»»</p>
<p>åé¢çš„ universal setup ä¼˜åŒ–: åªéœ€è¦åšä¸€æ¬¡ Setup, æ‰€æœ‰çš„ä¸šåŠ¡éƒ½å¯ä»¥ä½¿ç”¨. æœ€åˆä»£çš„ universal setup ç®—æ³•æ˜¯ Sonic, poly-com ç”¨äº† KZG, ä½†æ˜¯æ€§èƒ½ä¸å¤Ÿ</p>
<p>19 å¹´ ZCash å›¢é˜Ÿè®¾è®¡å‡ºäº† Halo ç®—æ³•, ä½¿ç”¨äº† Inner Product argument æ›¿æ¢ KZG, æŠŠå®ç° universal Setup çš„æ¡ä»¶æ›´è¿›ä¸€æ­¥å‰Šå¼±äº†, æ”¹æˆäº†ä¸éœ€è¦ Setup . Halo2 ä¸å…‰æƒ³æ”¯æŒ SNARK ç®—æ³•, ä»–æ›´æƒ³æ”¯æŒé€’å½’ç‰¹æ€§, è€Œå› ä¸º Sonic çš„éªŒè¯æ˜¯çº¿æ€§çš„, æ‰€ä»¥å…¶æå‡ºäº†ä¸€å¥— <code>åµŒå¥—å‡æ‘Š</code> (nested amortization) æŠ€æœ¯</p>
<p>History : </p>
<ul>
<li>Sonic : æ”¯æŒ universal Setup çš„ SNARK (æ€§èƒ½ä¸å¤Ÿ)</li>
<li>Halo: Sonic +  Inner Product argument  + <code>åµŒå¥—å‡æ‘Š</code> (nested amortization) æŠ€æœ¯</li>
<li>PLONK : å¯¹ Sonic çš„æ”¹è¿›</li>
<li>Plookup : PLONK + lookup table</li>
<li>UltraPLONK : Plookup + custom gate  (éœ€è¦ Setup)</li>
<li>Halo2 : UltraPLONK + <code>åµŒå¥—å‡æ‘Š</code> (nested amortization) æŠ€æœ¯  (æ— éœ€ Setup)
<ul>
<li>é€šè¿‡ nested amortization å°†é€’å½’è¯æ˜çš„ overhead é™ä½</li>
</ul>
</li>
</ul>
<p>æ€»ç»“ä¸‹ : </p>
<ul>
<li>Groth16 : ç¬¬ä¸€ä»£ Pairing-based zk-SNARKs </li>
<li>PLONK : ç¬¬äºŒä»£ Pairing-based zk-SNARKs (universal <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mord mathnormal">p</span></span></span></span> )</li>
<li>Halo2 : ç¬¬ä¸‰ä»£ zkp æŠ€æœ¯, YYDS ! 
<ul>
<li>ä¸éœ€è¦ Setup </li>
<li>ä¸éœ€è¦é…å¯¹æ›²çº¿, åªéœ€è¦ä¸€ä¸ªæ”¯æŒç¦»æ•£å¯¹æ•°çš„æ›²çº¿, éœ€è¦çš„å®‰å…¨æ€§å‡è®¾è¾ƒå¼±</li>
<li>æ”¯æŒé€’å½’</li>
</ul>
</li>
</ul>
<h3 id="concepts"><a class="header" href="#concepts">Concepts</a></h3>
<p>The arithmetization used by Halo 2 comes fromÂ <a href="https://eprint.iacr.org/2019/953">PLONK</a>, or more precisely its extension UltraPLONK that supports custom gates and lookup arguments. We'll call itÂ <a href="https://twitter.com/feministPLT/status/1413815927704014850"><em><strong>PLONKish</strong></em></a>.</p>
<h4 id="inner-product-argument-1"><a class="header" href="#inner-product-argument-1">Inner Product Argument</a></h4>
<p>æ˜Ÿæƒ³æ³•å¯¹ [Inner Product Argument] çš„ä»‹ç»</p>
<ul>
<li>No Setup</li>
<li></li>
</ul>
<h4 id="custom-gate"><a class="header" href="#custom-gate">Custom Gate</a></h4>
<p>Custom Gate å¯ä»¥å¼•ç”¨åŒä¸€åˆ—çš„å¤šè¡Œ Cell, ç±»ä¼¼äº d ã€ d_next çš„ä½œç”¨</p>
<ul>
<li>ä»£ä»· : è¯æ˜ä¸­éœ€è¦å¤šå¢åŠ ä¸€ä¸ª <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> å³å¤šå¢åŠ ä¸€ä¸ª Fr 
Custom Gate çš„è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªå¤šå…ƒé«˜æ¬¡å¤šé¡¹å¼, å³, æœ€é«˜æ¬¡æ•°å¯ä»¥ &gt;2 </li>
<li>Standard PLONK : Degree = 2 
æ¯ä¸€ä¸ª Custom Gate éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„ selector column ä¸å…¶å¯¹åº”</li>
</ul>
<p>Custom Gate åªèƒ½å¤Ÿå¼•ç”¨ç›¸å¯¹åç§»çš„ cells, åç§»å€¼çš„ç±»å‹æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;color:red;">R</span><span class="mord mathnormal" style="color:red;">o</span><span class="mord mathnormal" style="color:red;">t</span><span class="mord mathnormal" style="color:red;">a</span><span class="mord mathnormal" style="color:red;">t</span><span class="mord mathnormal" style="color:red;">i</span><span class="mord mathnormal" style="color:red;">o</span><span class="mord mathnormal" style="color:red;">n</span></span></span></span></p>
<p>![[Pasted image 20230822142938.png]]
ä¸€ä¸ª Custom Gate å¯ä»¥æ¶‰åŠåˆ°è‹¥å¹²ä¸ª advice/Instance/fixed/selector 
å®ƒå¯ä»¥å¼•ç”¨ç›¸å¯¹ä½ç½®(ä¸Š 1 è¡Œ, ä¸Š 2 è¡Œ, ä¸‹ 1 è¡Œ, ä¸‹ 2 è¡Œ) </p>
<p>å¦‚ä¸Šå›¾æœ‰ 2 ä¸ª gates, å¯¹äº <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal">G</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> , å…¶ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  è®¾ç½®ä¸º 1 , åˆ™éœ€è¦æ»¡è¶³ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">o</span><span class="mord mathnormal">m</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord mathnormal">G</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>
å¯¹äºä¸‹é¢é‚£ä¸ª, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> éƒ½æ˜¯ 1 , åˆ™ Custom Gate 0 / 1 éƒ½éœ€è¦æ»¡è¶³</p>
<h3 id="halo2-arithmetization"><a class="header" href="#halo2-arithmetization">Halo2 Arithmetization</a></h3>
<ul>
<li>Halo é‡Œç”¨ R1CS æ¥è¡¨è¿° Circuitï¼Œæ¨¡å¼å¦‚: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></li>
<li>Halo2 é‡Œç”¨ Plonk Arithmetization æ¥è¡¨ç¤º Circuitï¼Œæ¨¡å¼å¦‚ï¼š <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">qR</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">qO</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">qM</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">qC</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></li>
</ul>
<p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>  ä¸º selector polynomial, ä¸åŒçš„å–å€¼ï¼Œä»£è¡¨ä¸åŒçš„ Gateï¼Œå¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<h3 id="halo2-ç¼–ç¨‹"><a class="header" href="#halo2-ç¼–ç¨‹">Halo2 ç¼–ç¨‹</a></h3>
<p>![[Pasted image 20230822150314.png]]</p>
<h3 id="ç”µè·¯è¿›é˜¶-sha256-ä¼˜åŒ–å®ç°"><a class="header" href="#ç”µè·¯è¿›é˜¶-sha256-ä¼˜åŒ–å®ç°">ç”µè·¯è¿›é˜¶ (sha256 ä¼˜åŒ–å®ç°)</a></h3>
<ul>
<li>Groth16 + R1CS å®ç° SHA256 :
<ul>
<li>çº¦éœ€è¦ 2.5W è¡Œ R1CS çº¦æŸ ...</li>
</ul>
</li>
<li>Halo2 + Custom Gate + lookup table  : 
<ul>
<li>2099 è¡Œ  (å½±å“çš„æ˜¯å¤šé¡¹å¼çš„æ¬¡æ•° : Groth16 ä¸­å¤šé¡¹å¼çš„æ¬¡æ•°è‡³å°‘æ˜¯ 25000, è¿™é‡Œåªéœ€è¦ 2099 æ¬¡æ•°)</li>
<li>11 advice columns</li>
<li>3 fixed constant columns</li>
<li>20 Custom Gates.</li>
<li>20 Selector columns  (æ§åˆ¶ Custom Gates.)</li>
<li>Spread Table ä½¿ç”¨äº† <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span></span></span></span></span></span></span></span>  è¡Œ  ( ä½¿ç”¨çš„æ˜¯ u16, æ‰€ä»¥æ˜¯  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span></span></span></span></span></span></span></span>  è¡Œ)
<ul>
<li>ä¸ºä»€ä¹ˆ  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">16</span></span></span></span></span></span></span></span></span></span></span></span> è¿œå¤§äº 2099 ?</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="halo2ç”µè·¯æ„å»ºæºä»£ç å¯¼è¯»"><a class="header" href="#halo2ç”µè·¯æ„å»ºæºä»£ç å¯¼è¯»">Halo2ç”µè·¯æ„å»ºæºä»£ç å¯¼è¯»</a></h3>
<ul>
<li>PLONK/Groth16 çº¦æŸç³»ç»Ÿç”±ä¸€æ¡æ¡ç›¸å¯¹ç‹¬ç«‹çš„çº¦æŸç»„æˆï¼ˆçº¦æŸåªèƒ½çº¦æŸè¯¥è¡Œä¸Šçš„å˜é‡ï¼‰ï¼Œå¹¶ä¸”ä¸€æ¡çº¦æŸæŒ‡å®šäº†æ”¯æŒçš„è®¡ç®—ï¼ˆä¹˜æ³•æˆ–è€…åŠ æ³•ç»„åˆï¼‰</li>
<li>Halo2 çš„çº¦æŸç³»ç»Ÿä¸­çš„çº¦æŸå¹¶ä¸é™å®šåœ¨ä¸€è¡Œä¸Šçš„å˜é‡ï¼Œå¹¶ä¸”é‡‡ç”¨â€œcustom gateâ€ï¼Œä»»æ„æŒ‡å®šçº¦æŸéœ€è¦çš„è®¡ç®—</li>
</ul>
<p>Cell : CellæŒ‡å®šåœ¨ä¸€ä¸ªRegionä¸­çš„æŸè¡ŒæŸåˆ— , å…¶å®šä¹‰åœ¨ <code>src/circuit.rs</code> :</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct Cell {  
 Â  Â region_index: RegionIndex,  
 Â  Â row_offset: usize,  
 Â  Â column: Column&lt;Any&gt;,  
}
<span class="boring">}</span></code></pre></pre>
<p>Region : </p>
<ul>
<li>ç»™ Cell è¿›è¡Œé…ç½®çš„æ—¶å€™, æ˜¯éœ€è¦æŒ‰ç…§ä¸€ä¸ª Region æ¥çš„, Region å¯ä»¥è®¤ä¸ºæ˜¯å°çš„åŠŸèƒ½æ¨¡å—, Region åœ¨è®ºæ–‡é‡Œæ˜¯æ²¡æœ‰çš„, æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘å®ç°åŠ è¿›å»çš„é€»è¾‘.</li>
<li>åœ¨ä¸€ä¸ª Region é‡Œé¢çš„é€»è¾‘å¯ä»¥ copy, åœ¨å†™ç”µè·¯çš„æ—¶å€™çœ‹åˆ°çš„æ˜¯ä¸€ä¸ªä¸€ä¸ªçš„ Region, åœ¨ç”Ÿæˆå¦å¤–ä¸€ä¸ª Region çš„æ—¶å€™, å¯ä»¥æŠŠç›¸åŒçš„é€»è¾‘åšå¹³ç§», å› ä¸ºéƒ½æ˜¯ä½¿ç”¨çš„ <code>ç›¸å¯¹åæ ‡</code> 
<ul>
<li>(ä¸ºäº†æ›´å¥½çš„ç”µè·¯æ¨¡å—åŒ–ï¼Œç”µè·¯æ„å»ºå¾€å¾€æ˜¯ç›¸å¯¹äºä¸€ä¸ª Region, åŒä¸€ä¸ªç”µè·¯æ¨¡å—ï¼Œå¯ä»¥åœ¨ä¸åŒçš„ Region ä¸­â€œå¤åˆ¶â€)</li>
</ul>
</li>
<li>å¼€å‘äººå‘˜å†™ä»£ç å…³æ³¨çš„äº‹ Region é‡Œçš„å®ç° â€”â€” åœ¨ Region é‡Œå¹²ä»€ä¹ˆäº‹, ç„¶å Region ä¼šè‡ªå·±æ‰¾åˆé€‚çš„åœ°æ–¹æ”¾ç½®è¿™äº› Chip</li>
</ul>
<h4 id="chipcfiginstructionlayouter"><a class="header" href="#chipcfiginstructionlayouter">Chip/cfig/instruction/Layouter</a></h4>
<ul>
<li><strong>Chip(èŠ¯ç‰‡)</strong>  :  ç”µè·¯ç”±ä¸€ä¸ªä¸ª Chip é€»è¾‘å †ç Œè€Œæˆã€‚æ¯ä¸ª Chip çš„åˆ›å»ºä» â€œConfigâ€å¼€å§‹ã€‚</li>
<li><strong>Config</strong>  :  æ‰€è°“çš„ Configï¼Œå°±æ˜¯ç”³è¯·Chipéœ€è¦çš„Columnä»¥åŠé…ç½®Fixedåˆ—çš„é€»è¾‘å«ä¹‰ã€‚è¿™äº›é…ç½®å¯èƒ½æ˜¯ Custom Gateï¼Œå¯èƒ½æ˜¯ lookupã€‚</li>
<li><strong>Instructions</strong>  : æ¯ä¸€ä¸ª Chip éƒ½æœ‰æŒ‡ä»¤ï¼ˆInstructionï¼‰ã€‚é€šè¿‡æŒ‡ä»¤çš„è°ƒç”¨ï¼Œå°† Chip çš„éƒ¨åˆ†æˆ–è€…å…¨éƒ¨åŠŸèƒ½åŠ å…¥ç”µè·¯ä¸­</li>
<li><strong>Layouter</strong>
<ul>
<li>Layouter åšçš„äº‹å°±æ˜¯æ ¹æ®éœ€æ±‚, æ‰¾åˆ°èƒ½æ”¾ä¸‹ Chip çš„ç©ºåœ°, æŠŠä»–æ”¾ç½®ä¸Šå», ç±»ä¼¼åœ¨ä¸€ä¸ªçŸ©å½¢ä¸Šç”»ä¸œè¥¿: æŠŠ Chip æ”¾åˆ°ç”»å¸ƒä¸Š, å°±åƒåå®¹é“, ç»„å‡ºæ¥çš„çŸ©é˜µå¯å¤§å¯å°, æœ‰å¥½æœ‰å... </li>
<li>å°† Chip æ·»åŠ åˆ°ä¸€ä¸ªç”µè·¯ä¸Šéœ€è¦å¸ƒå±€ã€‚Layouter å°±æ˜¯ç”¨æ¥å®ç°å¸ƒå±€ã€‚Layouter æ¥å£å®šä¹‰åœ¨src/circuit.rsä¸­ï¼š</li>
</ul>
</li>
</ul>
<p>Layouter æœ¬èº«å­˜åœ¨å±‚çº§å…³ç³»ï¼Œæ‰€ä»¥ Layouter Interface å®šä¹‰äº†<code>get_root / push_namespace / pop_namespace / namespace</code> ç­‰ç›¸å…³çš„å‡½æ•°ã€‚æ ¸å¿ƒé€»è¾‘åœ¨å…¶ä»–ä¸‰ä¸ªå‡½æ•°ï¼š</p>
<ul>
<li><code>assign_region</code> - è·å–ä¸€ä¸ª regionï¼Œåœ¨è¿™ä¸ª region ä¸Šå¯ä»¥è¿›è¡Œå„ç§â€œassignmentâ€(èµ‹å€¼)ï¼Œå®šä¹‰åœ¨ <code>RegionLayouter</code> æ¥å£ä¸­</li>
<li><code>assign_table</code> - è·å–ä¸€ä¸ª tableï¼Œå¹¶è®¾ç½® tableï¼Œæ¥å£å®šä¹‰åœ¨ <code>TableLayouter</code> æ¥å£ä¸­ã€‚</li>
<li><code>constrain_instance</code> - é™åˆ¶ä¸€ä¸ª Cell å’Œ Instance åˆ—ä¸­çš„æŸä¸ª Cell ä¸€è‡´</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub trait Layouter&lt;F: Field&gt; {  
 Â  Â type Root: Layouter&lt;F&gt;;  
 Â  Â   
 Â  Â fn assign_region&lt;A, AR, N, NR&gt;(&amp;mut self, name: N, assignment: A) -&gt; Result&lt;AR, Error&gt;  
 Â  Â where  
 Â  Â  Â  Â A: FnMut(Region&lt;'_, F&gt;) -&gt; Result&lt;AR, Error&gt;,  
 Â  Â  Â  Â N: Fn() -&gt; NR,  
 Â  Â  Â  Â NR: Into&lt;String&gt;;  
  
 Â  Â fn assign_table&lt;A, N, NR&gt;(&amp;mut self, name: N, assignment: A) -&gt; Result&lt;(), Error&gt;  
 Â  Â where  
 Â  Â  Â  Â A: FnMut(Table&lt;'_, F&gt;) -&gt; Result&lt;(), Error&gt;,  
 Â  Â  Â  Â N: Fn() -&gt; NR,  
 Â  Â  Â  Â NR: Into&lt;String&gt;;  
  
 Â  Â fn constrain_instance(  
 Â  Â  Â  Â &amp;mut self,  
 Â  Â  Â  Â cell: Cell,  
 Â  Â  Â  Â column: Column&lt;Instance&gt;,  
 Â  Â  Â  Â row: usize,  
 Â  Â ) -&gt; Result&lt;(), Error&gt;;  
  
 Â  Â fn get_root(&amp;mut self) -&gt; &amp;mut Self::Root;  
 Â  Â fn push_namespace&lt;NR, N&gt;(&amp;mut self, name_fn: N)  
 Â  Â where  
 Â  Â  Â  Â NR: Into&lt;String&gt;,  
 Â  Â  Â  Â N: FnOnce() -&gt; NR;  
 Â  Â fn pop_namespace(&amp;mut self, gadget_name: Option&lt;String&gt;);  
 Â  Â fn namespace&lt;NR, N&gt;(&amp;mut self, name_fn: N) -&gt; NamespacedLayouter&lt;'_, F, Self::Root&gt;  
 Â  Â where  
 Â  Â  Â  Â NR: Into&lt;String&gt;,  
 Â  Â  Â  Â N: FnOnce() -&gt; NR,  
 Â  Â {  
 Â  Â  Â  Â self.get_root().push_namespace(name_fn);  
  
 Â  Â  Â  Â NamespacedLayouter(self.get_root(), PhantomData)  
 Â  Â }  
}
<span class="boring">}</span></code></pre></pre>
<h4 id="assignment"><a class="header" href="#assignment"><strong>Assignment</strong></a></h4>
<ul>
<li>å‰é¢æåˆ°, å¸ƒå±€çš„è¿‡ç¨‹ä¸­ç”¨çš„ Region, ä½†æ˜¯å…¶è¢«æ”¾ç½®çš„ç”»å¸ƒæ˜¯ä¸€ä¸ªå…¨å±€çš„çŸ©é˜µ, åœ¨ synthesize å®Œæˆå, æ˜¯è¦å¯¹æ‰€æœ‰çš„ Cells è¿›è¡Œèµ‹å€¼çš„</li>
<li>ç”µè·¯â€œèµ‹å€¼â€çš„æ¥å£ å°±æ˜¯ <strong>Assignment</strong> ï¼Œå®šä¹‰åœ¨ <code>src/plonk/circuit.rs</code> ï¼š</li>
<li><strong>Assignment</strong> å¤„ç†çš„ä¸œè¥¿æ¯”è¾ƒ Tricky: 
<ul>
<li>å®ƒæ—¢è¦çŸ¥é“ Region ä¿¡æ¯(Region ç”¨çš„æ˜¯ä¸€äº› relative ç›¸å¯¹ä¿¡æ¯)</li>
<li>åˆè¦æŠŠ Region ä¿¡æ¯ç¿»è¯‘ Translate æˆå…¨å±€ä¿¡æ¯, å› ä¸ºæœ€åç»“æœæ˜¯å…¨å±€çš„, ä¸­é—´çš„ Assign è¿‡ç¨‹æ˜¯æ›²æŠ˜çš„, æ˜¯é€šè¿‡ Region è¿›è¡Œè½¬æ¢çš„ ...</li>
</ul>
</li>
</ul>
<h3 id="ç”µè·¯å†…éƒ¨æ¡†æ¶"><a class="header" href="#ç”µè·¯å†…éƒ¨æ¡†æ¶">ç”µè·¯å†…éƒ¨æ¡†æ¶</a></h3>
<p>ä¸ºäº†æ–¹ä¾¿ Devs å¼€å‘ç”µè·¯ï¼ŒHalo2 çš„å†…éƒ¨æŠ½è±¡äº†å¸ƒå±€çš„æ¥å£ , ç›®å‰æœ‰ 2 å¥— Layouter çš„å®ç°ï¼š</p>
<ol>
<li><code>SimpleFloorPlanner</code></li>
<li><code>V1/V1Plan</code>  ä¸ºäº†ç†è§£ Halo2 çš„å†…éƒ¨é€»è¾‘ï¼Œè¿™é‡Œåªè¯¦ç»†è®²è§£ <code>SimpleFloorPlanner</code> : </li>
</ol>
<p>![[Pasted image 20230824151908.png]]</p>
<p>å¦‚ä¸Šå›¾, <code>SimpleFloorPlanner</code> å¤„åœ¨æœ€æ ¸å¿ƒé«˜å±‚, æ˜¯ä¸€ä¸ªæ›´é«˜é˜¶çš„ç®¡ç†å™¨ , <code>Layouter</code> æ˜¯æ°´å¹³å¸ƒå±€å™¨, åŸºæœ¬ä¸Šåªè´Ÿè´£ä¸€å±‚çš„æ„å»º </p>
<p>æ•´ä¸ªæ¡†æ¶ç”±å››ä¸ªæ¥å£ç»„æˆï¼š<code>FloorPlanner</code>ï¼Œ<code>Layouter</code>ï¼Œ<code>RegionLayout/TableLayout </code>ä»¥åŠAssignment</p>
<p>ç®€å•çš„è¯´ï¼Œä¸€ä¸ª FloorPlanner æ‹¥æœ‰ä¸€ä¸ª Layouterï¼Œä¸€ä¸ª Layouter å¯ä»¥åˆ†é…å¤šä¸ª RegionLayout æˆ–è€…TableLayoutã€‚ç”µè·¯å¯¹ Cell çš„ assignment é€šè¿‡ Assignment å®ç°</p>
<p>å…ˆä»ä¸‰è€…çš„æ•´ä½“è°ƒç”¨å…³ç³»è®²èµ·ï¼š</p>
<ul>
<li><em>SimpleFloorPlanner</em> æ˜¯å¯¹ <em>FloorPlanner</em> æ¥å£çš„å®ç°ï¼Œå®šä¹‰åœ¨ <code>src/circuit/floor_planner/single_pass.rs</code> ä¸­ï¼š</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct SimpleFloorPlanner;

// SimpleFloorPlannerå®ç°äº†FloorPlanner trait çš„synthesizeå‡½æ•°ã€‚
// å®¹æ˜“çœ‹å‡ºï¼Œè¯¥å‡½æ•°åˆ›å»ºå‡ºSingleChipLayouterå¯¹è±¡ï¼Œå¹¶ç›´æ¥è°ƒç”¨ç›¸åº”çš„synthesizeå‡½æ•°å¼€å§‹ç”µè·¯çš„synthesize
impl FloorPlanner for SimpleFloorPlanner {
    fn synthesize&lt;F: Field, CS: Assignment&lt;F&gt;, C: Circuit&lt;F&gt;&gt;(
        cs: &amp;mut CS,
        circuit: &amp;C,
        config: C::Config,
        constants: Vec&lt;Column&lt;Fixed&gt;&gt;,
    ) -&gt; Result&lt;(), Error&gt; {
        let layouter = SingleChipLayouter::new(cs, constants)?;
        circuit.synthesize(config, layouter)
    }
}
<span class="boring">}</span></code></pre></pre>
<p><code>SingleChipLayouter</code> å®šä¹‰åœ¨ <code>src/circuit/floor_planner/single_pass.rs</code> ä¸­ï¼ŒåŒ…æ‹¬äº†ç”µè·¯çš„æ‰€æœ‰çš„ä¿¡æ¯ã€‚</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct SingleChipLayouter&lt;'a, F: Field, CS: Assignment&lt;F&gt; + 'a&gt; {
    cs: &amp;'a mut CS,
    constants: Vec&lt;Column&lt;Fixed&gt;&gt;,
    /// Stores the starting row for each region.
    regions: Vec&lt;RegionStart&gt;,
    /// Stores the first empty row for each column.
    columns: HashMap&lt;RegionColumn, usize&gt;,
    /// Stores the table fixed columns.
    table_columns: Vec&lt;TableColumn&gt;,
    _marker: PhantomData&lt;F&gt;,
}
<span class="boring">}</span></code></pre></pre>
<p><code>SingleChipLayouter</code> çš„ Region ç®¡ç†æ¯”è¾ƒç®€å•ï¼ŒæŸè¡Œæ•´ä½“å±äºæŸä¸ª Region ã€‚</p>
<ul>
<li>regions è®°å½•æ¯ä¸ª Region çš„è¡Œçš„å¼€å§‹åç§»(starting row)ã€‚</li>
<li>cs æ˜¯ Assignment æ¥å£çš„å®ç°ï¼Œå­˜å‚¨æ‰€æœ‰ç”µè·¯çš„èµ‹å€¼ä¿¡æ¯ã€‚</li>
<li>columns è®°å½•å½“å‰æ“ä½œ RegionColumn å¯¹åº”çš„ç©ºçš„ row çš„åç§»ã€‚table_columns è®°å½• Table éœ€è¦çš„ Fixed çš„ Columnã€‚</li>
<li>ç®€å•çš„è¯´ï¼Œ<code>SingleChipLayouter</code> è®°å½•äº†ç”µè·¯ï¼ˆåŒ…æ‹¬å¸ƒå±€ï¼‰éœ€è¦çš„æ‰€æœ‰ä¿¡æ¯ã€‚</li>
</ul>
<p>SingleChipLayouter's <strong>assign_region</strong> å‡½æ•°å®ç°ä¸€ä¸ª Region çš„ synthesize è¿‡ç¨‹ã€‚ç®€å•çš„è¯´ï¼ŒSingleChipLayouter çš„ assign_region å‡½æ•°çš„ä¸»è¦é€»è¾‘å°±æ˜¯åˆ›å»ºä¸€ä¸ª region ï¼Œå¹¶å°† region å†…çš„å¸ƒå±€è½¬åŒ–ä¸ºå…¨å±€å¸ƒå±€ã€‚SingleChipLayouter çš„ <code>assign_region</code> é€»è¾‘å¯ä»¥åˆ†æˆä¸¤éƒ¨åˆ†ï¼š</p>
<ol>
<li>é€šè¿‡ RegionShape è·å– Region çš„â€œå½¢çŠ¶â€ã€‚æ‰€è°“çš„â€œå½¢çŠ¶â€ï¼ŒåŒ…æ‹¬ä¸»è¦æ˜¯é‡‡ç”¨çš„ Column çš„ä¿¡æ¯</li>
<li>æ ¹æ®ä¸Šä¸€æ­¥è·å–çš„ Column ä¿¡æ¯ï¼Œæ‰¾å‡ºå’Œå…¶ä»– Region ä¸å†²çªçš„èµ·å§‹é—®é¢˜ã€‚</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// 
fn assign_region&lt;A, AR, N, NR&gt;(&amp;mut self, name: N, mut assignment: A) -&gt; Result&lt;AR, Error&gt;
where
    A: FnMut(Region&lt;'_, F&gt;) -&gt; Result&lt;AR, Error&gt;,
    N: Fn() -&gt; NR,
    NR: Into&lt;String&gt;,
{
    let region_index = self.regions.len(); // è·å–å½“å‰Regionçš„ç¼–å·

    // Get shape of the region. è¿™ä¸ª Region æœ‰å‡ è¡Œå‡ åˆ—?
    // è°ƒç”¨ RegionShape çš„ Region æ¥å£ï¼Œæ”¶é›†è¯¥ Region çš„ç”µè·¯æ¶‰åŠåˆ°çš„ Column ä¿¡æ¯
    let mut shape = RegionShape::new(region_index.into());
    {
        let region: &amp;mut dyn RegionLayouter&lt;F&gt; = &amp;mut shape;
        assignment(region.into())?;
    }

    // Lay out this region. We implement the simplest approach here: position the
    // region starting at the earliest row for which none of the columns are in use.
    let mut region_start = 0; //æ ¹æ®æ”¶é›†åˆ°çš„Columnä¿¡æ¯ï¼Œè·å–Regionå¼€å§‹çš„è¡Œå·
    for column in &amp;shape.columns {
        region_start = cmp::max(region_start, self.columns.get(column).cloned().unwrap_or(0));
    }
    self.regions.push(region_start.into());

    // Update column usage information. //åœ¨Regionä¸­è®°å½•ä¸‹æ‰€æœ‰ä½¿ç”¨çš„Columnçš„ä¿¡æ¯
    for column in shape.columns {
        self.columns.insert(column, region_start + shape.row_count);
    }

    // Assign region cells.
    self.cs.enter_region(name); //åˆ›å»ºRegion
    let mut region = SingleChipLayouterRegion::new(self, region_index.into());
    let result = {
        let region: &amp;mut dyn RegionLayouter&lt;F&gt; = &amp;mut region;
        assignment(region.into()) //é‡‡ç”¨SingleChipLayouterRegionå¯¹ç”µè·¯èµ‹å€¼
    }?;
    let constants_to_assign = region.constants;
    self.cs.exit_region(); //é€€å‡ºRegion

    // Assign constants. For the simple floor planner, we assign constants in order in
    // the first `constants` column.
    if self.constants.is_empty() {//å¦‚æœåˆ¶å®šäº†constantsï¼Œéœ€è¦å¢åŠ ç½®æ¢é™åˆ¶
        if !constants_to_assign.is_empty() {
            return Err(Error::NotEnoughColumnsForConstants);
        }
    } else {
        let constants_column = self.constants[0];
        let next_constant_row = self
            .columns
            .entry(Column::&lt;Any&gt;::from(constants_column).into())
            .or_default();
        for (constant, advice) in constants_to_assign {
            self.cs.assign_fixed(
                || format!(&quot;Constant({:?})&quot;, constant.evaluate()),
                constants_column,
                *next_constant_row,
                || Ok(constant),
            )?;
            self.cs.copy(
                constants_column.into(),
                *next_constant_row,
                advice.column,
                *self.regions[*advice.region_index] + advice.row_offset,
            )?;
            *next_constant_row += 1;
        }
    }

    Ok(result)
}
<span class="boring">}</span></code></pre></pre>
<p>ç±»ä¼¼ 0XPARC é‡Œæåˆ°çš„, å³ä½¿ç¬¬äºŒè¡Œå¯ä»¥æ”¾ç½®ä¸€ä¸ª Region, ä½†æ˜¯ <code>SimpleFloorPlanner</code> ç®¡ä¸äº†é‚£ä¹ˆå¤š, æˆ‘å°±æ˜¯å¾€åä¸€è¡Œæ”¾ ... (è¿™ä¸ªç”µè·¯æ˜¯ä¸€ç›´å¾€ä¸‹çš„, ä¸ä¼šå‘å·¦æ‰¾æ‰¾, å‘å³æ‰¾æ‰¾, æ˜¯æ¯”è¾ƒåˆçº§çš„)</p>
<p>SingleChipLayouter's <code>assign_table</code>  : å½“å‰çš„ç”µè·¯ä¸­å¢åŠ æŸ¥æ‰¾è¡¨é€»è¾‘ï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn assign_table&lt;A, N, NR&gt;(&amp;mut self, name: N, mut assignment: A) -&gt; Result&lt;(), Error&gt;  
where  
 Â  Â A: FnMut(Table&lt;'_, F&gt;) -&gt; Result&lt;(), Error&gt;,  
 Â  Â N: Fn() -&gt; NR,  
 Â  Â NR: Into&lt;String&gt;,  
{  
 Â  Â // Maintenance hazard: there is near-duplicate code in `v1::AssignmentPass::assign_table`.  
 Â  Â // Assign table cells.  
 Â  Â self.cs.enter_region(name); //åˆ›å»ºä¸€ä¸ªRegion  
 Â  Â let mut table = SimpleTableLayouter::new(self.cs, &amp;self.table_columns);  
 Â  Â {  
 Â  Â  Â  Â let table: &amp;mut dyn TableLayouter&lt;F&gt; = &amp;mut table;  
 Â  Â  Â  Â assignment(table.into()) //æŸ¥æ‰¾è¡¨èµ‹å€¼  
 Â  Â }?;  
 Â  Â let default_and_assigned = table.default_and_assigned;  
 Â  Â self.cs.exit_region(); //é€€å‡ºå½“å‰Region  
  
 Â  Â // Check that all table columns have the same length `first_unused`,  
 Â  Â // and all cells up to that length are assigned.  
 Â  Â let first_unused = { //è·å–å‡ºæ‰€æœ‰æŸ¥æ‰¾è¡¨ç›¸å…³çš„Columnå¯¹åº”çš„æœ€å¤§ä½¿ç”¨è¡Œæ•°  
 Â  Â  Â  Â match default_and_assigned  
 Â  Â  Â  Â  Â  Â .values()  
 Â  Â  Â  Â  Â  Â .map(|(_, assigned)| {  
 Â  Â  Â  Â  Â  Â  Â  Â if assigned.iter().all(|b| *b) {  
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Some(assigned.len())  
 Â  Â  Â  Â  Â  Â  Â  Â } else {  
 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â None  
 Â  Â  Â  Â  Â  Â  Â  Â }  
 Â  Â  Â  Â  Â  Â })  
 Â  Â  Â  Â  Â  Â .reduce(|acc, item| match (acc, item) {  
 Â  Â  Â  Â  Â  Â  Â  Â (Some(a), Some(b)) if a == b =&gt; Some(a),  
 Â  Â  Â  Â  Â  Â  Â  Â _ =&gt; None,  
 Â  Â  Â  Â  Â  Â }) {  
 Â  Â  Â  Â  Â  Â Some(Some(len)) =&gt; len,  
 Â  Â  Â  Â  Â  Â _ =&gt; return Err(Error::SynthesisError), // TODO better error  
 Â  Â  Â  Â }  
 Â  Â };  
  
 Â  Â // Record these columns so that we can prevent them from being used again.  
 Â  Â for column in default_and_assigned.keys() {  
 Â  Â  Â  Â self.table_columns.push(*column);  
 Â  Â }  
 Â  Â //æ ¹æ®default_and_assignedä¿¡æ¯ï¼Œé‡‡ç”¨defaultå€¼æ‰©å±•æ‰€æœ‰çš„column  
 Â  Â for (col, (default_val, _)) in default_and_assigned {  
 Â  Â  Â  Â // default_val must be Some because we must have assigned  
 Â  Â  Â  Â // at least one cell in each column, and in that case we checked  
 Â  Â  Â  Â // that all cells up to first_unused were assigned.  
 Â  Â  Â  Â self.cs  
 Â  Â  Â  Â  Â  Â .fill_from_row(col.inner(), first_unused, default_val.unwrap())?;  
 Â  Â }  
  
 Â  Â Ok(())  
}
<span class="boring">}</span></code></pre></pre>
<p><code>default_and_assigned</code> è®°å½•äº†åœ¨ä¸€ä¸ª Fixed Column ä¸Šçš„ default å€¼ä»¥åŠæŸä¸ª cell æ˜¯å¦å·²ç»è®¾ç½®</p>
<p><code>SingleChipLayouterRegion</code> å®ç°äº† Region æ¥å£ã€‚å¦‚æœåœ¨ Region ä¸­éœ€è¦ç»™ä¸€ä¸ª Advice åˆ—ä¸­ Cell èµ‹å€¼ï¼Œå¯ä»¥é‡‡ç”¨ assign_advice å‡½æ•°ï¼š</p>
<pre><code class="language-RUST">fn assign_advice&lt;'v&gt;(  
 Â  Â &amp;'v mut self,  
 Â  Â annotation: &amp;'v (dyn Fn() -&gt; String + 'v),  
 Â  Â column: Column&lt;Advice&gt;,  
 Â  Â offset: usize,  
 Â  Â to: &amp;'v mut (dyn FnMut() -&gt; Result&lt;Assigned&lt;F&gt;, Error&gt; + 'v),  
) -&gt; Result&lt;Cell, Error&gt; {  
 Â  Â self.layouter.cs.assign_advice( //è°ƒç”¨Assignmentæ¥å£è®¾ç½®ç›¸åº”çš„Cellä¿¡æ¯ï¼Œç‰¹åˆ«æ³¨æ„çš„æ˜¯åœ¨è®¾ç½®çš„æ—¶å€™éœ€è¦Cellçš„å…¨å±€åç§»  
 Â  Â  Â  Â annotation,  
 Â  Â  Â  Â column,  
 Â  Â  Â  Â *self.layouter.regions[*self.region_index] + offset,  
 Â  Â  Â  Â to,  
 Â  Â )?;  
  
 Â  Â Ok(Cell {  
 Â  Â  Â  Â region_index: self.region_index,  
 Â  Â  Â  Â row_offset: offset,  
 Â  Â  Â  Â column: column.into(),  
 Â  Â })  
}
</code></pre>
<p><code>cs.assign_fixed</code> å‡½æ•°ï¼Œå¯¹ fixed Column è¿›è¡Œèµ‹å€¼ã€‚å¯ä»¥å‚è€ƒ MockProver çš„å®ç°(src/dev.rs)</p>
<ul>
<li>è¿™ä¸ª cs ä¸æ˜¯ constrain System , åªæ˜¯ Assignment çš„æ¥å£ : MockProver</li>
</ul>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn assign_fixed&lt;V, VR, A, AR&gt;(
    &amp;mut self,
    _: A,
    column: Column&lt;Fixed&gt;,
    row: usize,
    to: V,
) -&gt; Result&lt;(), Error&gt;
where
    V: FnOnce() -&gt; Result&lt;VR, Error&gt;,
    VR: Into&lt;Assigned&lt;F&gt;&gt;,
    A: FnOnce() -&gt; AR,
    AR: Into&lt;String&gt;,
{
    ... //åœ¨ä¸€äº›æ£€æŸ¥åï¼Œè®¾ç½®Fixedåˆ—ä¸­çš„æŸä¸ªCellï¼ˆcolumnï¼ŒrowæŒ‡å®šï¼‰
    *self
        .fixed
        .get_mut(column.index())
        .and_then(|v| v.get_mut(row))
        .ok_or(Error::BoundsFailure)? = CellValue::Assigned(to()?.into().evaluate());

    Ok(())
}
<span class="boring">}</span></code></pre></pre>
<p>cs.copy å‡½æ•°ï¼Œå¢åŠ ç½®æ¢ä¿¡æ¯ : </p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn copy(
    &amp;mut self,
    left_column: Column&lt;Any&gt;,
    left_row: usize,
    right_column: Column&lt;Any&gt;,
    right_row: usize,
) -&gt; Result&lt;(), crate::plonk::Error&gt; {
    if !self.usable_rows.contains(&amp;left_row) || !self.usable_rows.contains(&amp;right_row) {
        return Err(Error::BoundsFailure);
    }

    self.permutation //å¢åŠ Permutationä¿¡æ¯
        .copy(left_column, left_row, right_column, right_row)
}
<span class="boring">}</span></code></pre></pre>
<p>æ¥ç€æˆ‘ä»¬å†è¯¦ç»†çœ‹çœ‹ RegionLayouter å’Œ TableLayouter ã€‚RegionLayouter å®šä¹‰åœ¨src/circuit/layouter.rsï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub trait RegionLayouter&lt;F: Field&gt;: fmt::Debug {
    //enableé€‰æ‹©å­
    fn enable_selector&lt;'v&gt;(
        &amp;'v mut self,
        annotation: &amp;'v (dyn Fn() -&gt; String + 'v),
        selector: &amp;Selector,
        offset: usize,
    ) -&gt; Result&lt;(), Error&gt;;

    //adviceæˆ–è€…fixedèµ‹å€¼
    fn assign_advice&lt;'v&gt;(
        &amp;'v mut self,
        annotation: &amp;'v (dyn Fn() -&gt; String + 'v),
        column: Column&lt;Advice&gt;,
        offset: usize,
        to: &amp;'v mut (dyn FnMut() -&gt; Result&lt;Assigned&lt;F&gt;, Error&gt; + 'v),
    ) -&gt; Result&lt;Cell, Error&gt;;

    fn assign_advice_from_constant&lt;'v&gt;(
        &amp;'v mut self,
        annotation: &amp;'v (dyn Fn() -&gt; String + 'v),
        column: Column&lt;Advice&gt;,
        offset: usize,
        constant: Assigned&lt;F&gt;,
    ) -&gt; Result&lt;Cell, Error&gt;;

    fn assign_advice_from_instance&lt;'v&gt;(
        &amp;mut self,
        annotation: &amp;'v (dyn Fn() -&gt; String + 'v),
        instance: Column&lt;Instance&gt;,
        row: usize,
        advice: Column&lt;Advice&gt;,
        offset: usize,
    ) -&gt; Result&lt;(Cell, Option&lt;F&gt;), Error&gt;;

    fn assign_fixed&lt;'v&gt;(
        &amp;'v mut self,
        annotation: &amp;'v (dyn Fn() -&gt; String + 'v),
        column: Column&lt;Fixed&gt;,
        offset: usize,
        to: &amp;'v mut (dyn FnMut() -&gt; Result&lt;Assigned&lt;F&gt;, Error&gt; + 'v),
    ) -&gt; Result&lt;Cell, Error&gt;;

    //cellç›¸ç­‰çº¦æŸ
    fn constrain_constant(&amp;mut self, cell: Cell, constant: Assigned&lt;F&gt;) -&gt; Result&lt;(), Error&gt;;

    fn constrain_equal(&amp;mut self, left: Cell, right: Cell) -&gt; Result&lt;(), Error&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p><code>RegionLayouter</code> çš„æ¥å£å¾ˆå®¹æ˜“ç†è§£ï¼ŒåŒ…æ‹¬è®¾ç½®é€‰æ‹©å­ï¼Œç»™cellèµ‹å€¼ï¼Œçº¦æŸcellç›¸ç­‰ã€‚</p>
<p><code>TableLayouter</code> çš„æ¥å£å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub trait TableLayouter&lt;F: Field&gt;: fmt::Debug {
    fn assign_cell&lt;'v&gt;(
        &amp;'v mut self,
        annotation: &amp;'v (dyn Fn() -&gt; String + 'v),
        column: TableColumn,
        offset: usize,
        to: &amp;'v mut (dyn FnMut() -&gt; Result&lt;Assigned&lt;F&gt;, Error&gt; + 'v),
    ) -&gt; Result&lt;(), Error&gt;;
}
<span class="boring">}</span></code></pre></pre>
<p>TableLayouter åªæœ‰ä¸€ä¸ªæ¥å£ï¼šassign_cell.  assign_cell æ˜¯å¯¹è¡¨ä¸­çš„æŸä¸ªTableColumnçš„Cellè¿›è¡Œèµ‹å€¼ã€‚</p>
<p>è‡³æ­¤ï¼Œå¤§ä½“çš„ç”µè·¯æ„é€ çš„é€»è¾‘çš„æ¡†æ¶ç›¸å¯¹æ¸…æ¥šï¼šHalo2 ä¸­çš„ Chip ç”µè·¯ç”±ä¸€ä¸ªä¸ª Region ç»„æˆï¼Œåœ¨Halo2 çš„æ¡†æ¶ä¸­ï¼ŒRegion é€šè¿‡ Layouter è¿›è¡Œåˆ†é…ã€‚ç”µè·¯çš„æ‰€æœ‰çš„ä¿¡æ¯éƒ½å­˜å‚¨åœ¨ Assignment çš„æ¥å£ä¸­ã€‚MockProver æ˜¯ä¸€ä¸ªå¯ä»¥å‚è€ƒçš„ Assignment çš„å®ç°</p>
<h3 id="constraintsystem"><a class="header" href="#constraintsystem">ConstraintSystem</a></h3>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub struct ConstraintSystem&lt;F: Field&gt; {
    pub(crate) gates: Vec&lt;Gate&lt;F&gt;&gt;,
    // ...
<span class="boring">}</span></code></pre></pre>
<p>gates æè¿°äº† â€œCustom Gateâ€ çš„é™åˆ¶è¡¨è¾¾å¼ï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Clone, Debug)]  
pub(crate) struct Gate&lt;F: Field&gt; {  
 Â  Â name: &amp;'static str,  
 Â  Â constraint_names: Vec&lt;&amp;'static str&gt;,  
 Â  Â polys: Vec&lt;Expression&lt;F&gt;&gt;,   // Attention !!
 Â  Â /// We track queried selectors separately from other cells, so that we can use them to  
 Â  Â /// trigger debug checks on gates.  
 Â  Â queried_selectors: Vec&lt;Selector&gt;,  
 Â  Â queried_cells: Vec&lt;VirtualCell&gt;,  
}
<span class="boring">}</span></code></pre></pre>
<p>å¦‚ä¸Šä»£ç , è¿™ä¸ª polys å¤šé¡¹å¼è¡¨è¾¾çš„é€»è¾‘æ˜¯ä½ è‡ªå·±ä¹¦å†™çš„, è€Œä¸æ˜¯åƒ R1CS ä¸­, å°±é‚£å‡ ä¸ªé—¨éƒ½å›ºåŒ–äº†, å¿…é¡»æŒ‰ç…§è¿™å‡ ä¸ªé—¨çš„çº¦æŸæ¥å†™</p>
<p>Halo2çš„ç”µè·¯æ„å»ºåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>
<ol>
<li>Configure ï¼ˆç”µè·¯é…ç½®ï¼‰</li>
<li>Synthesizeï¼ˆç”µè·¯(å®ä¾‹)ç»¼åˆï¼‰</li>
</ol>
<h3 id="a2-b2-ç¤ºä¾‹"><a class="header" href="#a2-b2-ç¤ºä¾‹">a^2 +b^2 ç¤ºä¾‹</a></h3>
<h4 id="1-configure-è¿‡ç¨‹"><a class="header" href="#1-configure-è¿‡ç¨‹">1 <strong>Configure</strong> è¿‡ç¨‹</a></h4>
<p>Configure è°ƒç”¨ ConstraintSystem ç”³è¯·å„ç§åˆ—ä»¥åŠ Gate çš„ä¿¡æ¯ã€‚è°ƒç”¨æŸä¸ª Circuit çš„ Configure å‡½æ•°ä¼šé¡ºåºè°ƒç”¨ç”µè·¯æ¶‰åŠåˆ°çš„ Chip çš„ Configure ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯éƒ½è®°å½•åœ¨ ConstraintSystem ä¸­</p>
<p>æŸ¥çœ‹å®ä¾‹ä¸­çš„ Chip çš„ Configure å‡½æ•° : </p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl&lt;F: FieldExt&gt; Circuit&lt;F&gt; for MyCircuit&lt;F&gt; {
    ...
    fn configure(meta: &amp;mut ConstraintSystem&lt;F&gt;) -&gt; Self::Config {
        let advice = [meta.advice_column(), meta.advice_column()];
        let instance = meta.instance_column();
        let constant = meta.fixed_column();

        FieldChip::configure(meta, advice, instance, constant)
    }
    ...
}

impl&lt;F: FieldExt&gt; FieldChip&lt;F&gt; {
    fn construct(config: &lt;Self as Chip&lt;F&gt;&gt;::Config) -&gt; Self {
        Self {
            config,
            _marker: PhantomData,
        }
    }

    fn configure(
        meta: &amp;mut ConstraintSystem&lt;F&gt;,
        advice: [Column&lt;Advice&gt;; 2],
        instance: Column&lt;Instance&gt;,
        constant: Column&lt;Fixed&gt;,
    ) -&gt; &lt;Self as Chip&lt;F&gt;&gt;::Config {
        meta.enable_equality(instance.into());
        meta.enable_constant(constant);
        for column in &amp;advice {
            meta.enable_equality((*column).into());
        }
        let s_mul = meta.selector();

        meta.create_gate(&quot;mul&quot;, |meta| {
            // | a0  | a1  | s_mul |
            // |-----|-----|-------|
            // | lhs | rhs | s_mul |
            // | out |     |       |
            let lhs = meta.query_advice(advice[0], Rotation::cur());
            let rhs = meta.query_advice(advice[1], Rotation::cur());
            let out = meta.query_advice(advice[0], Rotation::next());
            let s_mul = meta.query_selector(s_mul);

            vec![s_mul * (lhs * rhs - out)]
        });

        FieldConfig {
            advice,
            instance,
            s_mul,
            constant,
        }
    }
}
<span class="boring">}</span></code></pre></pre>
<p>ç¤ºä¾‹ç”µè·¯ç”³è¯·äº†ä¸¤ä¸ª advice åˆ—ï¼Œä¸€ä¸ª instance å’Œ fixed åˆ—, åŒæ—¶ç”µè·¯æ„é€ äº†ä¸€ä¸ªä¹˜æ³• Gateï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>vec![s_mul * (lhs * rhs - out)]
<span class="boring">}</span></code></pre></pre>
<p>è¯¥ä¹˜æ³• Gate å°±æ˜¯ç›¸åº”çš„é™åˆ¶è¡¨è¾¾å¼ã€‚æ³¨æ„å’Œå…¶ä»–é›¶çŸ¥è¯†è¯æ˜çš„çº¦æŸç³»ç»Ÿä¸ä¸€æ ·çš„æ˜¯ï¼Œä¸€ä¸ªçº¦æŸå¯ä»¥é‡‡ç”¨å¤šä¸ªè¡Œä¸Šçš„ Cell ã€‚æ•´ä¸ªè°ƒç”¨å…³ç³»å¦‚ä¸‹ï¼š
<img src="https://mmbiz.qpic.cn/mmbiz_png/IXicdJl0t7b7ibicTPcMibia8flkibbicgl0ZXYMpUVphNgOz01Tc32lIpge03nubDSZxqbF187XTFWCbb7kT8vUK6Gow/640?wx_fmt=png&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="" /></p>
<h4 id="synthesize-1"><a class="header" href="#synthesize-1">synthesize</a></h4>
<p>Dream : synthesize è¿‡ç¨‹å°±ä¸è¦çœ‹ä»£ç äº†, çœ‹ç€ä¸€å¼ å›¾å°±å¤Ÿäº†
åœ¨ Configure å®Œç”µè·¯åï¼Œå¯ä»¥è°ƒç”¨ <code>synthesize</code> ç»¼åˆæŸä¸ªç”µè·¯å®ä¾‹ã€‚æ•´ä¸ªè°ƒç”¨å…³ç³»å¦‚ä¸‹ï¼š</p>
<p>![[Pasted image 20230824174216.png]]</p>
<p>çœ‹å›¾, æŸä¸ª Chip è°ƒç”¨ Layouter åˆ†é… Regionï¼Œå¹¶åœ¨ Region ä¸­æŒ‡å®šçº¦æŸã€‚å¯ä»¥æŸ¥çœ‹ FieldChip çš„ mul å‡½æ•°ï¼š</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl&lt;F: FieldExt&gt; NumericInstructions&lt;F&gt; for FieldChip&lt;F&gt; {
fn mul(
	&amp;self,
	mut layouter: impl Layouter&lt;F&gt;,
	a: Self::Num,
	b: Self::Num,
) -&gt; Result&lt;Self::Num, Error&gt; {
	let config = self.config();

	let mut out = None;
	layouter.assign_region(
		|| &quot;mul&quot;,
		|mut region: Region&lt;'_, F&gt;| {
		    // è·å–åˆ°ä¸€ä¸ªRegionåï¼Œenableè¯¥rowå¯¹åº”çš„ä¹˜æ³•selectorã€‚
			config.s_mul.enable(&amp;mut region, 0)?; 

			let lhs = region.assign_advice( //å¯¹ä¸¤ä¸ªadviceè¿›è¡Œèµ‹å€¼
				|| &quot;lhs&quot;,
				config.advice[0],
				0,
				|| a.value.ok_or(Error::SynthesisError),
			)?;
			let rhs = region.assign_advice(
				|| &quot;rhs&quot;,
				config.advice[1],
				0,
				|| b.value.ok_or(Error::SynthesisError),
			)?;
			//é™åˆ¶ä¸¤ä¸ª advice å’Œä¹‹å‰çš„ load çš„ Cell ä¸€è‡´
			region.constrain_equal(a.cell, lhs)?; 
			region.constrain_equal(b.cell, rhs)?;

			// Now we can assign the multiplication result into the output position.
			let value = a.value.and_then(|a| b.value.map(|b| a * b));
			let cell = region.assign_advice( //å¯¹ä¹˜æ³•çš„è¾“å‡ºè¿›è¡Œèµ‹å€¼
				|| &quot;lhs * rhs&quot;,
				config.advice[0],
				1,
				|| value.ok_or(Error::SynthesisError),
			)?;

			// Finally, we return a variable representing the output,
			// to be used in another part of the circuit.
			out = Some(Number { cell, value });
			Ok(())
		},
	)?;

	Ok(out.unwrap())
} // ...
}
<span class="boring">}</span></code></pre></pre>
<h3 id="summary"><a class="header" href="#summary">Summary</a></h3>
<p>ç†è§£ Halo2ï¼Œå¯ä»¥ä»ä¸¤éƒ¨åˆ†ç€æ‰‹ï¼š1/ ç”µè·¯æ„å»º 2/ è¯æ˜ç³»ç»Ÿã€‚ä»å¼€å‘è€…çš„è§’åº¦çœ‹ï¼Œç”µè·¯æ„å»ºæ˜¯æ¥å£ã€‚å¦‚ä½•é€šè¿‡ Halo2 åˆ›å»ºç”µè·¯ï¼Œè¿™äº›ç”µè·¯åœ¨Halo2çš„å†…éƒ¨å¦‚ä½•è¡¨ç¤ºæ˜¯ç†è§£ç”µè·¯æ„å»ºçš„å…³é”®ã€‚Halo2ä¸­çš„Chipç”µè·¯ç”±ä¸€ä¸ªä¸ª Region ç»„æˆï¼Œåœ¨ Halo2 çš„æ¡†æ¶ä¸­ï¼ŒRegion é€šè¿‡ Layouter è¿›è¡Œåˆ†é…ã€‚ç”µè·¯çš„æ‰€æœ‰çš„ä¿¡æ¯éƒ½å­˜å‚¨åœ¨ Assignment çš„æ¥å£ä¸­ã€‚Halo2çš„ç”µè·¯æ„å»ºåˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š
1/Configure ï¼ˆç”µè·¯é…ç½®ï¼‰
2/ Synthesizeï¼ˆç”µè·¯ç»¼åˆï¼‰ã€‚ç®€å•çš„è¯´ï¼ŒConfigureå°±æ˜¯è¿›è¡Œç”µè·¯æœ¬èº«çš„é…ç½®ã€‚Synthesizeè¿›è¡ŒæŸä¸ªç”µè·¯å®ä¾‹çš„ç»¼åˆã€‚</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="æ·±å…¥åˆ†æsupernovaåŠå…¶romå®ç°"><a class="header" href="#æ·±å…¥åˆ†æsupernovaåŠå…¶romå®ç°">æ·±å…¥åˆ†æSuperNovaåŠå…¶ROMå®ç°</a></h1>
<p>é’ˆå¯¹äºä¸ºæœ‰é™çŠ¶æ€æœºä¸Šç¨‹åºæ‰§è¡Œçš„æ­£ç¡®æ€§çš„é—®é¢˜ï¼ŒNovaæ˜¯é›†å¤§æˆè€…ï¼Œä½œè€…Settyæå‡ºäº†ä¸€ç§åŸºäºFoldingçš„é€’å½’è¯æ˜ç³»ç»Ÿã€‚ä½†æ˜¯Novaè¦æ±‚åœ¨è¿­ä»£ä¸­ä½¿ç”¨ç›¸åŒçš„ä¸šåŠ¡ç”µè·¯ï¼Œå¯ä»¥ç†è§£ä¸ºä»…æ”¯æŒå•ä¸ªæŒ‡ä»¤ã€‚SuperNovaåˆ™å¯¹å…¶è¿›è¡Œäº†æ‹“å±•ï¼Œåœ¨æ¯æ­¥è¿­ä»£ä¸­å¯ä»¥è¿è¡Œä¸åŒçš„æŒ‡ä»¤(è¿™ä¸€é—®é¢˜å®šä¹‰ä¸ºNIVC, non-uniform IVC)ï¼Œå› æ­¤å¯ä»¥æŠŠNovaçœ‹ä½œæ˜¯åªæ”¯æŒä¸€ä¸ªæŒ‡ä»¤çš„NIVCè§£å†³æ–¹æ¡ˆã€‚ä¹‹å‰é‡‡ç”¨å…¨å±€ç”µè·¯çš„æ–¹æ³•å…¶å¼€é”€ä¸æ‰€æœ‰æŒ‡ä»¤æ„æˆçš„ç”µè·¯è§„æ¨¡æœ‰å…³ï¼ŒSupernovaæœ€å¤§çš„åˆ›æ–°åˆ™æ˜¯å…¶è¯æ˜å¼€é”€åªä¸å½“å‰æ­¥æ‰§è¡Œçš„æŒ‡ä»¤æœ‰å…³ï¼Œå¹¶ä¸”äº§ç”Ÿçš„overheadæ˜¯å¸¸æ•°ã€‚</p>
<p>æœ¬æ–‡é¦–å…ˆä»‹ç»NIVCé—®é¢˜çš„å®šä¹‰ï¼Œä»¥åŠSupernovaçš„åŸºæœ¬æ€è·¯ï¼Œæœ€åé’ˆå¯¹äºæ–‡ä¸­æ²¡æœ‰ç»™å‡ºå…·ä½“è¯´æ˜çš„ç”µè·¯é€‰æ‹©å™¨ï¼Œè¯¦ç»†ä»‹ç»äº†ROMæ¨¡å‹çš„å®ç°æ€è·¯ã€‚</p>
<h2 id="nivcå®šä¹‰"><a class="header" href="#nivcå®šä¹‰">NIVCå®šä¹‰</a></h2>
<p><img src="https://github.com/zkp-co-learning/zkp-co-learn/assets/13568446/f9bfb895-4c3c-4ff4-8b00-a7cb6867abbb" alt="image" />
NIVCæ˜¯å¯¹IVCçš„æ³›åŒ–ï¼Œåœ¨æ¯æ­¥å¢é‡è®¡ç®—ä¸­ï¼ŒProverå¯ä»¥è¯æ˜æ»¡è¶³ä¸€äº›åˆ—relationä¸­çš„ä¸€ç§relationï¼Œæ‰€ä»¥ä»–å¯ä»¥æ”¯æŒæ¯æ­¥ä½¿ç”¨ä¸åŒçš„ç”µè·¯ã€‚
é¦–å…ˆå®šä¹‰NIVCè¦è¯æ˜çš„ç”µè·¯å½¢å¼ï¼Œå‡è®¾å­˜åœ¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord">â€˜</span></span></span></span>ä¸ªå¤šé¡¹å¼æ—¶é—´å¯è®¡ç®—çš„å‡½æ•°<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span> (å¯ä»¥æŠŠä»–ä»¬çœ‹ä½œæ˜¯æ‰§è¡Œä¸€äº›åˆ—ä¸åŒæŒ‡ä»¤çš„ç”µè·¯)ï¼Œä»–ä»¬æ»¡è¶³:<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">Ï•</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0269em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.044em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span>ï¼Œå…¶ä¸­<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">Ï•</span><span class="mord">â€˜</span></span></span></span>ä¸ºé€‰æ‹©å™¨ï¼Œå…¶æ ¹æ®å½“å‰witness <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>å’Œå…¬å…±è¾“å‡º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>é€‰æ‹©å…¶ä¸­ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord">â€˜</span></span></span></span>ä¸ªå‡½æ•°<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œå³è¾“å‡º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord">â€˜</span></span></span></span>ã€‚</p>
<p>Proveråˆ™æ˜¯è¦ç”Ÿæˆproofï¼Œå…¶å¯ä»¥è¯æ˜å¯¹äºnæ­¥è¿­ä»£ä¸­äº§ç”Ÿçš„ä¸€ç³»åˆ—<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span>å’Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>å‡æ»¡è¶³<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1052em;vertical-align:-0.3552em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.5198em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">Ï•</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0269em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mpunct mtight">,</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.044em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span>ã€‚å¯å°†å…¶å½¢å¼åŒ–è¡¨è¿°ä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œ å…¶ä¸­Pä¸ºProverï¼Œpkä¸ºprover keyï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜Î â€˜</span></span></span></span>ä¸ºproofã€‚ä¸IVCç±»ä¼¼ï¼ŒNIVCè¦æ±‚Proveråœ¨ä»»æ„æ­¥çš„è¯æ˜å¼€é”€ä¸ä¹‹å‰è°ƒç”¨çš„æŒ‡ä»¤æ— å…³ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç”µè·¯è§„æ¨¡æ— é™å¢å¤§ï¼›æ›´è¿›ä¸€æ­¥è¦æ±‚Proverçš„å¼€é”€åªå’Œå½“å‰æ­¥è¿è¡Œçš„ç”µè·¯è§„æ¨¡æœ‰å…³ï¼Œå¦åˆ™å°±èœ•åŒ–æˆäº†ç”¨ä¸€ä¸ªåŒ…å«æ‰€æœ‰å‡½æ•°ç”µè·¯æ„æˆçš„IVCã€‚</p>
<h2 id="supernovaè¯æ˜ç³»ç»Ÿ"><a class="header" href="#supernovaè¯æ˜ç³»ç»Ÿ">Supernovaè¯æ˜ç³»ç»Ÿ</a></h2>
<p>å¯¹äºä¸Šè¿°è¯æ˜é—®é¢˜ï¼ŒSupernovaé‡‡ç”¨äº†ç±»ä¼¼ä¸Novaçš„folding schemeï¼Œæ€»ä½“æ¥è¯´å…¶ä¹Ÿæ˜¯å…ˆæ„å»ºä¸€ä¸ªAugumentedå‡½æ•°<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1467em;vertical-align:-0.3948em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4413em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3948em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œé€šè¿‡è¯æ˜å­˜åœ¨æ»¡è¶³<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1467em;vertical-align:-0.3948em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4413em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3948em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>çš„witnessï¼Œæ¥è¯æ˜ä¸šåŠ¡ç”µè·¯Fä»¥åŠæ¯æ¬¡è¿­ä»£æ›´æ–°proofçš„æ­£ç¡®æ€§ã€‚<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1467em;vertical-align:-0.3948em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4413em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3948em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>æ¯æ¬¡éœ€è¦æŠŠrelaxed R1CSå®ä¾‹(U)å’Œr1cså®ä¾‹(u)è¿›è¡Œfoldï¼Œè€Œä¸”folding schemeè¦æ±‚ä¸¤ç§å®ä¾‹çš„ç»“æ„æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯NIVCä¸­<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>å‡½æ•°æœ‰å¤šä¸ªï¼Œä¸èƒ½ç®€å•åœ°foldã€‚å› æ­¤ï¼ŒSuperNovaä¸­åœ¨ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>æ­¥<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1467em;vertical-align:-0.3948em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4413em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3948em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¼šè¾“å…¥ä¸€ç³»åˆ—çš„<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œå…¶ä¸­<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span><span class="mord">â€˜</span></span></span></span>ä»£è¡¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1467em;vertical-align:-0.3948em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4413em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3948em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä»0åˆ°<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1â€˜</span></span></span></span>æ­¥è¢«æ­£ç¡®æ‰§è¡Œï¼Œè¿™æ ·åªéœ€è¦éªŒè¯æ‰€æœ‰çš„<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>æ˜¯å¦æ»¡è¶³çº¦æŸå°±å¯ä»¥éªŒè¯æ‰€æœ‰å‡½æ•°ä»0åˆ°<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1â€˜</span></span></span></span>æ­¥è¢«æ­£ç¡®æ‰§è¡Œï¼›æ­¤å¤–<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1467em;vertical-align:-0.3948em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4413em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3948em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>è¿˜ä¼šè¾“å…¥ä¸€ä¸ªå®ä¾‹uï¼Œç”¨æ¥è¯æ˜ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>æ­¥ä¹Ÿè¢«æ­£ç¡®æ‰§è¡Œã€‚
<img src="https://github.com/zkp-co-learning/zkp-co-learn/assets/13568446/29cfd5e8-00a8-455d-bf9b-64a367f35683" alt="image" />
å¯¹äºAugumentedå‡½æ•°ï¼Œç›¸å¯¹äºNovaçš„ä¸åŒç‚¹åœ¨äºï¼Œåœ¨ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>æ­¥åªæŠ˜å ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">p</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Ï•</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span>ä¸ªå®ä¾‹ï¼Œä¸ºäº†ç¡®ä¿æ‰§è¡Œçš„æ˜¯<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">p</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œéœ€è¦å°†<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">p</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¹Ÿä½œä¸ºå…¬å…±è¾“å…¥æ”¾å…¥<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸­æ¥è¿›è¡Œæ£€éªŒã€‚</p>
<p>Supernovaè¯æ˜ç³»ç»Ÿçš„æ ¸å¿ƒæ„é€ ä¸ºï¼š
<img src="https://github.com/zkp-co-learning/zkp-co-learn/assets/13568446/0ebe1192-683e-4192-822f-29876f1d338f" alt="image" />
<img src="https://github.com/zkp-co-learning/zkp-co-learn/assets/13568446/c4c9fb8e-c9c5-4909-9e84-71870e04f71c" alt="image" /></p>
<blockquote>
<p>è¯´æ˜ï¼šå®é™…ä¸ŠRelaxed R1CS(Azâ—¦Bz = uCz + E)å’ŒR1CS(Azâ—¦Bz=Cz)ä¸­çš„A,B,Cæ˜¯ä¸€è‡´ï¼ˆè¿™äº›å€¼ç”±ä¸šåŠ¡ç”µè·¯+Foldingç›¸å…³çš„çº¦æŸç”Ÿæˆï¼‰ï¼Œåªæ˜¯å…·ä½“çš„zä¸ä¸€æ ·ã€‚</p>
</blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ä¸Šè¿°è¯æ˜ç³»ç»Ÿå¹¶<strong>æ²¡æœ‰æ˜ç¡®çº¦æŸç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>æ­¥å…·ä½“é€‰æ‹©å“ªä¸ªç”µè·¯</strong>ï¼Œå› æ­¤å¦‚æœéœ€è¦ç¡®å®šæ€§ç”Ÿæˆç›¸åº”çš„é€‰æ‹©å™¨ï¼Œè¿˜éœ€å¢åŠ é€‰æ‹©å™¨ç”µè·¯ã€‚
ç„¶è€Œè®ºæ–‡ä¸­æ²¡æœ‰ç»™å‡ºé€‰æ‹©å™¨çš„å…·ä½“å®ç°ï¼Œä¸‹é¢å‚è€ƒPSEä¸€ä½æˆå‘˜ç»™å‡ºçš„ä¸€ç§<a href="https://github.com/microsoft/Nova/pull/204">ç”µè·¯åºåˆ—å›ºå®šçš„Supernovaå®ç°</a>ï¼Œè¿›ä¸€æ­¥ç»™å‡ºå…·ä½“å®ç°ç»†èŠ‚ã€‚</p>
<h2 id="rom-machine-based-supernova"><a class="header" href="#rom-machine-based-supernova">ROM machine based Supernova</a></h2>
<p>Rom( read-only memory)æ¨¡å‹å°†æ‰€æœ‰çš„ç”µè·¯çœ‹ä½œç”µè·¯åºåˆ—ï¼Œè¯¥åºåˆ—å…±æœ‰<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">n</span><span class="mord">â€˜</span></span></span></span>ä¸ªç”µè·¯ï¼Œå…¶ä¸­ä¸åŒçš„ç”µè·¯å…±æœ‰<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord">â€˜</span></span></span></span>ä¸ªï¼Œå¹¶å°†æ‰€æœ‰çš„ç”µè·¯ç›´æ¥å†™æ­»åœ¨Supernovaçš„å…¬å…±è¾“å…¥<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">[</span><span class="mord">1...</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">]</span><span class="mord">â€˜</span></span></span></span>ä¸­ï¼Œæ¯è¿­ä»£ä¸€æ­¥<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">p</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1â€˜</span></span></span></span>, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">p</span><span class="mord mathnormal">c</span><span class="mord">â€˜</span></span></span></span>åˆ™æ”¾å…¥<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mord">â€˜</span></span></span></span>ä¸­ã€‚åœ¨ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>æ­¥æ—¶ï¼Œè¯»å–<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">p</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">[</span><span class="mord">0</span><span class="mclose">]</span><span class="mord">â€˜</span></span></span></span>ï¼Œå¹¶é€‰å–<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">[</span><span class="mord mathnormal">p</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord">â€˜</span></span></span></span>å¯¹åº”çš„ç”µè·¯ã€‚
æ¯”å¦‚å…±æœ‰2ä¸ªä¸åŒçš„ç”µè·¯<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rc</span><span class="mord mathnormal">u</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rc</span><span class="mord mathnormal">u</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼ŒROMæ„æˆçš„ç”µè·¯åºåˆ—ä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rc</span><span class="mord mathnormal">u</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rc</span><span class="mord mathnormal">u</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rc</span><span class="mord mathnormal">u</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">i</span><span class="mord mathnormal">rc</span><span class="mord mathnormal">u</span><span class="mord mathnormal">i</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">...â€˜</span></span></span></span></p>
<p>é‚£ä¹ˆåœ¨Supernovaè®ºæ–‡ç»™å‡ºçš„è¯æ˜ç³»ç»Ÿä¹‹ä¸Šï¼Œè¿˜éœ€ä¿è¯ï¼š</p>
<ol>
<li>åœ¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>æ­¥foldçš„æ˜¯ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>ä¸ªç”µè·¯ï¼›</li>
<li>åœ¨ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>æ­¥é€‰æ‹©æ˜¯ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">m</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">â€˜</span></span></span></span>ç”µè·¯ï¼ˆæ³¨æ„è¿™ç‚¹åœ¨supernovaä¸­æ²¡æœ‰è¦æ±‚)</li>
</ol>
<p>å¯¹äºç¬¬1ä¸ªé—®é¢˜ï¼Œä¸»è¦é€šè¿‡æ„é€ ä¸€ä¸ªæ¡ä»¶é€‰æ‹©ç”µè·¯ï¼Œå…·ä½“ç”µè·¯å¦‚ä¸‹ï¼š</p>
<pre><code>Â  Â  // select target when index match last_augmented_circuit_index, other left as empty

Â  Â  let U: Result&lt;Vec&lt;AllocatedRelaxedR1CSInstance&lt;G&gt;&gt;, SynthesisError&gt; = U
Â  Â  Â  .iter()
Â  Â  Â  .enumerate()
Â  Â  Â  .map(|(i, U)| {
Â  Â  Â  Â  let i_alloc = alloc_const(
Â  Â  Â  Â  Â  cs.namespace(|| format!(&quot;U_i i{:?} allocated&quot;, i)),
Â  Â  Â  Â  Â  scalar_as_base::&lt;G&gt;(G::Scalar::from(i as u64)),
Â  Â  Â  Â  )?;

Â  Â  Â  Â  let equal_bit = Boolean::from(alloc_num_equals(
Â  Â  Â  Â  Â  cs.namespace(|| format!(&quot;check U {:?} equal bit&quot;, i)),
Â  Â  Â  Â  Â  &amp;i_alloc,
Â  Â  Â  Â  Â  last_augmented_circuit_index,
Â  Â  Â  Â  )?);

Â  Â  Â  Â  conditionally_select_alloc_relaxed_r1cs(
Â  Â  Â  Â  Â  cs.namespace(|| format!(&quot;select on index namespace {:?}&quot;, i)),
Â  Â  Â  Â  Â  U,
Â  Â  Â  Â  Â  &amp;empty_U,
Â  Â  Â  Â  Â  &amp;equal_bit,
Â  Â  Â  Â  )
Â  Â  Â  })
Â  Â  Â  .collect();
</code></pre>
<p>å¯¹äºç¬¬2ä¸ªç”µè·¯ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯æ„é€  <span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.0788em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8011em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">10</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;"><em></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ro</span><span class="mord mathnormal">m</span><span class="mopen">[</span><span class="mord mathnormal">p</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span> æ¥å®ç°å…¶çº¦æŸ, 
å…¶ä¸­
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">ro</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;"></em></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em;"><span style="top:-3.91em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">ro</span><span class="mord mathnormal">m</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">p</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">p</span><span class="mord mathnormal">c</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span></p>
<p>å…·ä½“ä»£ç å¦‚ä¸‹:</p>
<pre><code>fn constraint_augmented_circuit_index&lt;F: PrimeField, CS: ConstraintSystem&lt;F&gt;&gt;(
Â  Â  mut cs: CS,
Â  Â  pc_counter: &amp;AllocatedNum&lt;F&gt;,
Â  Â  rom: &amp;[AllocatedNum&lt;F&gt;],
Â  Â  circuit_index: &amp;AllocatedNum&lt;F&gt;,
Â  ) -&gt; Result&lt;(), SynthesisError&gt; {

Â  Â  // select target when index match or empty
Â  Â  let zero = alloc_zero(cs.namespace(|| &quot;zero&quot;))?;
Â  Â  let rom_values = rom
Â  Â  Â  .iter()
Â  Â  Â  .enumerate()
Â  Â  Â  .map(|(i, rom_value)| {
Â  Â  Â  Â  let index_alloc = alloc_const(
Â  Â  Â  Â  Â  cs.namespace(|| format!(&quot;rom_values {} index &quot;, i)),
Â  Â  Â  Â  Â  F::from(i as u64),
Â  Â  Â  Â  )?;

Â  Â  Â  Â  let equal_bit = Boolean::from(alloc_num_equals(
Â  Â  Â  Â  Â  cs.namespace(|| format!(&quot;rom_values {} equal bit&quot;, i)),
Â  Â  Â  Â  Â  &amp;index_alloc,
Â  Â  Â  Â  Â  pc_counter,
Â  Â  Â  Â  )?);

Â  Â  Â  Â  conditionally_select(
Â  Â  Â  Â  Â  cs.namespace(|| format!(&quot;rom_values {} conditionally_select &quot;, i)),
Â  Â  Â  Â  Â  rom_value,
Â  Â  Â  Â  Â  &amp;zero,
Â  Â  Â  Â  Â  &amp;equal_bit,
Â  Â  Â  Â  )
Â  Â  Â  })

Â  Â  Â  .collect::&lt;Result&lt;Vec&lt;AllocatedNum&lt;F&gt;&gt;, SynthesisError&gt;&gt;()?;

Â  Â  let sum_lc = rom_values
Â  Â  Â  .iter()
Â  Â  Â  .fold(LinearCombination::&lt;F&gt;::zero(), |acc_lc, row_value| {
Â  Â  Â  Â  acc_lc + row_value.get_variable()
Â  Â  Â  });

Â  Â  println!(&quot;self.circuit index ==============&gt; : {:?}&quot;, circuit_index.get_value());
Â  Â  cs.enforce(
Â  Â  Â  || &quot;sum_lc == circuit_index&quot;,
Â  Â  Â  |lc| lc + circuit_index.get_variable() - &amp;sum_lc,
Â  Â  Â  |lc| lc + CS::one(),
Â  Â  Â  |lc| lc,

Â  Â  );
Â  Â  Ok(())

Â  }
</code></pre>
<h2 id="è‡´è°¢"><a class="header" href="#è‡´è°¢">è‡´è°¢</a></h2>
<p>éå¸¸æ„Ÿè°¢ SECBIT Labs çš„ @éƒ­å®‡è€å¸ˆå¯¹SuperNovaç ”ç©¶æ–¹å‘çš„æŒ‡å¯¼ã€‚</p>
<h2 id="å‚è€ƒæ–‡çŒ®"><a class="header" href="#å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</a></h2>
<ul>
<li><a href="https://eprint.iacr.org/2022/1758">Supernovaè®ºæ–‡</a></li>
<li><a href="https://github.com/microsoft/Nova/pull/204">ROM-based Supernova code</a></li>
<li><a href="https://github.com/dajuguan/awesome-nova-based-Recursive-Zero-Knowledge-Arguments-knowlege">Novaç³»åˆ—èµ„æ–™</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<p>é›¶çŸ¥è¯†è¯æ˜ç”±äºå…¶æœ¬èº«é™¡å³­çš„å…¥é—¨å­¦ä¹ æ›²çº¿ï¼Œå¾€å¾€è¢«åˆå­¦è€…ç§°ä¸ºmoon mathã€‚ä¸ºäº†å¹³ç¼“å­¦ä¹ æ›²çº¿ï¼Œå‡è½»å…¥é—¨å‹åŠ›ï¼Œbabysnark[1]åº”è¿è€Œç”Ÿï¼Œæœ¬æ–‡å°†ä½œä¸ºbabysnarkåŸç†éƒ¨åˆ†çš„ä¸€ä¸ªè§£è¯»ç‰ˆï¼Œå¸®åŠ©ä½ æ›´å¥½çš„ç†è§£snarkèƒŒåçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µå’Œç›´è§‰ã€‚åœ¨é˜…è¯»æœ¬æ–‡ä¹‹å‰ï¼Œå¸Œæœ›ä½ å·²ç»è¯»è¿‡<a href="https://secbit.io/blog/2019/12/25/learn-zk-snark-from-zero-part-one/"># ä»é›¶å¼€å§‹å­¦ä¹  zk-SNARK</a>ç³»åˆ—çš„å‰4éƒ¨åˆ†ï¼Œå¯¹åŒ…æ‹¬æœ‰é™åŸŸã€æ¤­åœ†æ›²çº¿ç­‰ç›¸å…³çŸ¥è¯†æœ‰ä¸€ä¸ªåŸºæœ¬çš„äº†è§£ã€‚</p>
<h3 id="r1cs"><a class="header" href="#r1cs">R1CS</a></h3>
<p>æ¯”å¦‚æˆ‘ä»¬æœ‰è¿™æ ·ä¸€æ®µç¨‹åºï¼š</p>
<pre><code class="language-python">def qeval(x):  
	y = x**3  
	return x + y + 5
</code></pre>
<p>æˆ‘ä»¬çŸ¥é“ç¨‹åºæ‰§è¡Œå®é™…ä¸Šæ˜¯CPUä¸­çš„ä¹˜æ³•é—¨å’ŒåŠ æ³•é—¨ç»„åˆè¿ç®—å¾—åˆ°çš„ã€‚é‚£ä¹ˆä¸Šé¢çš„ç¨‹åºå¯ä»¥çœ‹æˆæ˜¯ç±»ä¼¼æ˜¯ä¸‹é¢çš„è¿™ä¸ªå›¾ï¼Œæœ‰ä¸€äº›è¾“å…¥å˜é‡å’Œä¸­é—´è¿ç®—è¿‡ç¨‹ï¼Œæœ€åå¾—åˆ°è¾“å‡ºã€‚</p>
<p align="center">
  <img src="https://s1.ax1x.com/2023/08/27/pPUVfHg.png" alt="alt_text">
</p>
ä¸ºäº†æ›´å¥½çš„è¡¨ç¤ºä¸­é—´è¿‡ç¨‹æ˜¯å¦‚ä½•æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸Šè¿°ç¨‹åºæ‹†åˆ†å†™æˆå¦‚ä¸‹å½¢å¼ï¼Œå·¦ä¾§æ˜¯ä¸­é—´è¿ç®—çš„è¾“å‡ºç»“æœï¼Œå³ä¾§å¯ä»¥çœ‹æˆä¸­é—´è¿ç®—çš„è¾“å…¥ï¼š
<pre><code>sym_1 = x * x  
y = sym_1 * x  
sym_2 = y + x  
~out = sym_2 + 5
</code></pre>
<p>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¾“å…¥ä¸€å®šè¦å†™æˆä¸¤ä¸ªå˜é‡è€Œä¸èƒ½æ˜¯ä¸‰ä¸ªæˆ–è€…å¤šä¸ªå˜é‡å‘¢ï¼Ÿå…·ä½“é™åˆ¶åŸå› å¯ä»¥ä»é™åˆ¶è¿ç®—[3]ä¸­æ‰¾åˆ°ç­”æ¡ˆã€‚ç®€å•æ¥è¯´ï¼Œå¤šé¡¹å¼çš„ç®—æ•°æ€§è´¨æœ‰<strong>åœ¨æŸä¸€ä¸ªå…·ä½“çš„ç‚¹ä¸Šï¼Œå·¦æ“ä½œæ•°å’Œå³æ“ä½œæ•°ç›¸ä¹˜ç­‰äºè¾“å‡ºç»“æœ</strong>ã€‚è€Œè¿™ä¸ªçº¦æŸç‰¹ç‚¹ä½¿å¾—æ¯ä¸€æ¬¡è¾“å…¥åªèƒ½æ˜¯ä¸¤ä¸ªæ•°çš„å½¢å¼ï¼Œå¦‚æœä¸€æ¬¡æœ‰å¤šä¸ªå˜é‡ä½œä¸ºè¾“å…¥ï¼Œå¯ä»¥åˆ†åˆ«å°†å…¶æ‹†åˆ†æˆä¸¤ä¸¤ç»„åˆã€‚</p>
<p>æœ‰äº†è¿™æ ·çš„ç›´è§‰ä¹‹åæˆ‘ä»¬å¯ä»¥æ¥çœ‹ä¸€ä¸‹R1CSï¼ˆRank 1 constraint systemï¼‰çš„å…·ä½“å®šä¹‰:</p>
<p>ç»™å®šä¸‰ä¸ªmè¡Œnåˆ—çš„çŸ©é˜µ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span>, å’Œä¸€ä¸ª <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathrm">n</span></span></span></span> ç»´å‘é‡ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8833em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathrm">R</span><span class="mord">1</span><span class="mord"><span class="mord mathrm">CS</span></span></span></span></span> å®šä¹‰äº†ä¸€ç»„mä¸ªæ–¹ ç¨‹ï¼Œæ¯ä¸ªæ–¹ç¨‹çš„å½¢å¼å¦‚ä¸‹:</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>å…¶ä¸­ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span></span></span></span>, Â·è¡¨ç¤ºçŸ©é˜µå’Œå‘é‡çš„ä¹˜ç§¯, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> è¡¨ç¤º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span> çš„ç¬¬ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6679em;"></span><span class="mord mathrm">i</span></span></span></span> ä¸ªå…ƒç´ ã€‚
ç­‰ä»·åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Hadamardç§¯ï¼ˆé€å…ƒç´ ç›¸ä¹˜ï¼‰æ¥è¡¨ç¤ºæ•´ä¸ªç³»ç»Ÿï¼š</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span></span></p>
<p>å…¶ä¸­â—‹è¡¨ç¤ºHadamardç§¯ã€‚</p>
<p>å…¶ä¸­Aå¯ä»¥çœ‹ä½œæ˜¯å·¦æ“ä½œæ•°çš„å…¨å±€ç»“æœçš„çŸ©é˜µè¡¨ç¤ºï¼ŒBå¯ä»¥çœ‹æˆæ˜¯å³æ“ä½œæ•°å…¨éƒ¨ç»“æœçš„çŸ©é˜µè¡¨ç¤ºã€‚Cæ˜¯è¿ç®—ç»“æœçš„å…¨éƒ¨ç»“æœçš„çŸ©é˜µè¡¨ç¤ºã€‚æ¥ä¸‹æ¥è®©æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥å°†ä¸Šè¿°4ä¸ªç­‰å¼è½¬å˜æˆçŸ©é˜µçš„Hadamardç§¯çš„å½¢å¼ã€‚</p>
<p>å‡è®¾æˆ‘ä»¬å°†ä¸Šè¿°4ä¸ªç­‰å¼çš„è¾“å…¥è¾“å‡ºå˜é‡æŒ‰å¦‚ä¸‹é¡ºåºæ’åˆ—ï¼š</p>
<pre><code>'~one', 'x', '~out', 'sym_1', 'y', 'sym_2'
</code></pre>
<p>é‚£ä¹ˆå¯¹äºç¬¬ä¸€ä¸ªç­‰å¼</p>
<pre><code>sym_1 = x * x
</code></pre>
<p>å·¦æ“ä½œæ•°<em>a</em>ï¼Œå³æ“ä½œæ•°<em>b</em>å’Œæœ€åç»“æœ<em>c</em>å¯ä»¥åˆ†åˆ«è¡¨ç¤ºæˆå¦‚ä¸‹å‘é‡å½¢å¼</p>
<pre><code>a = [0, 1, 0, 0, 0, 0]  
b = [0, 1, 0, 0, 0, 0]  
c = [0, 0, 0, 1, 0, 0]
</code></pre>
<p>ç„¶åå‘é‡å’Œä¸Šè¿°6ä¸ªå˜é‡ç›¸ä¹˜ï¼Œå°±å¯ä»¥è¿˜åŸå‡ºç¬¬ä¸€ä¸ªç­‰å¼äº†ã€‚ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬å¯¹ç­‰å¼2ï¼Œ3ï¼Œ4åšåŒæ ·çš„å¤„ç†ï¼Œæœ€ç»ˆå¯ä»¥å¾—åˆ°çŸ©é˜µA,B,C:</p>
<pre><code>A  
[0, 1, 0, 0, 0, 0]  
[0, 0, 0, 1, 0, 0]  
[0, 1, 0, 0, 1, 0]  
[5, 0, 0, 0, 0, 1]

B  
[0, 1, 0, 0, 0, 0]  
[0, 1, 0, 0, 0, 0]  
[1, 0, 0, 0, 0, 0]  
[1, 0, 0, 0, 0, 0]

C  
[0, 0, 0, 1, 0, 0]  
[0, 0, 0, 0, 1, 0]  
[0, 0, 0, 0, 0, 1]  
[0, 0, 1, 0, 0, 0]
</code></pre>
<p>é€šè¿‡ä¸Šè¿°æ“ä½œï¼Œæˆ‘ä»¬å°±å°†ä¸€æ®µç¨‹åºè½¬æ¢æˆäº†R1CSçš„å½¢å¼ã€‚</p>
<h3 id="å¤šé¡¹å¼æ’å€¼"><a class="header" href="#å¤šé¡¹å¼æ’å€¼">å¤šé¡¹å¼æ’å€¼</a></h3>
<p>åœ¨å®é™…çš„é›¶çŸ¥è¯†è¯æ˜ç³»ç»Ÿä¸­ï¼Œä¸ç®¡å…·ä½“é›¶çŸ¥è¯†è¯æ˜ç®—æ³•æ˜¯å“ªç§ï¼Œæ€»è¦æœ‰ä¸€ä¸ªvalidatorå‘å‡ºä¸€ä¸ªéšæœºæ•°ä½œä¸ºchallengeï¼Œç„¶åproveræ¥å—è¿™ä¸ªéšæœºæ•°ä½œä¸ºç³»ç»Ÿè¾“å…¥ï¼Œç„¶åè¿”å›ä¸€ä¸ªè¾“å‡ºç»“æœã€‚validatoræ‹¿åˆ°è¾“å‡ºç»“æœçœ‹æ˜¯å¦å’ŒæŒ‘æˆ˜çš„éšæœºæ•°æ»¡è¶³æŸç§å¯¹åº”å…³ç³»ï¼Œå¦‚æœæ»¡è¶³å°±è®¤ä¸ºproverç¡®å®æŒæ¡äº†æŸç§çŸ¥è¯†ã€‚ä¸ºäº†å®ç°validatorå¯ä»¥æ‰¾ä»»æ„éšæœºæ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±æœ‰å¿…è¦R1CSçš„çº¦æŸå…³ç³»è½¬æ¢æˆå¤šé¡¹å¼çš„å½¢å¼ã€‚</p>
<p>æ¯”å¦‚å¯¹äºä¹‹å‰çš„çŸ©é˜µAè€Œè¨€ï¼Œå¦‚æœç«–ç€æŒ‰åˆ—çœ‹ï¼Œå…¶å®å…¶å¯¹åº”çš„å°±æ˜¯ä¹‹å‰æ–‡ä¸­æ‰€è¯´çš„6ä¸ªå˜é‡</p>
<pre><code>'~one', 'x', '~out', 'sym_1', 'y', 'sym_2'
</code></pre>
<p>æ¯”å¦‚è¯´ï¼Œå¯¹äºoneå˜é‡è€Œè¨€ï¼Œå…¶åœ¨ä¸Šè¿°4ä¸ªç­‰å¼ï¼ˆå³4ç§çº¦æŸå…³ç³»ï¼‰ä¸­æ‰€ç»„æˆçš„å‘é‡ä¸º</p>
<pre><code>~one: [0, 0, 0, 5]
</code></pre>
<p>å¦‚æœå°†å…¶åœ¨ç¬›å¡å°”åæ ‡ç³»ä¸­è¡¨ç¤ºï¼Œå‡è®¾æˆ‘ä»¬é€‰å–xä¸º1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œé‚£ä¹ˆè¯¥oneæ‰€ç»„æˆçš„å¤šé¡¹å¼åº”è¯¥ç»è¿‡(1,0), (2,0), (3,0), (4,5)è¿™4ä¸ªç‚¹ã€‚åœ¨ç¬›å¡å°”åæ ‡ç³»ä¸­ï¼Œæˆ‘ä»¬å¯¹äºåšæ“ä½œæ•°å’Œæœ‰æ“ä½œæ•°ä»¥åŠç»“æœçš„æ‰€æœ‰xåæ ‡åªè¦æ»¡è¶³ä¸€è‡´å…³ç³»ï¼Œä»–ä»¬æ‰€ç»„æˆçš„å¤šé¡¹å¼éƒ½æ»¡è¶³R1CSçº¦æŸå…³ç³»ã€‚åŸºäºä¸Šè¿°ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹6ä¸ªå˜é‡é€‰å®šä¸€è‡´çš„xåæ ‡ç„¶åä½¿ç”¨æ’å€¼çš„æ–¹å¼å¾—åˆ°å¤šé¡¹å¼çš„å½¢å¼ã€‚ä¸‹é¢æ˜¯æˆ‘ä»¬é€‰å®šxåæ ‡æ˜¯1ï¼Œ2ï¼Œ3ï¼Œ4å¾—åˆ°çš„çŸ©é˜µAçš„å¤šé¡¹å¼è¡¨ç¤ºå½¢å¼ï¼š</p>
<pre><code>A polynomials  
[-5.0, 9.166, -5.0, 0.833]  
[8.0, -11.333, 5.0, -0.666]  
[0.0, 0.0, 0.0, 0.0]  
[-6.0, 9.5, -4.0, 0.5]  
[4.0, -7.0, 3.5, -0.5]  
[-1.0, 1.833, -1.0, 0.166]
</code></pre>
<p>å³oneå¯ä»¥è¡¨ç¤ºä¸ºï¼š</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9474em;vertical-align:-0.0833em;"></span><span class="mord">0.833</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9474em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">9.166</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></span></p>
<p>å…¶ä»–å˜é‡çš„R1CSè½¬æ¢ä¹ŸåŒç†ã€‚</p>
<h3 id="qap"><a class="header" href="#qap">QAP</a></h3>
<p>è¿™ç§è½¬æ¢æˆçš„å¤šé¡¹å¼æ–°å½¢å¼ç§°ä¹‹ä¸ºQAPï¼ˆQuadratic Arithmetic Programï¼‰æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹QAPçš„å…·ä½“å®šä¹‰ã€‚</p>
<p><strong>å®šä¹‰(QAP)</strong>: ä¸€ä¸ªåœ¨åŸŸ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">F</span></span></span></span> ä¸Šçš„äºŒæ¬¡ç®—æœ¯ç¨‹åº <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span> åŒ…å«ä¸‰ç§ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> å¤šé¡¹å¼ï¼š</p>
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">V</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)}</span></span></span></span></li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">W</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)}</span></span></span></span></li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7805em;vertical-align:-0.0972em;"></span><span class="mord mathcal" style="margin-right:0.08222em;">Y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)}</span></span></span></span>
å…¶ä¸­ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6986em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">}</span></span></span></span>ï¼Œä»¥åŠä¸€ä¸ªç›®æ ‡å¤šé¡¹å¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>ã€‚</li>
</ul>
<p>å‡è®¾ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> æ˜¯ä¸€ä¸ªç®—æœ¯ç¨‹åºï¼Œå®ƒä»¥ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> ä¸ª <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">F</span></span></span></span> çš„å…ƒç´ ä¸ºè¾“å…¥å¹¶è¾“å‡º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span> ä¸ªå…ƒç´ ï¼Œæ€»å…±æœ‰ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span> ä¸ªI/Oå…ƒç´ ã€‚é‚£ä¹ˆï¼Œå½“ä¸”ä»…å½“å­˜åœ¨ç³»æ•° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> ä½¿å¾— <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> å¯ä»¥æ•´é™¤ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> æ—¶ï¼Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span> æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span></span></span> çš„è¾“å…¥å’Œè¾“å‡ºçš„æœ‰æ•ˆèµ‹å€¼ï¼Œå…¶ä¸­ï¼š</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0277em;vertical-align:-1.2777em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.0277em;vertical-align:-1.2777em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.0277em;vertical-align:-1.2777em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span></span></span></span></span></p>
<h3 id="å¸ƒå°”ç”µè·¯"><a class="header" href="#å¸ƒå°”ç”µè·¯">å¸ƒå°”ç”µè·¯</a></h3>
<p>é€šå¸¸æƒ…å†µä¸‹ä¸€èˆ¬çš„é€šç”¨snarkç®—æ³•ä½¿ç”¨çš„æ˜¯QAPæ¥å»è¡¨ç¤ºç¨‹åºï¼Œä½†å¦‚æœç¨‹åºæ˜¯ä¸€äº›ç‰¹æ®Šé—®é¢˜ï¼Œæ¯”å¦‚è¾“å…¥ç¨‹åºå¯ä»¥è¡¨ç¤ºä¸ºå¸ƒå°”ç”µè·¯ï¼Œé‚£ä¹ˆQAPå®ç°å°±å¯ä»¥æ›´åŠ ç®€å•ä¸€ç‚¹ã€‚é¦–å…ˆæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¸ƒå°”ç”µè·¯çš„ç‰¹ç‚¹ï¼š</p>
<p align="center">
  <img src="https://s1.ax1x.com/2023/08/27/pPUJN0s.png" alt="alt_text">
</p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ä¸ç®¡æ˜¯å“ªä¸€ç§çš„é—¨ï¼Œæœ€ç»ˆçš„è¾“å‡ºç»“æœä¸€å®šæ˜¯è½åœ¨[0, 2]åŒºé—´ä¹‹å†…ã€‚å…·ä½“æ¥è¯´ï¼šä»»ä½•ä¸€ä¸ª2è¾“å…¥çš„äºŒè¿›åˆ¶é—¨ç”µè·¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ï¼Œå…¶ä¸­è¾“å…¥ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span></span></span></span>ï¼Œè¾“å‡ºä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ï¼Œéƒ½å¯ä»¥ä½¿ç”¨é—¨ç”µè·¯çš„è¾“å…¥å’Œè¾“å‡ºçš„ä»¿å°„ç»„åˆ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span></span></span></span> æ¥æŒ‡å®šï¼Œå½“è¾“å…¥è¾“å‡ºæ»¡è¶³é—¨ç”µè·¯çš„é€»è¾‘è§„èŒƒæ—¶ï¼Œå®ƒåªèƒ½å–ä¸¤ä¸ªå€¼ï¼Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> æˆ– <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2</span></span></span></span>ã€‚è¿™å¯¼è‡´äº†ä¸€ä¸ªç­‰æ•ˆçš„å•ä¸€çš„â€œå¹³æ–¹â€çº¦æŸ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ã€‚</p>
<h3 id="ssp"><a class="header" href="#ssp">SSP</a></h3>
<p>æ ¹æ®ä¸Šè¿°å¸ƒå°”ç”µè·¯çš„ç‰¹ç‚¹ï¼Œä¸€èˆ¬çš„QAPçº¦æŸåœ¨å¸ƒå°”ç”µè·¯ä¸­å°±è½¬æ¢æˆäº†SSPï¼ˆSquare Span Programï¼‰çº¦æŸã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹SSPçš„å…·ä½“å®šä¹‰ï¼š</p>
<p><strong>å®šä¹‰(SSP)</strong>ï¼šåœ¨åŸŸ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">F</span></span></span></span> ä¸Šçš„ä¸€ä¸ªæ–¹å½¢è·¨åº¦ç¨‹åº(SSP)æ˜¯ç”± <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> ä¸ªå¤šé¡¹å¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathbb">F</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span> å’Œä¸€ä¸ªç›®æ ‡å¤šé¡¹å¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> ç»„æˆçš„å…ƒç»„ï¼Œä½¿å¾—å¯¹æ‰€æœ‰ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span></span></span></span>ï¼Œéƒ½æœ‰ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">deg</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel amsrm">â©½</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">deg</span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span></span></span></span>ã€‚æˆ‘ä»¬è¯´æ–¹å½¢è·¨åº¦ç¨‹åºSSPçš„å¤§å°ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ï¼Œå¹¶ä¸”åº¦æ•°ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">deg</span></span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">))</span></span></span></span>ã€‚å½“ä¸”ä»…å½“å­˜åœ¨ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7474em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>ï¼Œä½¿å¾— <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> èƒ½å¤Ÿæ•´é™¤ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span> æ—¶ï¼Œæˆ‘ä»¬ç§°SSPæ¥å—è¾“å…¥ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>ï¼Œå…¶ä¸­ï¼š</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.2317em;vertical-align:-1.2777em;"></span><span class="minner"><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">)</span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.954em;"><span style="top:-4.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.</span></span></span></span></span></p>
<p>æˆ‘ä»¬è¯´SSPæ ¡éªŒäº†å¸ƒå°”ç”µè·¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>ï¼Œå¦‚æœå®ƒä»…æ¥å—é‚£äº›æ»¡è¶³ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> çš„è¾“å…¥å€¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span></span></span></span></span></span></span>ã€‚</p>
<p>å†è¿›ä¸€æ­¥ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®SSPè€Œå…·ä½“çš„å¸ƒå°”ç”µè·¯æ„é€ æ–¹å½¢çº¦æŸç³»ç»Ÿ(Square Constraint System)ã€‚æˆ‘ä»¬é¦–å…ˆæ¥çœ‹ä¸€ä¸‹SCSçš„å®šä¹‰ï¼š</p>
<p><strong>å®šä¹‰SCS</strong>: æ–¹å½¢çº¦æŸç³»ç»Ÿç”±ä¸€ä¸ªçŸ©é˜µ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span></span> å®šä¹‰ã€‚å¦‚æœæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ </p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3609em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1664em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span><span class="svg-align" style="top:-3.6444em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128 -16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20  11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7  39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85 -40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5 -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67  151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span></span></span><span class="mpunct">,</span></span></span></span></span></p>
<p>å…¶ä¸­ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">âˆ˜</span></span></span></span> è¡¨ç¤ºHadamardï¼ˆé€å…ƒç´ ï¼‰ä¹˜ç§¯ï¼Œé‚£ä¹ˆå‘é‡ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6679em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.25em;"><span class="mord">Â¨</span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span></span></span></span> æ˜¯æ­¤ç³»ç»Ÿçš„è§£ã€‚æˆ‘ä»¬ä¹Ÿå°† <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> å†™ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span> ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰3ä¸ªå¸ƒå°”å…ƒç´ åˆ†åˆ«æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span></span></span></span> ï¼š
å¯¹äºå¸ƒå°”å…ƒç´ è€Œè¨€ï¼Œæ¯”å¦‚è¯´ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> è¦ä¹ˆä¸º 0ï¼Œè¦ä¹ˆä¸º 1ã€‚æ³¨æ„åˆ°</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p>
<p>è¿™æ„å‘³ç€ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>ï¼Œä»è€Œæ¨å¯¼å‡º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>ã€‚å…¶ä»–å…ƒç´ ä¹Ÿæ˜¯åŒç†ã€‚å¯¹äº <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">Â¬</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">NAND</span></span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span> ä¸º</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord">2</span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">5</span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.</span></span></span></span></span></p>
<p>ç»¼åˆä¸Šè¿°å†…å®¹ï¼Œä¸€ä¸ªåŒ…æ‹¬ä¸Šè¿°å¯¼çº¿å’Œé—¨çš„æ–¹å½¢çº¦æŸç¨‹åºå°†é‡‡å–ä»¥ä¸‹å½¢å¼ï¼š</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.864em;vertical-align:-3.08em;"></span><span class="minner"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.55em;"><span style="top:-5.55em;"><span class="pstrut" style="height:8.6em;"></span><span style="width:0.875em;height:6.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='6.600em' viewBox='0 0 875 6600'><path d='M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1 c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349, -36,557 l0,3084c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210, 949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9 c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5, -544.7,-112.5,-882c-2,-104,-3,-167,-3,-189 l0,-3092c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3, -210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.05em;"><span></span></span></span></span></span></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.55em;"><span style="top:-5.55em;"><span class="pstrut" style="height:8.6em;"></span><span style="width:0.667em;height:6.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='6.600em' viewBox='0 0 667 6600'><path d='M403 1759 V84 H666 V0 H319 V1759 v3000 v1759 h347 v-84 H403z M403 1759 V0 H319 V1759 v3000 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.05em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.58em;"><span style="top:-6.4275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-5.2275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-4.0275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">1</span></span></span><span style="top:-2.8275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-0.9675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">â‹®</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.08em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.58em;"><span style="top:-6.24em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-5.04em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span><span style="top:-3.84em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span><span style="top:-2.64em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.78em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.08em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.58em;"><span style="top:-6.24em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span><span style="top:-5.04em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.84em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span><span style="top:-2.64em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-0.78em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.08em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.58em;"><span style="top:-6.24em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span><span style="top:-5.04em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span><span style="top:-3.84em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.64em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="mord">âˆ’</span><span class="mord">5</span></span></span><span style="top:-0.78em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.08em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.58em;"><span style="top:-6.24em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span><span style="top:-5.04em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">â‹¯</span></span></span><span style="top:-3.84em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span><span style="top:-2.64em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"></span></span><span style="top:-0.78em;"><span class="pstrut" style="height:3.5em;"></span><span class="mord"><span class="minner">â‹±</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.08em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.55em;"><span style="top:-5.55em;"><span class="pstrut" style="height:8.6em;"></span><span style="width:0.667em;height:6.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='6.600em' viewBox='0 0 667 6600'><path d='M347 1759 V0 H0 V84 H263 V1759 v3000 v1759 H0 v84 H347z M347 1759 V0 H263 V1759 v3000 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.05em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.55em;"><span style="top:-5.55em;"><span class="pstrut" style="height:8.6em;"></span><span style="width:0.667em;height:6.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='6.600em' viewBox='0 0 667 6600'><path d='M403 1759 V84 H666 V0 H319 V1759 v3000 v1759 h347 v-84 H403z M403 1759 V0 H319 V1759 v3000 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.05em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.58em;"><span style="top:-6.4275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord">1</span></span></span><span style="top:-5.2275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord mathnormal">a</span></span></span><span style="top:-4.0275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord mathnormal">b</span></span></span><span style="top:-2.8275em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord mathnormal">c</span></span></span><span style="top:-0.9675em;"><span class="pstrut" style="height:3.6875em;"></span><span class="mord"><span class="mord"><span class="mord">â‹®</span><span class="mord rule" style="border-right-width:0em;border-top-width:1.5em;bottom:0em;"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.08em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.55em;"><span style="top:-5.55em;"><span class="pstrut" style="height:8.6em;"></span><span style="width:0.667em;height:6.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.667em' height='6.600em' viewBox='0 0 667 6600'><path d='M347 1759 V0 H0 V84 H263 V1759 v3000 v1759 H0 v84 H347z M347 1759 V0 H263 V1759 v3000 v1759 h84z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.05em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.55em;"><span style="top:-5.55em;"><span class="pstrut" style="height:8.6em;"></span><span style="width:0.875em;height:6.600em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.875em' height='6.600em' viewBox='0 0 875 6600'><path d='M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3, 63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5 c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,3009 c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664 c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11 c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17 c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558 l0,-3144c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7, -470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.05em;"><span></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:3.784em;"><span style="top:-6.0329em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1664em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.1664em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord">1</span></span><span class="svg-align" style="top:-3.6444em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128 -16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20  11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7  39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85 -40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5 -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67  151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span></span></span></span><span class="mord">.</span></span></span></span></span></p>
<h3 id="babysnark"><a class="header" href="#babysnark">babysnark</a></h3>
<p>ä»‹ç»äº†è¿™ä¹ˆå¤šï¼Œç»ˆäºåˆ°babysnarkäº†ã€‚babysnarkæ˜¯å¯¹å¸ƒå°”ç”µè·¯æ‰€æ„é€ çš„ä¸€ç§snarkã€‚ç›¸æ¯”äºQAPè€Œè¨€ï¼ŒSSPæ›´ç®€å•ï¼Œæ‰€ä»¥å®ç°æ•´ä¸ªsnarkæ‰€éœ€çš„çº¦æŸä¹Ÿæ›´å°‘ã€‚å…·ä½“æ¥è¯´ä¸€å…±æœ‰ä¸¤ä¸ªçº¦æŸï¼Œç¬¬ä¸€ä¸ªæ˜¯SSPçº¦æŸï¼š</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">(</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">)</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p>
<p>ä¸éœ€è¦åšå¤ªå¤šè§£é‡Šï¼Œç¬¬äºŒä¸ªçº¦æŸæ˜¯çº¿æ€§çº¦æŸï¼š</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mclose">)</span></span></span></span></span></p>
<p>è¿™ä¸ªå’Œbabysnarkå…·ä½“è®¾è®¡æœ‰ä¸€äº›å…³ç³»ã€‚ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„å€¼æ˜¯ç”±proverç›´æ¥è®¡ç®—çš„ï¼Œè€Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> çš„å€¼æ¥è‡ªäºsetupé˜¶æ®µã€‚è®¾ç½®çº¿æ€§çº¦æŸçš„ç›®çš„æ˜¯ç¡®ä¿ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ç¡®å®æ˜¯ç”±åŒä¸€çº¿æ€§å¤šé¡¹å¼è®¡ç®—å‡ºæ¥çš„ï¼Œé˜²æ­¢proverä½œå¼Šï¼Œæ¶æ„æ„é€  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> è€Œä¸æ˜¯èµ–åœ¨setupæ‰€æä¾›çš„éšæœºchallengeæ„é€ çš„ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ï¼Œæœ€ç»ˆç ´åSSPçº¦æŸã€‚å› ä¸ºproveræœ€åè¾“å‡ºè¯æ˜çš„æ—¶å€™åŒæ—¶æä¾›äº† <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> å’Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> åœ¨verifyé˜¶æ®µæ·»åŠ  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span></span></span></span> æ˜¯ä¸ºäº†é˜²æ­¢è¯æ˜è€…è¾“å‡ºç‰¹åˆ«æ¶æ„æ„é€ çš„ B=YVï¼Œæ‰€ä»¥å†åšä¸€æ¬¡çº¿æ€§çº¦æŸã€‚</p>
<p>babysnarkçš„éšæœºæŒ‘æˆ˜<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.1132em;">Ï„</span></span></span></span>é‡‡ç”¨çš„æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.1132em;">Ï„</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.1132em;">Ï„</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>çš„å½¢å¼ï¼Œè¯¥æ„é€ å½¢å¼çš„å®‰å…¨ä¿è¯æ¥è‡ªq-DLOG å‡è®¾ã€‚q-DLOG å‡è®¾ç¡®ä¿å³ä½¿æ•Œæ‰‹å¯ä»¥åœ¨å¤šä¸ªç‚¹ä¸Šè§‚å¯Ÿåˆ°å¤šé¡¹å¼çš„å€¼ï¼Œä»–ä»¬ä¹Ÿæ— æ³•ä»å¤šé¡¹å¼çš„ç»“æ„ä¸­æå–ä»»ä½•ä¿¡æ¯ã€‚</p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯¹babysnarkçš„åŸç†éƒ¨åˆ†åšäº†è¯¦ç»†çš„æ¢è®¨ã€‚å¸Œæœ›é€šè¿‡æ·±å…¥æµ…å‡ºçš„æ–¹å¼ä»‹ç»è¿™ä¸€ç®€æ˜“çš„snarkï¼Œèƒ½ä¸ºä½ çš„é›¶çŸ¥è¯†è¯æ˜å­¦ä¹ ä¹‹æ—…æä¾›åšå®çš„åŸºçŸ³ã€‚</p>
<h3 id="reference"><a class="header" href="#reference">Reference</a></h3>
<p>[1]  <a href="https://github.com/initc3/babySNARK/tree/master">BabySnark do do do</a></p>
<p>[2]  <a href="https://medium.com/@VitalikButerin/quadratic-arithmetic-programs-from-zero-to-hero-f6d558cea649">quadratic-arithmetic-programs-from-zero-to-hero</a></p>
<p>[3]  <a href="https://secbit.io/blog/2020/01/08/learn-zk-snark-from-zero-part-three/">ä»é›¶å¼€å§‹å­¦ä¹  zk-SNARKï¼ˆä¸‰ï¼‰â€”â€”ä»ç¨‹åºåˆ°å¤šé¡¹å¼çš„æ„é€ </a></p>
<p>[4]  <a href="https://www.di.ens.fr/~nitulesc/files/Survey-SNARKs.pdf">zk-SNARKs: A Gentle Introduction</a></p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="kzg"><a class="header" href="#kzg">KZG</a></h1>
<p>KZG æ‰¿è¯ºåˆå«åš KZG10 æ‰¿è¯º,æ˜¯ç”± Kate, Zaverucha, and Goldberg ä¸‰ä½ä½œè€…å…±åŒæå‡º.</p>
<h2 id="1å¤šé¡¹å¼è¡¨ç¤º"><a class="header" href="#1å¤šé¡¹å¼è¡¨ç¤º"><strong>1.å¤šé¡¹å¼è¡¨ç¤º</strong></a></h2>
<p>å¤šé¡¹å¼ P(x)å¯ä»¥ç”¨ç³»æ•°è¡¨è¿°,å¦‚<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">0</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">0</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">0</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">0</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">55</span></span></span></span>ç®€å•å¯è¡¨ç¤ºä¸º</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord">6</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">55</span></span></span></span>,æ‰€ä»¥å¯¹äºä¸€ä¸ªå¤šé¡¹å¼ P(x)å¯ä»¥è¡¨ç¤ºä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1244em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span>,å…¶ä¸­<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºå¯¹åº”ä½ç½®çš„ç³»æ•°.</p>
<h2 id="2commitment-scheme"><a class="header" href="#2commitment-scheme"><strong>2.Commitment Scheme</strong></a></h2>
<h3 id="21-commit-schemes-è¿‡ç¨‹"><a class="header" href="#21-commit-schemes-è¿‡ç¨‹"><strong>2.1 Commit Schemes è¿‡ç¨‹ï¼š</strong></a></h3>
<p>å¯ä»¥æŠŠæ‰¿è¯º C(m)ç†è§£ä¸ºä¸€ä¸ªè£…ç€ä¿¡ä»¶ m çš„ä¿¡å°</p>
<p><img src="zk-everything/zk-learning-miles/static/XfBkbAOzwomDgUxqgiicUopRntd.png" alt="" /></p>
<ul>
<li>Setup é˜¶æ®µäº§ç”Ÿä¸€äº›å…¬å…±å‚æ•°</li>
<li>Commit é˜¶æ®µ:å¯¹æ¶ˆæ¯ <strong>m</strong> è¿›è¡Œæ‰¿è¯ºå¾—åˆ° <strong>C(m)</strong></li>
<li>Open é˜¶æ®µ:æ‰“å¼€ <strong>C(m)<strong>å¾—åˆ°</strong> mâ€˜,<strong>éªŒè¯</strong> m</strong>æ˜¯å¦ç­‰äº <strong>mâ€™. commit é˜¶æ®µçš„ mï¼Œåœ¨ open é˜¶æ®µæ˜¯ä¼šæš´éœ²çš„.</strong></li>
</ul>
<h3 id="22-commit-schemes-æ€§è´¨"><a class="header" href="#22-commit-schemes-æ€§è´¨"><strong>2.2 commit Schemes æ€§è´¨ï¼š</strong></a></h3>
<ul>
<li>
<p><strong>Hiding:æ„å‘³ç€æ•Œæ‰‹è·å¾—æ‰¿è¯º c(m)åæ— æ³•è·å¾— m çš„å€¼</strong></p>
<ul>
<li>computational hiding:å¯¹äºä»»æ„çš„ PPT æ•Œæ‰‹ A.æœ‰
<img src="zk-everything/zk-learning-miles/static/HDjibLSHjoDkj6xG1V8cTC7nnGg.png" alt="" /></li>
<li>Perfect hiding:å°† A çš„è®¡ç®—èƒ½åŠ›ä¿®æ”¹ä¸ºæ— ç©·ç®—åŠ›,â€œâ‰¤ negl(Î»)â€æ›¿æ¢ä¸º 0</li>
</ul>
</li>
<li>
<p><strong>Binding:æ˜¯æŒ‡ä¸€ä¸ªæ‰¿è¯º c(m) åœ¨ Open é˜¶æ®µæ‰“å¼€åªä¼šå¾—åˆ° m è€Œä¸ä¼šå¾—åˆ° mâ€˜.</strong></p>
<ul>
<li>computational  Binding
<img src="zk-everything/zk-learning-miles/static/PSBEbWZsUoPlgJx50dKcnhivnOe.png" alt="" /></li>
<li>perfect binding::å°† A çš„è®¡ç®—èƒ½åŠ›ä¿®æ”¹ä¸ºæ— ç©·ç®—åŠ›,â€œâ‰¤ negl(Î»)â€æ›¿æ¢ä¸º 0</li>
</ul>
</li>
</ul>
<h3 id="23-polynomial-commitment-schemespcs"><a class="header" href="#23-polynomial-commitment-schemespcs"><strong>2.3 Polynomial Commitment Schemesï¼šPCS</strong></a></h3>
<p>å¤šé¡¹å¼æ‰¿è¯º PCS:æ‰¿è¯ºå¯¹è±¡æ˜¯å•å˜é‡å¤šé¡¹å¼,<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span>:è¡¨ç¤ºæ‰€æœ‰ degree æœ€å¤šä¸º d çš„å•å˜é‡å¤šé¡¹å¼çš„é›†åˆã€‚è¿‡ç¨‹å¯æ€»ç»“å¦‚ä¸‹å›¾</p>
<p><img src="zk-everything/zk-learning-miles/static/HXKrbfuUqoksR1xij0HcWyHtncd.png" alt="" /></p>
<ul>
<li>Prover è¿è¡Œ Commit ç®—æ³•,å°†å‡½æ•° f ä¸éšæœºæ•° r ä½œä¸ºè¾“å…¥,<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>ä¸ºè¾“å‡º.å°†<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>å‘é€ç»™ Verifier</li>
<li>Verifier å‘é€ä¸€ä¸ªæŒ‘æˆ˜ç‚¹:å³ä¸€ä¸ªå‡½æ•°åŸŸ X ä¸­çš„å…ƒç´  x</li>
<li>Prover å°† x å¯¹åº”çš„ f(x)=y,ä»¥åŠ proof <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span></span></span></span>å‘é€ç»™ Verifier.  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span></span></span></span>è¡¨æ˜ 1.f(x)=y 2.f å±äº F,å³ f çš„ degree&lt;=d.</li>
</ul>
<p>å…¶ä¸­ Prover éœ€è¦è®¡ç®—å¦‚ä¸‹å†…å®¹</p>
<ol>
<li>å¤šé¡¹å¼çš„æ‰¿è¯º C=[P(x)]</li>
<li>å¤šé¡¹å¼åœ¨ z ç‚¹çš„å€¼,P(z)=y,è¿™å¾ˆç®€å•</li>
<li>the proof <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span></span></span></span></li>
</ol>
<p>PCS æœ‰å¤šç§,æ¯”å¦‚ <a href="https://drops.dagstuhl.de/opus/volltexte/2018/9018/pdf/LIPIcs-ICALP-2018-14.pdf">FRI</a> or Dark'20 or Dory'20 .ä½†æ˜¯ KZG ä»ç„¶æ˜¯ç›®å‰å®è·µä¸­<strong>ä½¿ç”¨æœ€ä¸ºå¹¿æ³›çš„ PCS æ–¹æ¡ˆ</strong>.å…¶ç‰¹ç‚¹å¦‚ä¸‹</p>
<ol>
<li>åŸºäº Pairing å®ç°</li>
<li>Proof size æ˜¯å¸¸é‡ (ä¸€ä¸ªæ¤­åœ†æ›²çº¿ç¾¤å…ƒç´ )</li>
<li>éªŒè¯æ—¶é—´æ˜¯å¸¸é‡ (ä¸¤æ¬¡ pairing æ“ä½œ)</li>
</ol>
<p>å…¶ä¸­ç‰¹æ€§ 2 ä¸ 3 å¯¼è‡´å¯ä»¥å°†å…¶æ„é€ æˆä¸€ä¸ª SNARK æ–¹æ¡ˆ.SNARK çš„å…¨ç§°æ˜¯ Succinct Non-interactive  Argument of Knowledge:ç®€æ´éäº¤äº’å¼çŸ¥è¯†è®ºè¯.</p>
<p>SNARK è¦æ±‚ 1.size of proof=O(log(d)) 2.time of Verification =O(log(d)),d ä¸º degree of Polynomial.</p>
<p>è¿›è€Œå¯ä»¥å°† KZG åº”ç”¨åœ¨é›¶çŸ¥è¯†è¯æ˜ç³»ç»Ÿå¦‚ ZK-SNARK ä¸­.</p>
<h2 id="3è®¡ç®—å¤šé¡¹å¼çš„æ‰¿è¯º-c"><a class="header" href="#3è®¡ç®—å¤šé¡¹å¼çš„æ‰¿è¯º-c"><strong>3.è®¡ç®—å¤šé¡¹å¼çš„æ‰¿è¯º C</strong></a></h2>
<p>åœ¨è®¡ç®—ä¹‹å‰,é¦–å…ˆä»‹ç»ä¸¤ä¸ªæ¦‚å¿µ</p>
<h3 id="31-æ¤­åœ†æ›²çº¿ec"><a class="header" href="#31-æ¤­åœ†æ›²çº¿ec"><strong>3.1 æ¤­åœ†æ›²çº¿(<strong><strong>EC</strong></strong>)</strong></a></h3>
<p>è¿™é‡Œåªç®€å•æä¸€ä¸‹æ¤­åœ†æ›²çº¿,æ›´å¤šç»†èŠ‚å¯å‚è€ƒé˜…è¯» <a href="https://andrea.corbellini.name/2015/05/17/elliptic-curve-cryptography-a-gentle-introduction/">basic  elliptic curve cryptography series</a>.</p>
<p>å‡è®¾<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">G</span></span></span></span>æ˜¯ç”±æ¤­åœ†æ›²çº¿ç‚¹æ„æˆçš„ç¾¤,g æ˜¯<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">G</span></span></span></span>çš„ç”Ÿæˆå…ƒ.</p>
<p>ç”¨ç¬¦å·[x]è¡¨ç¤º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8588em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span></span></span></span>.ç”±äº<strong>æ¤­åœ†æ›²çº¿çš„<strong><strong>ç¦»æ•£å¯¹æ•°</strong></strong>éš¾é¢˜</strong>,ç»™å®š g ä¸[x],<strong>ä½†æ— æ³•é€†æ¨å‡º x.</strong></p>
<h3 id="32-trusted-setup"><a class="header" href="#32-trusted-setup"><strong>3.2 Trusted Setup</strong></a></h3>
<p>å¯¹å¤šé¡¹å¼è¿›è¡Œæ‰¿è¯º,éœ€è¦ä¸€ä¸ªä¸å¤šé¡¹å¼ç³»æ•°æ•°é‡ä¸€æ ·é•¿çš„ structured reference stringï¼ˆSRSï¼‰ã€‚è¯¥å­—ç¬¦ä¸²å¿…é¡»æŒ‰ç…§æŒ‡å®šçš„æ–¹å¼ç”Ÿæˆï¼Œå¹¶æä¾›ç»™ä»»ä½•å¸Œæœ›æ‰¿è¯ºå¤šé¡¹å¼çš„å‚ä¸æ–¹ã€‚ç”Ÿæˆè¿‡ç¨‹ä¼šäº§ç”Ÿä¸€ä¸ªç§˜å¯†å€¼ s,ä¹Ÿç§°ä¸º trapdoor æˆ–è€… toxic wasteï¼‰ï¼Œå¿…é¡»å°† s å…¶ä¸¢å¼ƒã€‚æ¢å¥è¯è¯´ï¼Œç”Ÿæˆå‚è€ƒå­—ç¬¦ä¸²çš„ä»»ä½•ä¸€æ–¹éƒ½çŸ¥é“ä¸€ä¸ªä¿¡æ¯ç‰‡æ®µï¼Œè¯¥ä¿¡æ¯å¯ä»¥ç ´åå¤šé¡¹å¼æ‰¿è¯ºæ–¹æ¡ˆçš„ binding æ€§è´¨ï¼Œä»è€Œç ´åä½¿ç”¨è¯¥æ‰¿è¯ºæ–¹æ¡ˆçš„ä»»ä½•è¯æ˜ç³»ç»Ÿçš„æ­£ç¡®æ€§ã€‚ç”Ÿæˆè¿™æ ·çš„ SRS è¿‡ç¨‹è¢«ç§°ä¸º<strong>å¯ä¿¡è®¾ç½®ï¼ˆtrusted setup).</strong></p>
<p>è®¾ D æ˜¯å¸Œæœ›æ”¯æŒæ‰¿è¯ºçš„å¤šé¡¹å¼ P(x)çš„æœ€é«˜æ¬¡æ•°ä¸Šç•Œ, SRS =<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2564em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0064em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9191em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">D</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>.</p>
<p>ç›®å‰ä¸»æµæ˜¯é€šè¿‡ <strong>Ceremony</strong> ç”Ÿæˆ SRS,å…³äº <strong>Ceremony</strong> çš„è¯¦ç»†ç»†èŠ‚å¯å‚è€ƒ <a href="https://mirror.xyz/privacy-scaling-explorations.eth/naTdx-u7kyirczTLSAnWwH6ZdedfTQu1yCWQj1m_n-E">https://mirror.xyz/privacy-scaling-explorations.eth/naTdx-u7kyirczTLSAnWwH6ZdedfTQu1yCWQj1m_n-E</a></p>
<p>Ceremony çš„æ€æƒ³ä¸ MPC ç±»ä¼¼ï¼Œè®© N åå‚ä¸è€…ç”Ÿæˆè‡ªå·±çš„ç§˜å¯†ï¼Œå¹¶æŒ‰é¡ºåºå°†å…¶æ·»åŠ åˆ°ä¸»ç§˜å¯†ä¸­ã€‚åªè¦æœ‰ä¸€ä¸ªå‚ä¸è€…ä¸æ³„éœ²ç§˜å¯†ï¼Œé‚£ä¹ˆä¸»ç§˜å¯†å°±æ˜¯å®‰å…¨çš„ã€‚ä¸»ç§˜å¯†çš„ç”Ÿæˆè¿‡ç¨‹è¢«ç§°ä¸º Ceremony.</p>
<p>å¯è¿›å…¥ <a href="https://ceremy.ethereum.org">https://ceremy.ethereum.org</a> å‚ä¸ä»¥å¤ªåŠç¤¾åŒºç»„ç»‡çš„ KZG Ceremony çš„ç”Ÿæˆè¿‡ç¨‹,æˆä¸ºå…¶ä¸­ä¸€åè´¡çŒ®è€…!</p>
<h3 id="33-combine-trusted-setup-and-ec"><a class="header" href="#33-combine-trusted-setup-and-ec"><strong>3.3 combine Trusted Setup and EC</strong></a></h3>
<ul>
<li>
<p>Trusted Setup é˜¶æ®µç”Ÿæˆ SRS=(<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord">...</span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>),n ä¸º P(x)çš„ degree.ç„¶åå°† s ä¸¢å¼ƒã€‚ä»»ä½•äººéƒ½å¯ä»¥è®¿é—® SRSï¼Œä½†æ˜¯<strong>æ— æ³•è·å¾— s æœ¬èº«</strong>.</p>
</li>
<li>
<p>é€šè¿‡ SRS é‡æ–°æ„é€ å¤šé¡¹å¼ P(x)ä¸º[P(s)],è€Œä¸ä¼šæš´éœ² s ä¸å¤šé¡¹å¼æœ¬èº«</p>
<p>â€‹                      <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">]</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2em;vertical-align:-0.35em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span></span></span></span></p>
</li>
</ul>
<p>ä¸Šå¼ä¸­ï¼Œç”¨ç§˜å¯† s æ›¿æ¢è‡ªå˜é‡ X,å¾—åˆ° P(s):å› ä¸ºè‡ªå˜é‡ x å¯ä»¥è¡¨ç¤ºä¸ºä»»ä½•å€¼,.è¿™ä¸å½±å“å¤šé¡¹å¼æœ¬èº«.è¿›è€Œå¾—åˆ°æ‰¿è¯º C=[P(s)]</p>
<h2 id="4è®¡ç®—-proof"><a class="header" href="#4è®¡ç®—-proof"><strong>4.è®¡ç®— proof</strong></a></h2>
<p>æˆ‘ä»¬éœ€è¦ proof <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span></span></span></span>è¯æ˜ P(z)=v.æ„é€ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span></span></span></span>å‰å…ˆå¼•å…¥ä¸€äº› polynomial math.</p>
<blockquote>
<p><strong>P(x)çš„é›¶ç‚¹ä¸º mï¼Œå³ P(m)=0.é‚£ä¹ˆ P(x)ä¸€å®šèƒ½æ•´é™¤ï¼ˆx-m),å³å­˜åœ¨ä¸€ä¸ªå•†å¤šé¡¹å¼ q(x).ä½¿å¾—</strong></p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span></span></span></span></span></p>
</blockquote>
<p>æƒ³è¦è¯æ˜çš„æ˜¯ <strong>p(z)=v</strong>,ç»“åˆä¸Šè¿° polynomial math.å¯åšå¦‚ä¸‹å˜æ¢.</p>
<p>p(X)-v=0 when X=z,åˆ™ p(X)-y èƒ½æ•´é™¤(X-z) ,å³<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4133em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span><span class="mclose mtight">)</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>,å³<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4133em;vertical-align:-0.4033em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4033em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>.</p>
<p>ä¹ŸæŠŠ q(X)ç§°ä¸º**&quot;Witness Polynomial&quot;**</p>
<p>å¯¹äº<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>,ä¸èƒ½ç›´æ¥åˆ©ç”¨è¿™ä¸ªç­‰å¼,å› ä¸ºç­‰å¼ä¸­çš„**s **ä¸¤æ–¹éƒ½ä¸çŸ¥é“</p>
<p><strong>ç›´è§‰ä¸Š</strong>,æˆ‘ä»¬å¸Œæœ›ç›´æ¥è¯æ˜ç­‰å¼ [p(s)-v] = [q(s)*(s-z)]æˆç«‹,ä»è€Œå®ŒæˆéªŒè¯.</p>
<p><strong>ç­‰å¼å·¦è¾¹:</strong></p>
<p>æ‰¿è¯ºä»…æ»¡è¶³<strong>åŠ æ³•åŒæ€</strong><em>:</em><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)]</span></span></span></span>,æ‰€ä»¥[p(s)-v]=[p(s)] -[v]</p>
<p><strong>ç­‰å¼å³è¾¹:</strong></p>
<p>åœ¨éªŒè¯è¿‡ç¨‹ä¸­,éªŒè¯æ–¹ä¼šæ”¶åˆ°è¯æ˜æ–¹å‘æ¥çš„[p(s)] ,åŒæ—¶éªŒè¯æ–¹è‡ªå·±å¯ä»¥è®¡ç®—[s-z]=[s]-[z]çš„å€¼</p>
<p>ä½†æ˜¯ç”±äºæ¤­åœ†æ›²çº¿ä¸Šä¸æ»¡è¶³ä¹˜æ³•,å³<strong>ä¹˜æ³•****åŒæ€</strong>:[p(s)]*[q(s)] =[p(s)*q(s)]</p>
<p>æ‰€ä»¥ç­‰å¼**[q(s) * (s-z)]= [q(s)]*[s-z]** å¹¶ä¸æˆç«‹,éœ€è¦å¼•å…¥<strong>é…å¯¹ pairing</strong>ã€‚</p>
<p><code>å› ä¸ºæ¤­åœ†æ›²çº¿ä¸Šçš„è¿ç®—æ˜¯ä¸€ä¸ªåŠ æ³•ç¾¤ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªä¹˜æ³•ç¾¤ï¼Œä¹˜æ³•æ²¡æœ‰è¢«å®šä¹‰ã€‚</code></p>
<blockquote>
<p>è¿™é‡Œéœ€è¦å¼ºè°ƒçš„æ˜¯ï¼Œå•ä¸ªè¿ç®—ç»“æ„å…¶å®å¹¶ä¸åŒºåˆ†åŠ æ³•ä¹˜æ³•ï¼Œa o b è¿™ä¸ª o æŠŠå®ƒç§°ä½œæˆä»€ä¹ˆéƒ½è¡Œ
åªæ˜¯åœ¨æœ‰é™åŸŸä¸Šçš„æ¤­åœ†æ›²çº¿ç‚¹é›†æ„æˆä¸€ä¸ªåŠ æ³•ç¾¤ï¼ŒæŠŠå®ƒç§°ä¸ºåŠ æ³•æ˜¯æ›´ç¬¦åˆä¹ æƒ¯ã€‚
æˆ‘ä»¬åŒºåˆ«åŠ æ³•ä¸ä¹˜æ³•ï¼Œæ¯”å¦‚ä¸¤ç§è¿ç®—çš„ä»£æ•°ç»“æ„æ¯”å¦‚ç¯ï¼ŒåŸŸã€‚
å› ä¸ºæœ‰ä¸¤ç§è¿ç®—ï¼Œéœ€è¦åšåŒºåˆ†ï¼Œå› ä¸ºæ¶‰åŠåˆ°åˆ†é…å¾‹ï¼Œè°å¯¹è°åˆ†é…çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¼šå¾ˆæ˜ç¡®çš„åŒºåˆ†åŠ æ³•ä¸ä¹˜æ³•ã€‚</p>
</blockquote>
<h2 id="5pairing"><a class="header" href="#5pairing">5.Pairing</a></h2>
<p>Pairing is **a bilinear mapping.<strong>æ·±å…¥å­¦ä¹ Pairingå¯å‚è€ƒ</strong>ã€ŠPairing for beginnersã€‹**è¿™æœ¬ä¹¦,åœ¨è¿™é‡Œåªåšç®€å•ä»‹ç».</p>
<ul>
<li><strong>bilinear</strong>
<ul>
<li>Linearity:å¯¹äºæŸäº›ä¸€å…ƒå‡½æ•°,å¦‚æœè¯¥å‡½æ•°æœä»<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li>Bilinearity:å¯¹äºäºŒå…ƒå‡½æ•°,Linearity å­˜åœ¨äºæ‰€æœ‰ç»´åº¦ä¸­,å³</li>
</ul>
</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<ul>
<li><strong>bilinear mapping</strong>
<a href="https://zh.wikipedia.org/wiki/%E5%8F%8C%E7%BA%BF%E6%80%A7%E6%98%A0%E5%B0%84">åŒçº¿æ€§æ˜ å°„</a>æ˜¯ä¸€ä¸ªå‡½æ•°,å®ƒä»ä¸¤ä¸ªå‘é‡ç©ºé—´çš„å…ƒç´ äº§ç”Ÿç¬¬ä¸‰ä¸ªå‘é‡ç©ºé—´çš„å…ƒç´ ,æ¯ä¸ªå‚æ•°éƒ½æ˜¯çº¿æ€§çš„.</li>
</ul>
<h3 id="51-about-pairing"><a class="header" href="#51-about-pairing">5.1 about pairing</a></h3>
<p>é…å¯¹æ˜¯â¼€ç§æŠ½è±¡æ“ä½œã€‚å…¶å®šä¹‰å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ æœ‰ Tate é…å¯¹ã€Weil é…å¯¹ã€Ate é…å¯¹ç­‰ç­‰â€¦â€¦ è™½ç„¶æ¯â¼€ä¸ªéƒ½é€šè¿‡ä¸åŒçš„æ“ä½œæ¥å®šä¹‰é…å¯¹,<strong>ä½†æ˜¯Inputä¸outputçš„æ ¼å¼,pairing çš„å±æ€§éƒ½æ˜¯å›ºå®šçš„</strong>.</p>
<h4 id="input"><a class="header" href="#input"><strong>Input</strong>:</a></h4>
<p><img src="zk-everything/zk-learning-miles/static/LTvUbxxJ9oe9z0xoYiecoD7dn85.png" alt="" /></p>
<p><img src="zk-everything/zk-learning-miles/static/ErfgbsD5DoFQgfxqY5VczC40nOf.png" alt="" /></p>
<h4 id="output"><a class="header" href="#output"><strong>output</strong>ï¼š</a></h4>
<p>n é˜¶ä¹˜æ³•ç¾¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸­çš„æ•´æ•°ï¼ˆæˆ–å¤æ•°)</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>åˆ†åˆ«æ˜¯å¯¹ç§°ä¸éå¯¹ç§°çš„ Pairing å½¢å¼ã€‚<strong>åœ¨å®é™…ä¸­ï¼Œéå¯¹ç§° Pairing æ•ˆç‡æœ€é«˜ã€‚</strong></p>
<h4 id="properties"><a class="header" href="#properties">propertiesï¼š</a></h4>
<ul>
<li>e(P, Q + R) = e(P,Q) * e(P, R)</li>
<li>e(P + S, Q) = e(P,Q) * e(S, Q)</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ab</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span></span></span></span>(bilinear)</li>
<li>e(P, Q) â‰  1 (non-degeneracy property)</li>
</ul>
<h3 id="52-pairing-examples"><a class="header" href="#52-pairing-examples">5.2 Pairing examples</a></h3>
<h4 id="1ex-y--2Ë£Ê¸"><a class="header" href="#1ex-y--2Ë£Ê¸">1.e(x, y) = 2Ë£Ê¸</a></h4>
<p>ä¾‹: è¯·ä¸¾ä¾‹åœ¨å®æ•°åŸŸä¸­ e(x, y) = 2Ë£Ê¸ æ˜¯åŒçº¿æ€§å‡½æ•°.</p>
<ul>
<li>e(3, 4 + 5) = 2Â³Ë™â¹ = 2Â²â·</li>
<li>e(3, 4) * e(3, 5) = 2Â³Ë™â´ * 2Â³Ë™âµ = 2Â¹Â² * 2Â¹âµ = 2Â²â·.</li>
<li>é€šè¿‡ pairing è¯æ˜çŸ¥é“ xÂ² - x - 42 = 0 çš„è§£, ç„¶è€Œå¹¶ä¸é€éœ²è¿™ä¸ªè§£çš„å…·ä½“æ•°å€¼.</li>
</ul>
<p>å¦‚æœ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">G</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span> æˆç«‹, é‚£ä¹ˆ k å¿…é¡»ä¸º 0 æˆ–è€…ç›®æ ‡ç¾¤çš„å€æ•°.</p>
<p>å¦‚æœå­˜åœ¨ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2369em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">G</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">42</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>, å¯ä»¥ç¡®å®šåŸå§‹äºŒæ¬¡æ–¹ç¨‹å¼æˆç«‹. ä½¿ç”¨åŒçº¿æ€§æ€§é‡å†™æ–¹ç¨‹ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2369em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">G</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">G</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight">x</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">G</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">âˆ’</span><span class="mord mtight">42</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>.è¿›ä¸€æ­¥,e(xG, xG) â‹… e(xG, -G) â‹… e(G, -42G) = 1.</p>
<p>å› æ­¤åªéœ€è¦æä¾› xG çš„å€¼. åŒæ—¶ç”±äºæ¤­åœ†æ›²çº¿çš„ç¦»æ•£å¯¹æ•°é—®é¢˜, ä» xG åæ¨å› x æ˜¯å›°éš¾çš„.</p>
<h4 id="2è§£å†³-diffie-hellman-éš¾é¢˜"><a class="header" href="#2è§£å†³-diffie-hellman-éš¾é¢˜">2.<strong>è§£å†³ Diffie-Hellman éš¾é¢˜</strong></a></h4>
<h4 id="3blsç­¾å"><a class="header" href="#3blsç­¾å">3.<strong>BLS</strong>ç­¾å</a></h4>
<h2 id="6kzg"><a class="header" href="#6kzg">6.<strong>KZG</strong></a></h2>
<p>å›åˆ°KZGéƒ¨åˆ†</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8833em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>åˆ†åˆ«æ˜¯åŒä¸€æ¤­åœ†æ›²çº¿çš„ä¸¤ä¸ªå­ç¾¤.g æ˜¯å­ç¾¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„ç”Ÿæˆå…ƒ,h æ˜¯å­ç¾¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>çš„ç”Ÿæˆå…ƒ</p>
<p>ç”Ÿæˆå…ƒçš„é€‰æ‹©é€šå¸¸åœ¨ trusted Setup é˜¶æ®µé€‰æ‹©<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span></span></span></span></span><span class="mord">.</span></span></span></span></p>
<p>define pairing e: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>,å¯¹äºç§˜å¯† s ä¹Ÿç›¸åº”æœ‰ä¸¤ä¸ªåˆ†å¸ƒ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0747em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>.å³SRS</p>
<p>åŸæ¥è¦éªŒè¯çš„ç­‰å¼ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span>   <strong>=&gt;</strong>   <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>åˆ†å¸ƒé›†1: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8588em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œå¯¹åº”ç”Ÿæˆå…ƒä¸ºgã€‚è®¡ç®—Ï€ã€Cã€<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>åˆ†å¸ƒé›†2: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>ï¼Œå¯¹åº”ç”Ÿæˆå…ƒä¸ºhã€‚è®¡ç®—<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p>
<p>éªŒè¯è€…éªŒè¯ç­‰å¼ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.403em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.153em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mclose mtight">?</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose">)</span></span></span></span></p>
<p>ç®€å•ç†è§£è¿™ä¸ªç­‰å¼ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼‰</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span><span class="mpunct mtight">â‹…</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span></span></span></span></span></span></span></span></p>
<blockquote>
<p>[x]g ä¸ g^x è¡¨è¿°å½¢å¼ä¸åŒï¼Œæœ¬è´¨ä¸Šæ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚
a o b =c
å¦‚æœç¾¤è¿ç®—å®šä¹‰ä¸ºåŠ æ³•ï¼Œå°±ä½¿ç”¨[x]g è¿™ç§å½¢å¼
å¦‚æœç¾¤è¿ç®—å®šä¹‰ä¸ºä¹˜æ³•ï¼Œå°±ä½¿ç”¨ g^x è¿™ç§å½¢å¼</p>
</blockquote>
<p>ç”¨é»‘ç›’æ¥ç†è§£è¿™ä¸ªç­‰å¼çš„è¯ï¼Œå°±ç­‰ä»·äºåœ¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ç¾¤ä¸­å»éªŒè¯ä¸‹é¢ä¹˜æ³•çš„æˆç«‹</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mord">.</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>Verifier å¦‚ä½•è¿›è¡ŒéªŒç®—ï¼š</p>
<ul>
<li><em>prover å‘é€</em><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)]</span></span></span></span>,C,v</li>
<li>Verifier è‡ªå·±é€‰æ‹©çš„ z,æ ¹æ®åŠ æ³•åŒæ€,Verifier å¯ä»¥è®¡ç®—_[s -z]â‚‚=[s]â‚‚ - [z]â‚‚_</li>
<li><em>g,h</em> is public,<strong>pairing function is public.</strong></li>
</ul>
<h3 id="kzg-å®Œæ•´è¿‡ç¨‹"><a class="header" href="#kzg-å®Œæ•´è¿‡ç¨‹">KZG <strong>å®Œæ•´è¿‡ç¨‹ï¼š</strong></a></h3>
<ol>
<li>é€šè¿‡ Trusted setup, äº§ç”Ÿ SRS:<strong>[sâ±]â‚</strong>,  <strong>[sâ±]â‚‚</strong>.</li>
<li>Prover ä½¿ç”¨_[sâ±]â‚_,å¯¹å¤šé¡¹å¼ P(x)è¿›è¡Œ commit,å¾—åˆ° <strong>C</strong> = <em>[p(s)]â‚</em>,  å‘é€ç»™ Verifier.</li>
<li>Verifier é€‰æ‹©æŒ‘æˆ˜ç‚¹_z _âˆˆ {0,...,_p_âˆ’1}</li>
<li>Prover å‘é€ <strong>Ï€ ã€y</strong> ç»™ Verifier:</li>
<li>Verifier æ£€æŸ¥ç­‰å¼: _e(Ï€, [s -z]â‚‚) = e(C -[v]â‚, H)
_<em>â€”</em> if the equation holds, the verifier accepts the proof
<em>â€”</em> if the equation does not hold, the verifier rejects the proof</li>
</ol>
<h3 id="kzg-åˆ†æ"><a class="header" href="#kzg-åˆ†æ">KZG åˆ†æ</a></h3>
<p>å¯¹ KZG çš„ Corretness Binding hiding åˆ†åˆ«åˆ†æ</p>
<ul>
<li>Corretness</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.403em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.153em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mclose mtight">?</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose">)</span></span></span></span></span></p>
<p>ç­‰å¼å·¦è¾¹:<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mopen">[</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼‰</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span><span class="mpunct mtight">â‹…</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>ç­‰å¼å³è¾¹: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li>hiding</li>
</ul>
<p>å› ä¸ºæ¤­åœ†æ›²çº¿çš„ç¦»æ•£å¯¹æ•°éš¾é¢˜,æ•Œæ‰‹æ‹¿åˆ°[x]æ— æ³•å¾—åˆ° x.</p>
<ul>
<li>Binding</li>
</ul>
<p>åˆ†æ Binding å‰ï¼Œéœ€è¦ä»‹ç» SDH å‡è®¾ã€‚</p>
<p><strong>Strong Diffie-Hellman(SDH)</strong> é—®é¢˜å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p>ç»™å®š(q+1)é•¿çš„å…ƒç»„ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2369em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.88em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7385em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ä½œä¸ºè¾“å…¥ï¼Œè¾“å‡º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2312em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-3.3902em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4035em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0718em;vertical-align:-0.3831em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span></span></span></span></p>
<p><strong>SDH</strong>å‡è®¾<strong>å°±æ˜¯ä¸å­˜åœ¨å¤šé¡¹å¼æ—¶é—´ç®—æ³•å¯ä»¥</strong>ä»¥<strong>ä¸å¯å¿½ç•¥æ¦‚ç‡</strong>è§£å†³ SDH é—®é¢˜ã€‚ä¸‹é¢ç”¨å¯¹ç§°å½¢å¼çš„ Pairing è¿›è¡Œåˆ†æ</p>
<p>åç»­ pairing çš„éªŒè¯éƒ½æ˜¯â€œg çš„æŒ‡æ•°ä¸Šâ€åœ¨è¿›è¡ŒéªŒè¯,ä¸ºäº†æ–¹ä¾¿èµ·è§.çœç•¥åº•æ•° g,åç»­çš„ç­‰å¼éƒ½æ˜¯åœ¨æŒ‡æ•°ä½ç½®ä¸Šè¿›è¡Œ.</p>
<p>åè¯æ³•,å³KZGä¸æ»¡è¶³ binding,é‚£ä¹ˆ open æ‰¿è¯º C å¯ä»¥å¾—åˆ°å€¼ v å’Œ v'ï¼Œæ‰¿è¯ºæ–¹å¿…é¡»ç¡®å®šä¸¤ä¸ªä¸åŒçš„å€¼ y å’Œ y'ï¼Œä½¿å¾—ä¸‹åˆ—ç­‰å¼æˆç«‹:</p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8019em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0519em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span></span></p>
<p>å³<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8352em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">))</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span></p>
<p><em>å› ä¸º</em><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9463em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>,å‡è®¾ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel"><span class="mord vbox"><span class="thinbox"><span class="rlap"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="inner"><span class="mord"><span class="mrel">î€ </span></span></span><span class="fix"></span></span></span></span></span><span class="mrel">=</span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span>, ç­‰å¼ä¸¤è¾¹åŒæ—¶é™¤ä»¥<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span>å¯å¾—:</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3651em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.53em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mtight">â€²</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mtight">â€²</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>,å³<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2697em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0752em;"><span style="top:-3.4842em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.6408em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5378em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.4051em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.2107em;"><span style="top:-3.4842em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0378em;"><span style="top:-2.6408em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span><span class="mord mtight">â€²</span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.5021em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span><span class="mord mtight">â€²</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">s</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5378em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>,è¿™è¯´æ˜æœ‰äººå¯é«˜æ•ˆè®¡ç®—å‡º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1757em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9812em;"><span style="top:-3.3902em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4035em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>,è¿™<strong>è¿èƒŒäº†SDHå‡è®¾</strong>.</p>
<h3 id="æ€»ç»“"><a class="header" href="#æ€»ç»“">æ€»ç»“:</a></h3>
<p>åƒä¹‹å‰è¯´çš„é‚£æ ·,KZG æ–¹æ¡ˆçš„ Proof size æ˜¯å¸¸é‡ (ä¸€ä¸ªæ¤­åœ†æ›²çº¿ç¾¤å…ƒç´ ),éªŒè¯æ—¶é—´ä¹Ÿæ˜¯å¸¸é‡ (ä¸¤æ¬¡ pairing æ“ä½œ),è¿™æ˜¯å…¶ä¼˜ç‚¹.ä½†æ˜¯å…¶æœ€å¤§ç¼ºç‚¹æ˜¯éœ€è¦ä¸€ä¸ª Trusted Setup é˜¶æ®µ.</p>
<h2 id="7batch-kzg-proofmulti-proof"><a class="header" href="#7batch-kzg-proofmulti-proof">7.<strong>Batch-KZG proofï¼šmulti proof</strong></a></h2>
<p>ä¸Šè¿°è¿‡ç¨‹éªŒè¯äº†â¼€ä¸ªåœ¨<strong>å•ç‚¹ä¸Š</strong>æ±‚å€¼çš„å¤šé¡¹å¼ã€‚ä½†å¦‚æœæƒ³è¯æ˜â¼€ä¸ªå¤šé¡¹å¼ä¸Šåœ¨<strong>å¤šç‚¹</strong>ä¸Šçš„å€¼ï¼Œå°±å¿…é¡»â¼€æ¬¡â¼œâ¼€æ¬¡åœ°é‡å¤åŒæ ·çš„åè®® <strong>(back and forth)</strong>ã€‚è¿™æ˜¾ç„¶æ˜¯æ²¡æœ‰æ•ˆç‡çš„ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œéœ€è¦ &quot;æ‰¹é‡ &quot;éªŒè¯å¤šé¡¹å¼ä¸Šçš„ç‚¹ã€‚</p>
<p>å‡è®¾æƒ³è¯æ˜ k ä¸ªç‚¹ä¸Šçš„å€¼ï¼š</p>
<p>é€šè¿‡ä½¿ç”¨æ‹‰æ ¼æœ—æ—¥å¤šé¡¹å¼æ’å€¼æ³•ï¼Œæ„é€ ä¸€ä¸ªç»è¿‡ä¸Šè¿° k ä¸ªç‚¹å¯¹çš„ k-1 æ¬¡å¤šé¡¹å¼</p>
<p>n+1 ä¸ªåæ ‡å¯¹çš„å½¢å¼ å¯ä»¥å”¯ä¸€çš„æ¢å¤å‡ºä¸€ä¸ªå¤šé¡¹å¼</p>
<p><img src="zk-everything/zk-learning-miles/static/EtQDbXyqrokYp6x860wc9F6unBf.png" alt="" /></p>
<p>**åŸå¤šé¡¹å¼ P(x)<strong>ä¸</strong>æ„é€ çš„ I(x)**éƒ½ç»è¿‡ k ä¸ªç‚¹å¯¹ï¼Œæ‰€ä»¥å¤šé¡¹å¼ P(x)-I(x)=0 åœ¨å¦‚ä¸‹ç‚¹ä¸Šæ»¡è¶³</p>
<p><img src="zk-everything/zk-learning-miles/static/FHTIbRearoiiPixkU86c4YMvnbg.png" alt="" /></p>
<p>å³å¤šé¡¹å¼èƒ½å¤Ÿæ•´é™¤</p>
<p><img src="zk-everything/zk-learning-miles/static/Cy6zbf5ujo3Hb3xam0vcWj8Uncd.png" alt="" /></p>
<p>å®šä¹‰ä¸€ä¸ª zero polynomial:</p>
<p><img src="zk-everything/zk-learning-miles/static/GsAnbEDBSoW6Z0xOokpcT0xwn1d.png" alt="" /></p>
<p>åˆ™ä¸‹å¼æˆç«‹</p>
<p><img src="zk-everything/zk-learning-miles/static/GjIybT7UGoINJgxq86oc5xMVn5d.png" alt="" /></p>
<p>å®šä¹‰ kate multiproof for the evaluation of these pointsï¼š</p>
<p><img src="zk-everything/zk-learning-miles/static/LkOXbbD7volPc9x5BTmcirVrnNc.png" alt="" /></p>
<p>éªŒè¯è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>Verifier é€šè¿‡ k ä¸ª points(z,y)è®¡ç®— Z(x)å’Œ I(x)</li>
<li>Verifier è®¡ç®—<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">ï¼»</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>Verifier éªŒè¯ç­‰å¼<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">ï¼</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mclose">)</span></span></span></span>æ˜¯å¦æˆ</li>
</ul>
<h2 id="8kzg-in-zk-rollup"><a class="header" href="#8kzg-in-zk-rollup">8.KZG in ZK-Rollup</a></h2>
<p>åœ¨ zk-rollups çš„æƒ…å†µä¸‹,æƒ³è¯æ˜å‘ç”Ÿåœ¨ L2 ä¸Šçš„ä¸€äº›è®¡ç®—æ˜¯æœ‰æ•ˆçš„ã€‚ç®€å•æ¥è®²ï¼Œå‘ç”Ÿåœ¨ L2 ä¸Šçš„è®¡ç®—å¯é€šè¿‡ç§°ä¸ºâ€œ witness ç”Ÿæˆâ€çš„è¿‡ç¨‹è¡¨ç¤ºä¸ºäºŒç»´çŸ©é˜µã€‚ç„¶åå¯ä»¥ç”¨å¤šé¡¹å¼åˆ—è¡¨æ¥è¡¨ç¤ºçŸ©é˜µ - æ¯åˆ—éƒ½å¯ä»¥ç¼–ç ä¸ºå…¶è‡ªå·±çš„ä¸€ç»´å‘é‡ã€‚ç„¶åï¼Œè®¡ç®—çš„æœ‰æ•ˆæ€§å¯ä»¥è¡¨ç¤ºä¸ºè¿™äº›å¤šé¡¹å¼ä¹‹é—´å¿…é¡»ä¿æŒçš„ä¸€ç»„æ•°å­¦å…³ç³»ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå‰ä¸‰åˆ—åˆ†åˆ«ç”±å¤šé¡¹å¼ a(x)ã€b(x) ä»¥åŠ c(x) è¡¨ç¤ºï¼Œå¯èƒ½éœ€è¦å…³ç³» a(x)â‹…b(x)âˆ’c(x)=0 ä¿æŒã€‚å¤šé¡¹å¼ï¼ˆä»£è¡¨è®¡ç®—ï¼‰æ˜¯å¦æ»¡è¶³è¿™äº›â€œæ­£ç¡®æ€§çº¦æŸâ€å¯é€šè¿‡åœ¨ä¸€äº›éšæœºç‚¹è¯„ä¼°å¤šé¡¹å¼æ¥ç¡®å®šã€‚å¦‚æœâ€œæ­£ç¡®æ€§çº¦æŸâ€åœ¨è¿™äº›éšæœºç‚¹ä¸Šå¾—åˆ°äº†å…·ä½“çš„æ»¡è¶³ï¼Œåˆ™ä¸€åéªŒè¯è€…å¯ä»¥éå¸¸é«˜çš„æ¦‚ç‡æ–­è¨€è®¡ç®—æ˜¯æ­£ç¡®çš„ã€‚</p>
<p>å¾ˆè‡ªç„¶åœ°çœ‹åˆ°åƒ KZG è¿™æ ·çš„å¤šé¡¹å¼æ‰¿è¯ºæ–¹æ¡ˆï¼Œæ˜¯å¦‚ä½•ç›´æ¥æ’å…¥åˆ°è¿™ä¸ªèŒƒå¼ä¸­çš„ï¼šrollup å°† commit to ä¸€ç»„å¤šé¡¹å¼ï¼Œå®ƒä»¬ä¸€èµ·ä»£è¡¨è®¡ç®—ã€‚ ç„¶åï¼ŒéªŒè¯è€…å¯è¦æ±‚å¯¹ä¸€äº›éšæœºç‚¹è¿›è¡Œè¯„ä¼°ï¼Œä»¥æ£€æŸ¥æ­£ç¡®æ€§çº¦æŸæ˜¯å¦æˆç«‹ï¼Œä»è€ŒéªŒè¯å¤šé¡¹å¼è¡¨ç¤ºçš„è®¡ç®—æ˜¯å¦æœ‰æ•ˆã€‚</p>
<p><img src="zk-everything/zk-learning-miles/static/WFhObAEPnoiu9ex8c8wcMZwPn4e.png" alt="" /></p>
<p>æœ€åæ„Ÿè°¢@Kurt-Pançš„æŒ‡å¯¼ä¸å»ºè®®</p>
<h2 id="å‚è€ƒæ–‡ç« "><a class="header" href="#å‚è€ƒæ–‡ç« ">å‚è€ƒæ–‡ç« </a></h2>
<p><a href="https://taoa.io/posts/Understanding-KZG10-Polynomial-Commitments">Understanding KZG10 Polynomial Commitments (taoa.io)</a></p>
<p><a href="https://hackmd.io/@tompocock/Hk2A7BD6U">Kate Commitments: A Primer - HackMD</a></p>
<p><a href="https://dankradfeist.de/ethereum/2020/06/16/kate-polynomial-commitments.html">Dankrad Feist's kzg commitment post</a></p>
<p><a href="https://blog.subspace.network/kzg-polynomial-commitments-cd64af8ec868">https://blog.subspace.network/kzg-polynomial-commitments-cd64af8ec868</a></p>
<p><a href="https://taoa.io/posts/Understanding-KZG10-Polynomial-Commitments">Understanding KZG10 Polynomial Commitments</a></p>
<p><a href="https://taoa.io/posts/Committing-to-lunch">Committing to lunch (taoa.io)</a></p>
<p>book:Proof,argument and zero knowledge</p>
<p>KZGåŸå§‹è®ºæ–‡</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="lecture1introduction-to-zero-knowledge-interactive-proofs"><a class="header" href="#lecture1introduction-to-zero-knowledge-interactive-proofs">Lecture1:Introduction to Zero knowledge Interactive Proofs</a></h1>
<h1 id="np"><a class="header" href="#np">NP</a></h1>
<h2 id="np-proof"><a class="header" href="#np-proof">NP Proof:</a></h2>
<p>NP-proofs å±äºå¯é«˜æ•ˆéªŒè¯çš„ proofs.å…¶ä¸­è¦æ±‚</p>
<p>1.Witness çš„é•¿åº¦åº”å½“æ˜¯ statement x çš„é•¿åº¦çš„å¤šé¡¹å¼è¡¨ç¤º.</p>
<p>2.Verifier æ—¶é—´æ˜¯ x é•¿åº¦çš„å¤šé¡¹å¼å‡½æ•°è¡¨ç¤º</p>
<p><img src="zk-everything/zk-learning-miles/static/KuMzbk2G0oupOoxt1UbchJW9n4c.png" alt="" /></p>
<h2 id="np-proofs-ä¾‹å­"><a class="header" href="#np-proofs-ä¾‹å­">NP proofs ä¾‹å­</a></h2>
<p>ä¸Šè¿°ä¾‹å­éƒ½å¯ä»¥ç”¨ä¸€ç§é€šç”¨çš„è¯­è¨€å…³ç³» L æ¥è¡¨ç¤º</p>
<p>æ›´å…·ä½“è€Œè¨€,ä¸Šè¿°éƒ½æ˜¯ NP é—®é¢˜:(ç®€å•æ¥è¯´,æ±‚è§£å›°éš¾,ä½†æ˜¯éªŒè¯é«˜æ•ˆçš„é—®é¢˜)</p>
<blockquote>
<ul>
<li>P NP  NPC
<ul>
<li>P é—®é¢˜ï¼šæŒ‡èƒ½åœ¨å¤šé¡¹å¼æ—¶é—´æ±‚è§£å‡ºçš„é—®é¢˜.å¦‚ 2SAT,æ¬§æ‹‰è·¯å¾„,PATH é—®é¢˜</li>
<li>NP:Nondeterministic polynominal(éç¡®å®šæ€§å¤šé¡¹å¼)
ä¸€ä¸ªé—®é¢˜ä¸èƒ½ç¡®å®šæ˜¯å¦èƒ½å¤Ÿåœ¨å¤šé¡¹å¼æ—¶é—´å†…æ‰¾åˆ°ä¸€ä¸ªè§£ã€‚ä½†è‹¥ç»™å‡ºä¸€ä¸ªè§£ï¼Œèƒ½åœ¨å¤šé¡¹å¼æ—¶é—´å†…è¯æ˜è¿™ä¸ªè§£æ˜¯å¦æ­£ç¡® .å¦‚æœæ‰¾åˆ°ä¸€ä¸ªè§£ï¼Œé‚£ä¹ˆ NP é—®é¢˜å°±å˜æˆäº† P é—®é¢˜ï¼Œæ‰€ä»¥ PâˆˆNP ç±»  æ³¨ï¼šNP é—®é¢˜ä¸èƒ½ç†è§£ä¸ºé P é—®é¢˜
è‘—åçš„ NP ç±»é—®é¢˜ï¼šæ—…è¡Œå®¶æ¨é”€é—®é¢˜(TSP)ã€‚å³æœ‰ä¸€ä¸ªæ¨é”€å‘˜ï¼Œè¦åˆ° n ä¸ªåŸå¸‚æ¨é”€å•†å“ï¼Œä»–è¦æ‰¾å‡ºä¸€ä¸ªåŒ…å«æ‰€æœ‰ n ä¸ªåŸå¸‚çš„ç¯è·¯ï¼Œè¿™ä¸ªç¯è·¯è·¯å¾„å°äº aã€‚å¦‚æœå•çº¯çš„ç”¨æšä¸¾æ³•æ¥åˆ—ä¸¾çš„è¯ä¼šæœ‰(n-1)! ç§ï¼Œå·²ç»ä¸æ˜¯å¤šé¡¹å¼æ—¶é—´çš„ç®—æ³•äº†ï¼Œé˜¶ä¹˜æ¯”å¤šé¡¹å¼å¤æ‚ã€‚å‡è®¾æœ‰äººçŒœå‡ æ¬¡å°±çŒœä¸­äº†ä¸€æ¡å°äºé•¿åº¦ a çš„è·¯å¾„ï¼ŒTSP é—®é¢˜è§£å†³äº†ã€‚å¯æ˜¯ï¼Œäººä»¬ä¸å¯èƒ½æ¯æ¬¡éƒ½çŒœçš„é‚£ä¹ˆå‡†ã€‚æ‰€ä»¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ª NP ç±»é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯ï¼Œæˆ‘ä»¬èƒ½åœ¨å¤šé¡¹å¼çš„æ—¶é—´å†…éªŒè¯å¹¶å¾—å‡ºé—®é¢˜çš„æ­£ç¡®è§£ï¼Œå¯æ˜¯æˆ‘ä»¬å´ä¸çŸ¥é“ï¼ˆéä¸å­˜åœ¨ï¼‰è¯¥é—®é¢˜æ˜¯å¦å­˜åœ¨ä¸€ä¸ªå¤šé¡¹å¼æ—¶é—´çš„ç®—æ³•èƒ½è§£å†³
<strong>NP****é—®é¢˜çš„æœ¬è´¨æ˜¯å•å‘æ€§ï¼Œä¸å¯å¿«é€Ÿæ±‚è§£ï¼Œä½†æ˜¯èƒ½å¤Ÿå¿«é€ŸéªŒè¯</strong>ã€‚</li>
<li>NPCï¼š
è§„çº¦ï¼šé—®é¢˜ A å¯ä»¥è½¬åŒ–ä¸ºé—®é¢˜ Bï¼Œå¯¹äºéš¾åº¦è€Œè¨€ï¼Œé—®é¢˜ B æ¯”é—®é¢˜ A è¦å›°éš¾ã€‚è§„çº¦å…·æœ‰ä¼ é€’æ€§ï¼šA è§„çº¦è‡³ Bï¼ŒB è§„çº¦è‡³ Cï¼Œé‚£ä¹ˆ A è§„çº¦è‡³ Cã€‚ä¸€ç›´è§„çº¦ä¸‹ä¾¿ä¼šå¾—åˆ° NPC é—®é¢˜
æ‰€æœ‰çš„ NP é—®é¢˜éƒ½å¯ä»¥çº¦åŒ–æˆ NPC é—®é¢˜ã€‚åªè¦è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„ NP é—®é¢˜éƒ½è§£å†³äº†ã€‚NPC éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶.1ï¼šæ˜¯ä¸€ä¸ª NP é—®é¢˜ 2ï¼šæ‰€æœ‰çš„ NP é—®é¢˜éƒ½å¯ä»¥çº¦åŒ–åˆ°å®ƒã€‚å¦‚ SAT é—®é¢˜ã€HAMPATH é—®é¢˜éƒ½å±äº NPC é—®é¢˜.</li>
<li>NP-hard é—®é¢˜
å®ƒæ»¡è¶³ NPC é—®é¢˜å®šä¹‰çš„ç¬¬äºŒæ¡ä½†ä¸ä¸€å®šè¦æ»¡è¶³ç¬¬ä¸€æ¡ï¼ˆå°±æ˜¯è¯´ï¼ŒNP-Hard é—®é¢˜è¦æ¯” NPC é—®é¢˜çš„èŒƒå›´å¹¿ï¼ŒNP-Hard é—®é¢˜æ²¡æœ‰é™å®šå±äº NPï¼‰ï¼Œå³æ‰€æœ‰çš„ NP é—®é¢˜éƒ½èƒ½çº¦åŒ–åˆ°å®ƒï¼Œä½†æ˜¯å®ƒä¸ä¸€å®šæ˜¯ä¸€ä¸ª NP é—®é¢˜</li>
<li>P NP NPC NP-hard å…³ç³»
<img src="zk-everything/zk-learning-miles/static/DOolbStxQoXsHrxcSVHcWoGGnZd.png" alt="" /></li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="np-language-å®šä¹‰"><a class="header" href="#np-language-å®šä¹‰">NP Language å®šä¹‰:</a></h2>
<p><img src="zk-everything/zk-learning-miles/static/LiRWbV4U3oLqdFxn2cNchZyNnDf.png" alt="" /></p>
<p>ç»™å®šäºŒå…ƒå…³ç³»<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span></span></span></span></span>,è®°è¯­è¨€ L(R)ä¸ºé›†åˆ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆƒ</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">s</span><span class="mord">.</span><span class="mord mathnormal">t</span><span class="mord">.</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">}</span></span></span></span>.ç§°ä¸€ ä¸ªè¯­è¨€ L(R) æ˜¯ NP è¯­è¨€å½“å¦‚ä¸‹ä¸¤ä¸ªæ¡ä»¶æˆç«‹:</p>
<ul>
<li>|w|=poly(|x|)</li>
<li>ç»™å®šä»»æ„çš„ xã€w, å­˜åœ¨å¤šé¡¹å¼æ—¶é—´ç®—æ³•èƒ½å¤Ÿé«˜æ•ˆåˆ¤å®š R(x, w) =? 1</li>
</ul>
<p><strong>æ³¨:æ­¤æ—¶è¿˜ä¸é›¶çŸ¥è¯†æ— å…³</strong></p>
<p>è€ƒè™‘æœ‰æ²¡æœ‰å…¶ä»–æ–¹å¼,æ¯”å¦‚åœ¨å¤§ç´ æ•°åˆ†è§£ N=PQ ä¸­,ä¸æš´éœ² P æˆ– Q çš„å€¼è®©éªŒè¯è€…ç›¸ä¿¡è¿™äº›ç±»å‹çš„å®šç†</p>
<h1 id="zkp"><a class="header" href="#zkp">ZKP</a></h1>
<p>å¼•å…¥<strong>äº¤äº’</strong>ä¸<strong>éšæœº</strong></p>
<p><img src="zk-everything/zk-learning-miles/static/Uwm9bYzRxoVaNsxTiiQcDfTHnCh.png" alt="" /></p>
<p><strong>äº¤äº’</strong></p>
<p>éªŒè¯è€…ä¸å†è¢«åŠ¨åœ°é˜…è¯»è¯æ˜ï¼Œç›¸åéªŒè¯è€…ä¼šä¸è¯æ˜è€…è¿›è¡Œé‡è¦çš„äº¤äº’ã€‚</p>
<p>Prover ä¸ Verifier ä¹‹é—´è¿›è¡Œ<strong>å¤šé¡¹å¼æ­¥éª¤çš„****äº¤äº’</strong></p>
<p><strong>éšæœº</strong></p>
<p>Verifier ä¸å†æ˜¯ä¸€ä¸ª<strong>ç¡®å®šæ€§</strong>çš„ç®—æ³•</p>
<p>Verifier çš„é—®é¢˜é€šè¿‡æŠ›ç¡¬å¸çš„æ–¹å¼,å³é—®é¢˜åœ¨æŸç§ç¨‹åº¦ä¸Šæ˜¯ä¸å¯é¢„æµ‹çš„</p>
<p>éšæœºæ€§çš„æœ¬è´¨æ˜¯æ¥å—å°æ¦‚ç‡çš„é”™è¯¯,ä½†è¿™ç§æ¦‚ç‡åº”å½“è¢«é‡åŒ–,æ¯”å¦‚å°äºæŸä¸€ä¸ªå¯å¿½ç•¥å‡½æ•°.</p>
<h2 id="ä¾‹å­"><a class="header" href="#ä¾‹å­">ä¾‹å­</a></h2>
<p>å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/75936137">éƒ­å®‡è€å¸ˆçš„åˆè¯†ã€Œé›¶çŸ¥è¯†ã€ä¸ã€Œè¯æ˜ã€â€”â€” æ¢ç´¢é›¶çŸ¥è¯†è¯æ˜ç³»åˆ—ï¼ˆä¸€)</a>:åœ°å›¾ä¸‰æŸ“è‰²é—®é¢˜</p>
<h2 id="definitions-of-zeroknowledge-interactive-proof"><a class="header" href="#definitions-of-zeroknowledge-interactive-proof">Definitions of Zeroknowledge interactive Proof</a></h2>
<h3 id="1interactive-proof-system-for-a-language-l"><a class="header" href="#1interactive-proof-system-for-a-language-l">1.Interactive Proof system for a Language L</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/VxxlbSlIOoLHzOxKrefcig8znGd.png" alt="" /></p>
<p>å¯å¿½ç•¥å‡½æ•°:ä¸€ä¸ªæ¯”ä»»ä½•å¤šé¡¹å¼å‡½æ•°åˆ†ä¹‹ä¸€å¢é•¿éƒ½æ…¢çš„å‡½æ•°</p>
<h2 id="zero-knowledge"><a class="header" href="#zero-knowledge">Zero knowledge</a></h2>
<p>è°ˆè®ºé›¶çŸ¥è¯†å‰,éœ€è¦å¼•å…¥<strong>æ¨¡æ‹Ÿå™¨</strong>çš„æ¦‚å¿µ.</p>
<p>è¿™é‡Œå‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/76849956">éƒ­å®‡è€å¸ˆ--ä»ã€Œæ¨¡æ‹Ÿã€ç†è§£é›¶çŸ¥è¯†è¯æ˜ï¼šå¹³è¡Œå®‡å®™ä¸æ—¶å…‰å€’æµ---æ¢ç´¢é›¶çŸ¥è¯†è¯æ˜ç³»åˆ—ï¼ˆäºŒï¼‰</a>,è€Œä¸ä½¿ç”¨è¯¾ç¨‹çš„ä¾‹å­.</p>
<h3 id="æ¨¡æ‹Ÿå™¨simulator"><a class="header" href="#æ¨¡æ‹Ÿå™¨simulator">æ¨¡æ‹Ÿå™¨:Simulator</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/LVTwbBNxHoxvtJxdOLxcchK6nuD.png" alt="" /></p>
<p>ç®€å•æ¥è¯´</p>
<p>**ç°å®ä¸–ç•Œ/è§†å›¾:**æ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒ.è¿™ä¸ªç©ºé—´ä¸­çš„ç‚¹éƒ½æ˜¯è¯æ˜è€…å’ŒéªŒè¯è€…ä¹‹é—´äº¤äº’çš„æ‰€æœ‰å¯èƒ½å†å²åŠ ä¸ŠéªŒè¯è€…çš„ç¡¬å¸æŠ•æ·ã€‚</p>
<p><strong>ç†æƒ³ä¸–ç•Œ/è§†å›¾</strong>:ä¹Ÿæ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒ.<code>ä½†ç†æƒ³ä¸–ç•Œ/è§†å›¾éœ€è¦æ˜¯ç®—æ³•å¯æ„é€ çš„</code>,ç”± Simulator è´Ÿè´£æ„é€ .</p>
<p>ç†æƒ³ä¸–ç•Œ/è§†å›¾ä¸ç°å®ä¸–ç•Œ/è§†å›¾çš„<strong>å·®å¼‚</strong>åœ¨äº:ç†æƒ³ä¸–ç•Œ/è§†å›¾æ²¡æœ‰çŸ¥è¯†,ç°å®ä¸–ç•Œ/è§†å›¾æ‹¥æœ‰çŸ¥è¯†.</p>
<p>å¯¹äºä¸€ä¸ªå¤šé¡¹å¼æ—¶é—´çš„<strong>åŒºåˆ†å™¨</strong>ï¼Œå®ƒä»ä¸Šè¿°åˆ†å¸ƒä¸­é€‰æ‹©ä¸€ä¸ªæ ·æœ¬.å¦‚æœåŒºåˆ†å™¨ä¸èƒ½åŒºåˆ†è¿™ä¸ªæ ·æœ¬æ¥è‡ªå“ªä¸ªåˆ†å¸ƒ,å³æ¥è‡ªå“ªä¸ªä¸–ç•Œ/è§†å›¾,æˆ‘ä»¬è¯´è¿™æ ·çš„äº¤äº’åè®®æ˜¯é›¶çŸ¥è¯†çš„.</p>
<p><strong>å› ä¸ºç†æƒ³ä¸–ç•Œ/è§†å›¾ä¸­çš„ Zlice æ˜¯æ²¡æœ‰ä»»ä½•çŸ¥è¯†ï¼Œè€Œä¸”å¥¹å’ŒçœŸå®ä¸–ç•Œ/è§†å›¾ä¸­çš„ Alice ä¸å¯åŒºåˆ†.</strong></p>
<p>æˆ–è€…è¯´åŒºåˆ†æˆåŠŸçš„æ¦‚ç‡ä¸å¤§äº 0.5.é‚£ä¹ˆè¿™ä¸¤ä¸ªåˆ†å¸ƒåœ¨è®¡ç®—ä¸Šæ˜¯æ— æ³•åŒºåˆ†çš„ã€‚</p>
<blockquote>
<p>Simulator æ˜¯æ€ä¹ˆåšåˆ°è¿™ä¸€ç‚¹çš„?
Simulator èƒ½å¤Ÿè€Œæ˜¯å› ä¸ºå®ƒå¯ä»¥&quot;å€’åº&quot;ç”Ÿæˆ <code>è§†å›¾/ä¸–ç•Œ</code>,å³ Simulator å¯ä»¥å…ˆéšæœºé€‰æ‹©ä¸€ä¸ªæŒ‘æˆ˜ï¼Œç„¶ååŸºäºè¿™ä¸ªæŒ‘æˆ˜ç”Ÿæˆè¯æ˜çš„ä¸€éƒ¨åˆ†ã€‚è¿™æ ·ç”Ÿæˆçš„è§†å›¾åœ¨ç»Ÿè®¡ä¸Šä¸çœŸå®çš„è§†å›¾æ— æ³•åŒºåˆ†ã€‚</p>
</blockquote>
<h3 id="è®¡ç®—ä¸å¯åŒºåˆ†å®šä¹‰"><a class="header" href="#è®¡ç®—ä¸å¯åŒºåˆ†å®šä¹‰">è®¡ç®—ä¸å¯åŒºåˆ†å®šä¹‰:</a></h3>
<p>è¿™é‡Œç»™å‡ºæ›´ä¸€èˆ¬çš„è®¡ç®—ä¸å¯åŒºåˆ†å®šä¹‰</p>
<p><img src="zk-everything/zk-learning-miles/static/GppnbN47go1Nl6x70brcTUcFnNb.png" alt="" /></p>
<p>è¿™é‡Œçš„<strong>å®‰å…¨å‚æ•° k</strong> è¡¨ç¤º<strong>æŸä¸ªè®¡ç®—å›°éš¾é—®é¢˜çš„å›°éš¾é—®é¢˜å®ä¾‹è¾“å…¥å¤§å°</strong>ã€‚æ¯ä¸ªå›°éš¾é—®é¢˜éƒ½æœ‰ä¸€ä¸ªç•Œï¼Œå½“è¾“å…¥å¤§å°è¶…è¿‡è¿™ä¸ªç•Œæ—¶ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºè¿™ä¸ªé—®é¢˜æ˜¯è®¡ç®—å›°éš¾çš„ã€‚--å…·ä½“å¯å‚è€ƒ<a href="https://www.zhihu.com/question/48949270">åˆ˜å·ç„¶è€å¸ˆçš„å›ç­”</a></p>
<h3 id="zero-knowledge-define"><a class="header" href="#zero-knowledge-define">Zero Knowledge Define:</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/PpCJb35kiosU0xxTkaocbzOSn3b.png" alt="" /></p>
<h3 id="flavor-of-zero-knowledge"><a class="header" href="#flavor-of-zero-knowledge">Flavor of Zero Knowledge</a></h3>
<p>é›¶çŸ¥è¯†åˆ†ç±»</p>
<p><img src="zk-everything/zk-learning-miles/static/ZAYbbCVfgoGDSTxGy2gcmJ4sn0d.png" alt="" /></p>
<p>è¿™é‡Œä¸ç»™å‡ºå½¢å¼åŒ–å®šä¹‰,ç®€å•æ¥è¯´å³</p>
<p>ä¸¤ä¸ªéšæœºå˜é‡çš„åˆ†å¸ƒæ˜¯è®¡ç®—ä¸å¯åŒºåˆ†çš„ï¼Œä¹Ÿå°±æ˜¯ä»»ä½•å¤šé¡¹å¼æ—¶é—´çš„éšæœºæ•Œæ‰‹éƒ½æ— æ³•åŒºåˆ†è¿™ä¸¤ä¸ªåˆ†å¸ƒï¼Œå°±ç§°è¿™ä¸ªè¯æ˜ç³»ç»Ÿæ˜¯<strong>è®¡ç®—é›¶çŸ¥è¯† (Computationally Zero-Knowledge)</strong></p>
<p>ä¸¤ä¸ªéšæœºå˜é‡çš„åˆ†å¸ƒæ˜¯ç»Ÿè®¡ä¸å¯åŒºåˆ†çš„ï¼Œä¹Ÿå°±æ˜¯å®ƒä»¬çš„ç»Ÿè®¡è·ç¦» (Statistical Distance) å¯å¿½ç•¥ï¼Œå°±ç§°è¿™ä¸ªè¯æ˜ç³»ç»Ÿæ˜¯<strong>ç»Ÿè®¡é›¶çŸ¥è¯† (Statistically Zero-Knowledge)</strong> çš„ï¼›</p>
<p>å¦‚æœç»Ÿè®¡è·ç¦»å°±æ˜¯ 0ï¼Œåˆå«åš<strong>å®Œç¾é›¶çŸ¥è¯† (Perfect Zero-Knowledge)</strong> çš„ï¼›</p>
<h2 id="proof-of-knowledge"><a class="header" href="#proof-of-knowledge">Proof of Knowledge</a></h2>
<p>ä¸€ä¸ª Proof System æ˜¯ POK çš„,éœ€æ»¡è¶³ä»¥ä¸‹å®šä¹‰</p>
<p><img src="zk-everything/zk-learning-miles/static/HZpPbdlJXo03RbxeYfkcKCVzncf.png" alt="" /></p>
<p><code>éœ€è¦å¼•å…¥æŠ½å–å™¨,æŠ½å–å™¨å…·æœ‰æ—¶å…‰å›æº¯çš„èƒ½åŠ›.</code></p>
<p>æŠ½å–å™¨ åœ¨ç†æƒ³ä¸–ç•Œä¸­ï¼Œé€šè¿‡æ—¶é—´å€’æµçš„è¶…èƒ½åŠ›ï¼ŒæŠŠ Prover çš„çŸ¥è¯†å®Œæ•´åœ°æŠ½å–å‡ºæ¥</p>
<blockquote>
<p>æ³¨:æŠ½å–å™¨å¯ä»¥æå–å‡º witnessï¼Œä¸æ˜¯å› ä¸ºå®ƒå…·æœ‰<strong>æ— é™çš„è®¡ç®—èƒ½åŠ›</strong>,è€Œæ˜¯å› ä¸ºå®ƒèƒ½ä¸è¯æ˜è€…è¿›è¡Œå¤šæ¬¡äº¤äº’ã€‚åœ¨æ¯ä¸€è½®çš„äº¤äº’ä¸­ï¼ŒæŠ½å–å™¨éƒ½ä¼šé€‰æ‹©ä¸€ä¸ªæ–°çš„æŒ‘æˆ˜ï¼Œç„¶åè®°å½•ä¸‹ Prover çš„å›åº”ã€‚</p>
</blockquote>
<p>è¿™å°±ä¿è¯äº†ä¸€ä¸ªæ²¡æœ‰çŸ¥è¯†çš„ Prover æ˜¯æ— æ³•è®©æŠ½å–å™¨è¾¾æˆç›®æ ‡ï¼Œä»è€Œè¯æ˜äº†å¯é æ€§ã€‚</p>
<blockquote>
<p>æŠ½å–å™¨åªèƒ½ä»èƒ½æˆåŠŸå®Œæˆè¯æ˜çš„è¯æ˜è€…é‚£é‡Œæå–å‡ºï¼ˆwitnessï¼‰ã€‚å¦‚æœä¸€ä¸ª Prover ä¸èƒ½æˆåŠŸå®Œæˆè¯æ˜ï¼Œé‚£ä¹ˆä»–å¯èƒ½å¹¶ä¸çŸ¥é“ä¸€ä¸ªæœ‰æ•ˆçš„ witnessï¼Œå› æ­¤æŠ½å–å™¨æ— æ³•ä» Prover é‚£æå–å‡º witnessã€‚</p>
</blockquote>
<p>æŠŠè¿™æ ·ä¸€ä¸ªä¾é é‡‡ç”¨æŠ½å–å™¨æ¥è¯æ˜å¯é æ€§çš„è¯æ˜ç³»ç»Ÿè¢«ç§°ä¸º <strong>Proof of Knowledge</strong></p>
<blockquote>
<p>æ³¨:ä¸æ˜¯æ‰€æœ‰çš„å¯é æ€§éƒ½å¿…é¡»è¦æ±‚å­˜åœ¨æŠ½å–å™¨ç®—æ³•</p>
</blockquote>
<p>è¿™é‡Œå¯å‚è€ƒ<a href="https://github.com/sec-bit/learning-zkp/blob/master/zkp-intro/3/zkp-pok.md">éƒ­å®‡è€å¸ˆ:æ¢ç´¢é›¶çŸ¥è¯†è¯æ˜ç³»åˆ—ï¼ˆä¸‰ï¼‰:å¯»æ‰¾çŸ¥è¯†</a></p>
<h3 id="the-first-applicationidentity-theft"><a class="header" href="#the-first-applicationidentity-theft">The First Application:Identity Theft</a></h3>
<p>Alice æƒ³é€šè¿‡äº’è”ç½‘è¯æ˜å‘ Bob è¯æ˜å…¶å°±æ˜¯ Alice,æ¯”å¦‚ Bob æ˜¯äºšé©¬é€Šçš„.</p>
<p><img src="zk-everything/zk-learning-miles/static/IcAcbe01vobGqYxHvfwc54PBnAS.png" alt="" /></p>
<p>æ€æƒ³æ˜¯:å°†è¯æ˜ Alice çš„èº«ä»½è½¬ä¸º Alice è¯æ˜ä¸€é“ç‰¹å®šçš„éš¾é¢˜,è°çŸ¥é“è¿™ä¸ªéš¾é¢˜çš„ç­”æ¡ˆè°å°±æ˜¯ Alice.</p>
<h2 id="np-and-zero-knowledge-interactive-proof"><a class="header" href="#np-and-zero-knowledge-interactive-proof">NP and Zero Knowledge Interactive Proof</a></h2>
<p>ç»“è®º:å¦‚æœ<a href="https://en.wikipedia.org/wiki/One-way_function">å•å‘å‡½æ•°</a>(ç®€å•æ¥è¯´ is easy to compute on every input, but hard to <a href="https://en.wikipedia.org/wiki/Inverse_function">invert</a> given the <a href="https://en.wikipedia.org/wiki/Image_(mathematics)">image</a> of a random input,å…·ä½“å‚è€ƒ wiki)å­˜åœ¨,é‚£ä¹ˆæ¯ç§ NP è¯­è¨€éƒ½å…·æœ‰é›¶çŸ¥è¯†äº¤äº’è¯æ˜ã€‚</p>
<p><img src="zk-everything/zk-learning-miles/static/LZWVbdV7qo1QWwx46RYco5n5njP.png" alt="" /></p>
<p>å…ˆå¼•å…¥æ‰¿è¯ºçš„æ¦‚å¿µ</p>
<h3 id="æ‰¿è¯º"><a class="header" href="#æ‰¿è¯º">æ‰¿è¯º</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/BVg5b0KWEov22PxNVTqcxxu6nAe.png" alt="" /></p>
<h4 id="æ‰¿è¯ºæ€§è´¨"><a class="header" href="#æ‰¿è¯ºæ€§è´¨">æ‰¿è¯ºæ€§è´¨</a></h4>
<ul>
<li>
<p><strong>Hiding:æ„å‘³ç€æ•Œæ‰‹è·å¾—æ‰¿è¯º c(m)åæ— æ³•è·å¾— m çš„å€¼</strong></p>
<ul>
<li>computational hiding:å¯¹äºä»»æ„çš„ PPT æ•Œæ‰‹ A.æœ‰
<img src="zk-everything/zk-learning-miles/static/UkWvbRHxaopvXbxwiE0cNmulnhH.png" alt="" /></li>
<li>Perfect hiding:å°† A çš„è®¡ç®—èƒ½åŠ›ä¿®æ”¹ä¸ºæ— ç©·ç®—åŠ›,â€œâ‰¤ negl(Î»)â€æ›¿æ¢ä¸º 0</li>
</ul>
</li>
<li>
<p><strong>Binding:æ˜¯æŒ‡ä¸€ä¸ªæ‰¿è¯º c(m) åœ¨ Open é˜¶æ®µæ‰“å¼€åªä¼šä¸ºä¸€ä¸ªå€¼ m è€Œä¸ä¼šå¾—åˆ° mâ€˜.</strong></p>
<ul>
<li>computational  Binding
<img src="zk-everything/zk-learning-miles/static/MKyGbu5U9ovgmNxUpvtclaM8nZb.png" alt="" /></li>
<li>perfect binding::å°† A çš„è®¡ç®—èƒ½åŠ›ä¿®æ”¹ä¸ºæ— ç©·ç®—åŠ›,â€œâ‰¤ negl(Î»)â€æ›¿æ¢ä¸º 0</li>
</ul>
</li>
</ul>
<h3 id="ä¸¾ä¾‹åœ°å›¾ä¸‰æŸ“è‰²é—®é¢˜"><a class="header" href="#ä¸¾ä¾‹åœ°å›¾ä¸‰æŸ“è‰²é—®é¢˜">ä¸¾ä¾‹:åœ°å›¾ä¸‰æŸ“è‰²é—®é¢˜</a></h3>
<p>åœ°å›¾çš„ä¸‰æŸ“è‰²é—®é¢˜æ˜¯ä¸€ä¸ª NP å®Œå…¨é—®é¢˜,å³ NPC é—®é¢˜.</p>
<p><strong>ç”ŸåŠ¨æ˜“æ‡‚çš„ä¾‹å­</strong>ä»ç„¶å¯ä»¥å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/75936137">éƒ­å®‡è€å¸ˆçš„åˆè¯†ã€Œé›¶çŸ¥è¯†ã€ä¸ã€Œè¯æ˜ã€â€”â€” æ¢ç´¢é›¶çŸ¥è¯†è¯æ˜ç³»åˆ—ï¼ˆä¸€)</a>:</p>
<p>è¿‡ç¨‹æ€»ç»“å¦‚ä¸‹:</p>
<p><img src="zk-everything/zk-learning-miles/static/JP4BbuxDGo2f2PxIKvocE8cVnnf.png" alt="" /></p>
<p>æ€§è´¨å¦‚ä¸‹</p>
<p><img src="zk-everything/zk-learning-miles/static/EylBbTWMcox2VNxfg1hccF1Nngg.png" alt="" /></p>
<p><strong>å®Œæ•´æ€§</strong>:ä¸€ä¸ªè¯šå®çš„ P æ€»æ˜¯å¯ä»¥è¯´æœéªŒè¯è€…æ¥å—ã€‚å› ä¸ºæ— è®º Vr éœ€è¦å“ªæ¡è¾¹ï¼ŒP æ€»æ˜¯å¯ä»¥æ­£ç¡®åœ°ç»™å‡ºç¬¦åˆè§„åˆ™çš„ä¸Šè‰²æ–¹æ¡ˆã€‚ æ€»æ˜¯æ¥å—</p>
<p>**å¥å…¨æ€§:**æ— è®º æ¶æ„çš„ P *åšä»€ä¹ˆï¼Œéƒ½ä¼šæœ‰ä¸€æ¡è¾¹ç¼˜çš„é¢œè‰²ä¸æ­£ç¡®ã€‚å½“ V é€‰æ‹©éšæœºè¾¹æ—¶ï¼Œå®é™…ä¸Šé€‰ä¸­é”™è¯¯çš„æ¦‚ç‡æ˜¯ 1/E,æˆåŠŸéª—è¿‡ P çš„æ¦‚ç‡æ˜¯(1-1/E).éšç€é‡å¤çš„æ¬¡æ•°å¢å¤š,æˆåŠŸçš„æ¦‚ç‡å˜ä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord">1/</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span></span></span></span>,å‘ˆæŒ‡æ•°çº§é™ä½ã€‚æ¦‚ç‡æ¥å—</p>
<p><strong>é›¶çŸ¥è¯†æ€§:<strong>å¾ˆå®¹æ˜“èƒ½å¤Ÿçœ‹å‡ºæ¥,æ•´ä¸ªè¿‡ç¨‹éªŒè¯è€…å¾—åˆ°äº†å¾ˆå¤šä¿¡æ¯,ä½†æ˜¯è¿™äº›ä¿¡æ¯å¹¶ä¸ä¼šå¸®åŠ©éªŒè¯è€…è·å–åœ°å›¾ä¸‰æŸ“è‰²é—®é¢˜ç­”æ¡ˆçš„</strong>çŸ¥è¯†</strong>.ä½†å½¢å¼åŒ–è¯æ˜å¾ˆéº»çƒ¦ã€‚</p>
<blockquote>
<p><code>æ¨¡æ‹Ÿå™¨</code> ä¸çŸ¥é“æŸ“è‰²ç­”æ¡ˆ,å®ƒå¯ä»¥æå‰ç¡®å®šè¯šå® V ä¼šè¯¢é—®çš„è¾¹ Eâ€˜
<code>æ¨¡æ‹Ÿå™¨</code> å¯ä»¥å°†æ•´ä¸ªå›¾éƒ½æ¶‚æˆä¸€æ ·çš„é¢œè‰²,é™¤äº† Eâ€™çš„ä¸¤ç«¯ a,b ä¼šè¢«æ¶‚æˆä¸¤ç§ä¸åŒçš„é¢œè‰².
å¯¹äº<strong>æ¨¡æ‹Ÿä¸–ç•Œ/è§†å›¾</strong>:å®ƒä¼šè¾“å‡ºä¸€å †æ‰¿è¯º,ç”±äºæ‰¿è¯ºçš„æ€§è´¨,è¿™äº›æ‰¿è¯ºä¸ä¼šç»™<strong>è®¡ç®—èƒ½åŠ›æœ‰é™</strong>çš„ <code>åŒºåˆ†å™¨</code> æä¾›ä»»ä½•ä¿¡æ¯.ç„¶å <code>åŒºåˆ†å™¨</code> éšæœºé€‰æ‹©ä¸€æ¡è¾¹ E,ç”±äºæ¨¡æ‹Ÿå™¨èƒ½å¤Ÿæå‰çŸ¥é“åŒºåˆ†å™¨éšæœºé€‰æ‹©å“ªæ¡è¾¹.æ‰€ä»¥ E=Eâ€˜. æ‰“å¼€ E/Eâ€˜çš„æ‰¿è¯ºä»¥å,V ä¼šå‘ç° a,b æ˜¯ä¸åŒçš„é¢œè‰².<code>æ¨¡æ‹Ÿå™¨</code> æˆåŠŸå®Œæˆè¯¥è½®æŒ‘æˆ˜
ä½†å®é™…ä¸Š,<code>æ¨¡æ‹Ÿå™¨</code> å¹¶ä¸çŸ¥é“æŸ“è‰²ç­”æ¡ˆ,ä½†æ˜¯ V æ¯æ¬¡æ‰“å¼€ E çš„æ‰¿è¯º,å¯¹åº”çš„ a,b ç«¯ç‚¹é¢œè‰²åˆç¡®å®æ˜¯ä¸ä¸€æ ·çš„.æ‰€ä»¥<strong>çœŸå®ä¸–ç•Œ/è§†å›¾</strong>ä¸<strong>æ¨¡æ‹Ÿä¸–ç•Œ/è§†å›¾</strong>åœ¨è®¡ç®—ä¸Šæ˜¯æ— æ³•åŒºåˆ†çš„.</p>
</blockquote>
<p><img src="zk-everything/zk-learning-miles/static/VJCEbdWdZomUCNxfQRDcofisnLg.png" alt="" /></p>
<h2 id="zk-çš„åº”ç”¨"><a class="header" href="#zk-çš„åº”ç”¨">zk çš„åº”ç”¨</a></h2>
<p>æ³•å¾‹ éšç§ ç”Ÿç‰© DNA ç”šè‡³æ˜¯æ ¸è£å†›</p>
<p><img src="zk-everything/zk-learning-miles/static/Wm6Ub4QnSoXnGRxu05hc3Wy2nOc.png" alt="" /></p>
<h1 id="å¤æ‚æ€§ç†è®ºcomplexity-theory"><a class="header" href="#å¤æ‚æ€§ç†è®ºcomplexity-theory">å¤æ‚æ€§ç†è®º(Complexity Theory)</a></h1>
<h2 id="interactive-proof"><a class="header" href="#interactive-proof">Interactive Proof</a></h2>
<p><img src="zk-everything/zk-learning-miles/static/Qk9xbvVEmoXEWOxIQ10cd66xnbf.png" alt="" /></p>
<ul>
<li>
<p>BPP:å¤æ‚ç±» BPP åœ¨å¤šé¡¹å¼æ—¶é—´å†…å¯¹æ¦‚ç‡å›¾çµæœºè§£å‡ºçš„é—®é¢˜çš„é›†åˆ, å¹¶ä¸”å¯¹æ‰€æœ‰çš„è¾“å…¥ï¼Œè¾“å‡ºç»“æœæœ‰é”™è¯¯çš„æ¦‚ç‡åœ¨ 1/3 ä¹‹å†…
<img src="zk-everything/zk-learning-miles/static/YOmnbQfzxoJgGNxm9LDcmz3kngc.png" alt="" /></p>
</li>
<li>
<p>IP:äº¤äº’å¼è¯æ˜</p>
<ul>
<li>æ˜¯ä¸€ç§åŒ…å«äº†ä¸¤ä¸ªå‚ä¸è€…ï¼ˆè¯æ˜è€…å’ŒéªŒè¯è€…ï¼‰çš„éªŒè¯ç³»ç»Ÿï¼Œå…¶ä¸­è¯æ˜è€…è¯•å›¾é€šè¿‡å¤šè½®å¯¹è¯æ¥è¯´æœéªŒè¯è€…æŸä¸ªå¤æ‚é™ˆè¿°çš„çœŸå®æ€§ã€‚</li>
<li>å®šä¹‰
<ul>
<li>è®¾âŸ¨A, BâŸ© ä¸ºä¸€å¯¹äº¤äº’å¼å›¾çµæœº. è®° âŸ¨A(y), B(z)âŸ©(x) ä¸ºåœ¨ Aã€B çš„éšæœºè¾“å…¥å¸¦å‡åŒ€ç‹¬ç«‹é€‰å–, å…¬å…±è¾“å…¥ä¸º x, A çš„è¾…åŠ©è¾“å…¥ä¸º y, B çš„è¾…åŠ©è¾“å…¥ä¸º z æ—¶, å›¾çµæœº B ä¸å›¾çµæœº A äº¤äº’åè¾“å‡ºçš„éšæœºå˜é‡.</li>
<li>ç»™å®šäºŒå…ƒå…³ç³» R åŠå…¶å¯¹åº”è¯­è¨€ L(R), åˆ™é’ˆå¯¹è¯¥è¯­è¨€çš„ IPS(interactive proof systems)æ˜¯ç”¨ç¬¦å·âŸ¨P(y),V(z)âŸ©è¡¨ç¤º .å…¶ä¸­,å›¾çµæœº P ä¸ P*å¯ä»¥æ˜¯æ— ç©·ç®—åŠ› V æ˜¯ PPT çš„.åˆ™ IPS æ»¡è¶³ä¸¤ä¸ªæ€§è´¨
<ul>
<li>å®Œå¤‡æ€§ (completeness): å¯¹äºä»»æ„çš„ x âˆˆ L(R), å­˜åœ¨ y, ä½¿å¾—å¯¹äºä»»æ„çš„ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">[âŸ¨</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)âŸ©</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span>. å®Œç¾å®Œå¤‡æ€§ (perfect completeness) æ˜¯æŒ‡ä¸Šè¿°æ¦‚ç‡ç­‰ äº 1.</li>
<li>å¯é æ€§ (soundness): å¯¹äºä»»æ„çš„ x âˆˆ/ L(R), ä»»æ„çš„æ¶æ„è¯æ˜è€… P*, ä»»æ„çš„<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">}</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">æœ‰</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">[âŸ¨</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6887em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mbin mtight">âˆ—</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)âŸ©</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord mathnormal">x</span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span>.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>IP ä¸ NP çš„å…³ç³»</p>
<ul>
<li>IP ç±»å¯ä»¥çœ‹ä½œæ˜¯ç»å…¸å¤æ‚ç±» NP çš„<strong>äº¤äº’å¼****éšæœº</strong>å˜ä½“,æ‰€æœ‰çš„ NP é—®é¢˜ä¹Ÿéƒ½å¯ä»¥åœ¨ IP ä¸­æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼Œå› æ­¤ IP æ˜¯ NP çš„è¶…é›†ã€‚</li>
<li>åœ¨ IP ç³»ç»Ÿä¸­ï¼ŒProver å’Œ Verifier ä¹‹é—´æœ‰å¤šè½®çš„äº¤äº’ï¼Œè€Œåœ¨ NP é—®é¢˜ä¸­ï¼Œè¯æ˜ï¼ˆæˆ–è§£å†³æ–¹æ¡ˆï¼‰ä¸€æ—¦ç”Ÿæˆï¼Œå°±å¯ä»¥ç‹¬ç«‹åœ°è¢«éªŒè¯ï¼Œä¸éœ€è¦è¿›ä¸€æ­¥çš„äº¤äº’ã€‚å¦‚æœä¸å…è®¸äº¤äº’ï¼Œä½†å…è®¸éªŒè¯è€…æŠ›æ·éšæœºç¡¬å¸å¹¶ä»¥å°æ¦‚ç‡æ¥å—é”™è¯¯çš„è¯æ˜ï¼Œé‚£ä¹ˆå¾—åˆ°çš„å¤æ‚æ€§ç±»è¢«ç§°ä¸º <a href="https://www.cs.cornell.edu/courses/cs6810/2009sp/scribe/lecture17.pdf">Merlin-Arthur(MA)</a></li>
</ul>
<blockquote>
<p>è¿™å†æ¬¡è¯´æ˜äº† IP å¼ºå¤§çš„å…³é”®åœ¨äº<strong>éšæœºæ€§</strong>å’Œ<strong>äº¤äº’</strong>çš„ç»“åˆ</p>
</blockquote>
<ul>
<li><strong>Prover</strong> åœ¨ IP ä¸­å¹¶æ²¡æœ‰æ—¶é—´å¤æ‚åº¦çš„é™åˆ¶ï¼Œå¯ä»¥æ˜¯å…¨çŸ¥çš„ï¼Œè¿™æ„å‘³ç€å®ƒå¯èƒ½è¿è¡Œåœ¨è¶…å‡ºæ¦‚ç‡å¤šé¡¹å¼æ—¶é—´çš„æ—¶é—´å¤æ‚åº¦ã€‚å®ƒèƒ½å¤Ÿè¿›è¡Œ<strong>ä»»æ„å¤æ‚çš„è®¡ç®—</strong>æ¥æ„å»ºå®ƒçš„è¯æ˜ï¼Œåªè¦è¿™ä¸ªè¯æ˜èƒ½å¤Ÿåœ¨å¤šé¡¹å¼æ—¶é—´å†…è¢«éªŒè¯</li>
<li><strong>Verifier</strong> åœ¨ IP ä¸­å¿…é¡»è¿è¡Œåœ¨<strong>æ¦‚ç‡å¤šé¡¹å¼æ—¶é—´</strong>ï¼ˆprobabilistic polynomial timeï¼‰å†…ï¼Œå³å¿…é¡»åœ¨å¤šé¡¹å¼æ—¶é—´å†…å®Œæˆè®¡ç®—</li>
</ul>
</li>
</ul>
<h2 id="private-coins-model"><a class="header" href="#private-coins-model">Private Coins Model</a></h2>
<h2 id="interactive-proofs-with-public-coins-model"><a class="header" href="#interactive-proofs-with-public-coins-model">Interactive Proofs with Public Coins Model</a></h2>
<p>â€œWe can formulate a decision problem under uncertainty as a new sort of game, in which one opponent is â€˜disinterestedâ€™ and plays at random, while the other tries to pick a strategy which maximizes the probability of winning â€“ a â€˜game against Natureâ€™.â€ <strong>---Christos Papadimitriou</strong>. Games Against Nature. FOCS 1983.</p>
<p><img src="zk-everything/zk-learning-miles/static/RH2hbHTJJoQzPIxPrPycutMBngc.png" alt="" /></p>
<p><img src="zk-everything/zk-learning-miles/static/UOZsbegjRo1D2TxzlKjce8vinoe.png" alt="" /></p>
<p>å¦‚æœä¸å…è®¸äº¤äº’ï¼Œä½†å…è®¸éªŒè¯è€…æŠ›æ·éšæœºç¡¬å¸å¹¶ä»¥å°æ¦‚ç‡æ¥å—é”™è¯¯çš„è¯æ˜ï¼Œé‚£ä¹ˆå¾—åˆ°çš„å¤æ‚æ€§ç±»è¢«ç§°ä¸º <a href="https://www.cs.cornell.edu/courses/cs6810/2009sp/scribe/lecture17.pdf">Merlin-Arthur(MA)</a></p>
<h3 id="am-ä¸-ma"><a class="header" href="#am-ä¸-ma">AM ä¸ MA</a></h3>
<ul>
<li>Arthur-Merlin Protocol</li>
</ul>
<p>åè®®ä¸­çš„ä¸¤ä¸ªå‚ä¸è€…åˆ†åˆ«ç§°ä¸º Arthur å’Œ Merlinï¼ŒåŸºæœ¬å‡è®¾æ˜¯ Arthur æ˜¯é…å¤‡éšæœºæ•°ç”Ÿæˆè®¾å¤‡çš„æ ‡å‡†è®¡ç®—æœºï¼ˆæˆ–éªŒè¯å™¨ï¼‰ï¼Œè€Œ Merlin å®é™…ä¸Šæ˜¯å…·æœ‰æ— é™è®¡ç®—èƒ½åŠ›çš„é¢„è¨€æœºï¼ˆä¹Ÿç§°ä¸ºè¯æ˜è€…ï¼‰ã€‚ä¸è¿‡ï¼ŒMerlin ä¸ä¸€å®šæ˜¯è¯šå®çš„ï¼Œæ‰€ä»¥äºšç‘Ÿå¿…é¡»åˆ†æ Merlin åœ¨å›ç­”äºšç‘Ÿçš„è¯¢é—®æ—¶æä¾›çš„ä¿¡æ¯ï¼Œå¹¶è‡ªè¡Œå†³å®šé—®é¢˜ã€‚å¦‚æœåœ¨è¿™ä¸ªåè®®ä¸­ï¼Œæ¯å½“ç­”æ¡ˆæ˜¯â€œæ˜¯â€æ—¶ï¼ŒMerlin æœ‰ä¸€ç³»åˆ—çš„å›åº”ï¼Œä¼šå¯¼è‡´ Arthur åœ¨è‡³å°‘ 2/3 çš„æƒ…å†µä¸‹æ¥å—ï¼Œé‚£ä¹ˆé—®é¢˜è¢«è®¤ä¸ºæ˜¯å¯ä»¥é€šè¿‡è¿™ä¸ªåè®®è§£å†³çš„ã€‚è€Œå¦‚æœç­”æ¡ˆæ˜¯â€œå¦â€ï¼Œé‚£ä¹ˆ Arthur æ°¸è¿œä¸ä¼šåœ¨è¶…è¿‡ 1/3 çš„æƒ…å†µä¸‹æ¥å—ã€‚</p>
<ul>
<li>MA</li>
</ul>
<p>1-message protocol</p>
<p>Merlin å‘ Arthur å‘é€æ¶ˆæ¯ï¼Œç„¶å Arthur é€šè¿‡è¿è¡Œæ¦‚ç‡å¤šé¡¹å¼æ—¶é—´è®¡ç®—æ¥å†³å®šæ˜¯å¦æ¥å—ã€‚ï¼ˆè¿™ç±»ä¼¼äºåŸºäºéªŒè¯å™¨çš„ NP å®šä¹‰ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ Arthur åœ¨è¿™é‡Œè¢«å…è®¸ä½¿ç”¨éšæœºæ€§ã€‚Merlin åœ¨è¿™ä¸ªåè®®ä¸­æ— æ³•è®¿é—® Arthur çš„ç¡¬å¸æŠ›æ·ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªå•æ¶ˆæ¯åè®®ï¼ŒArthur åªæœ‰åœ¨æ”¶åˆ° Merlin çš„ä¿¡æ¯åæ‰ä¼šæŠ›ç¡¬å¸ã€‚</p>
<p>ä»å½¢å¼ä¸Šè®²å¦‚æœå­˜åœ¨å¤šé¡¹å¼æ—¶é—´ç¡®å®šæ€§å›¾çµæœº M å’Œå¤šé¡¹å¼ pï¼Œq ä½¿å¾—å¯¹äºé•¿åº¦ n = |x| çš„æ¯ä¸ªè¾“å…¥å­—ç¬¦ä¸² xï¼Œ</p>
<p><img src="zk-everything/zk-learning-miles/static/IPYxbgdRRoTq7wxdBNyco2yjnJF.png" alt="" /></p>
<ul>
<li>AM</li>
</ul>
<p>å¤æ‚åº¦ç±» AMï¼ˆæˆ– AM[<strong>2</strong>]æˆ– AM[<strong>K</strong>]ï¼‰å¯ä»¥é€šè¿‡å…·æœ‰<strong>ä¸¤æ¡/K æ¡</strong>æ¶ˆæ¯çš„ Arthur-Merlin åè®®åœ¨å¤šé¡¹å¼æ—¶é—´å†…å†³å®šã€‚åªæœ‰ <strong>1/2/K ä¸ªæŸ¥è¯¢/å“åº”å¯¹</strong>ï¼šArthur éšæœºæŠ›å‡ºä¸€äº›ç¡¬å¸å¹¶å°†ä»–æ‰€æœ‰æŠ›ç¡¬å¸çš„ç»“æœå‘é€ç»™ Merlinï¼ŒMerlin ç”¨æ‰€è°“çš„è¯æ˜åšå‡ºå›åº”ï¼ŒArthur ç¡®å®šæ€§åœ°éªŒè¯è¯æ˜ã€‚</p>
<p>åœ¨è¿™ä¸ªåè®®ä¸­ï¼ŒArthur åªè¢«å…è®¸å°†æŠ›ç¡¬å¸çš„ç»“æœå‘é€ç»™ Merlinï¼Œåœ¨æœ€åé˜¶æ®µï¼ŒArthur å¿…é¡»åªä½¿ç”¨ä»–ä¹‹å‰ç”Ÿæˆçš„éšæœºæŠ›ç¡¬å¸å’Œ Merlin çš„ä¿¡æ¯æ¥å†³å®šæ˜¯æ¥å—è¿˜æ˜¯æ‹’ç»</p>
<p>ä»å½¢å¼ä¸Šè®²å¦‚æœå­˜åœ¨å¤šé¡¹å¼æ—¶é—´ç¡®å®šæ€§å›¾çµæœº M å’Œå¤šé¡¹å¼ pï¼Œq ä½¿å¾—å¯¹äºé•¿åº¦ n = |x| çš„æ¯ä¸ªè¾“å…¥å­—ç¬¦ä¸² x</p>
<p><img src="zk-everything/zk-learning-miles/static/ZQ98bITzoopLZJx90fwcz3yCnee.png" alt="" /></p>
<p>ç®€å•æ€»ç»“:</p>
<blockquote>
<p>æ‘˜è‡ªå•Šå’ªå’ªå°ç†Š---
MA å°±æ˜¯æœ€ç®€å•çš„ M ç»™ A å‘å®Œå°±ç»“æŸäº†ï¼ŒA è‡ªå·±å†³å®šæ˜¯å¦æ¥å—ï¼Œå°±æ˜¯éäº¤äº’å¼çš„ï¼ˆå’Œ NP çš„åŒºåˆ«å°±æ˜¯ Verifier å¯ä»¥ç”¨éšæœºæ•°ï¼‰ã€‚
AM å°±æ˜¯ A å…ˆç»™ M å‘ä¸€ä¸ªéšæœºæ•°ï¼Œç„¶å M å†ç»™ A å›å¤ï¼Œç„¶å A å†å†³å®šæ˜¯å¦æ¥å—ï¼Œå°±æ˜¯äº¤äº’å¼çš„</p>
</blockquote>
<h2 id="ip--pspace-å®šç†"><a class="header" href="#ip--pspace-å®šç†">IP = PSPACE å®šç†</a></h2>
<p>ä»»ä½•å¯ä»¥åœ¨å¤šé¡¹å¼<strong>ç©ºé—´</strong>å†…è§£å†³çš„é—®é¢˜éƒ½å¯ä»¥é€šè¿‡äº¤äº’å¼è¯æ˜çš„æ–¹å¼æ¥è§£å†³ã€‚</p>
<p>å…·ä½“å¯å‚ç…§<a href="https://en.wikipedia.org/wiki/IP_(complexity)">è¿™</a>,è¿™ä¸ªå‡è®¾çš„é‡è¦æ€§åœ¨äºå®ƒå°†ä¸¤ä¸ªçœ‹ä¼¼ä¸åŒçš„è®¡ç®—æ¨¡å‹è”ç³»åœ¨äº†ä¸€èµ·.</p>
<p>å…¶ä¸­ PSPACE ç®€å•ç†è§£ä¸ºæ˜¯æ¯” NP è¦å¤§å¾—å¤šçš„è¯­è¨€ç±»</p>
<p><img src="zk-everything/zk-learning-miles/static/NkWsbE6kGoRQ4ixzhY4cAiFLnvh.png" alt="" /></p>
<h2 id="mip"><a class="header" href="#mip">MIP</a></h2>
<p>MIP ç±»ä¼¼äº IPï¼Œåªæ˜¯æœ‰å¤šä¸ªè¯æ˜è€…ï¼Œå¹¶ä¸”å‡è®¾è¿™äº›è¯æ˜è€…ä¸ä¼šç›¸äº’å…±äº«å…³äºä»–ä»¬ä»éªŒè¯è€…é‚£é‡Œæ”¶åˆ°ä»€ä¹ˆæŒ‘æˆ˜çš„ä¿¡æ¯ã€‚MIP çš„ä¸€ä¸ªæ¯”å–»æ˜¯åœ¨å®¡è®¯çŠ¯ç½ªå«Œç–‘äººä¹‹å‰å°†å¤šä¸ªçŠ¯ç½ªå«Œç–‘äººæ”¾åœ¨ä¸åŒçš„æˆ¿é—´é‡Œï¼Œçœ‹çœ‹ä»–ä»¬æ˜¯å¦èƒ½ä¿æŒä»–ä»¬çš„æ•…äº‹ç›´æˆªäº†å½“ã€‚å¯¹ MIP çš„ç ”ç©¶è¡¨æ˜ï¼Œå¦‚æœä¸€ä¸ªäººå°†è¯æ˜è€…é”åœ¨ä¸åŒçš„æˆ¿é—´é‡Œï¼Œç„¶ååˆ†åˆ«å®¡é—®ä»–ä»¬ï¼Œä»–ä»¬å¯ä»¥è¯´æœå®¡é—®è€…åšå‡ºæ¯”ä¸€èµ·æ¥å—å®¡é—®è¦å¤æ‚å¾—å¤šçš„é™ˆè¿°ã€‚</p>
<p><img src="zk-everything/zk-learning-miles/static/QWLobspUboiQUJxr1NpcW9SsnTh.jpg" alt="" /></p>
<h2 id="non-interactive-proof"><a class="header" href="#non-interactive-proof">Non Interactive Proof</a></h2>
<p><img src="zk-everything/zk-learning-miles/static/AZSMbGIfiosLTXxnP8lcucU1noc.png" alt="" /></p>
<p>é€šè¿‡ <a href="https://en.wikipedia.org/wiki/Fiat%E2%80%93Shamir_heuristic">Fiat-Shamir</a> è½¬æ¢å°† Interactive Proof å˜ä¸º Non-Interactive Proof</p>
<p><strong>æ³¨:</strong></p>
<p><img src="zk-everything/zk-learning-miles/static/S2Mfbj7vmoEXU0xXdOQclIqLntq.png" alt="" /></p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="lecture2introduction-to-modern-snarks"><a class="header" href="#lecture2introduction-to-modern-snarks">Lecture2:Introduction to Modern SNARKs</a></h1>
<h1 id="overview-about-zk-snark"><a class="header" href="#overview-about-zk-snark">Overview about zk-SNARK</a></h1>
<p><img src="zk-everything/zk-learning-miles/static/THO2bOLrToy8krx9h9XccDJcnro.png" alt="" /></p>
<h2 id="why-commercial-so-much"><a class="header" href="#why-commercial-so-much">Why commercial so much</a></h2>
<p>å†å²å¯è¿½æº¯è‡³ 1991 å¹´çš„ä¸€ç¯‡è®ºæ–‡[Babai-Fortnow-Levin-Szegedy'91]</p>
<h2 id="zk-snark-application"><a class="header" href="#zk-snark-application">Zk-snark application</a></h2>
<ul>
<li>
<p>blockchian</p>
<ul>
<li>å¤–åŒ…è®¡ç®—ï¼š
<ul>
<li>æ‰©å®¹(zkRollup)ï¼šç¦»çº¿æœåŠ¡å¤„ç†äº¤æ˜“æ‰¹æ¬¡ï¼ŒL1 é“¾éªŒè¯ä¸€ä¸ªç®€çŸ­çš„è¯æ˜æ¥è¯æ˜è¯¥æ‰¹æ¬¡å†…çš„äº¤æ˜“éƒ½æ˜¯æœ‰æ•ˆçš„,è€Œæ— éœ€åˆ†åˆ«éªŒè¯æ¯ç¬”äº¤æ˜“</li>
<li>åŒºå—é“¾æ¡¥æ¥ï¼ˆzkBridgeï¼‰ï¼šå°†èµ„äº§ä»æºé“¾è½¬ç§»åˆ°ç›®æ ‡é“¾.æºé“¾çš„å…±è¯†åè®®åŒæ„é”å®šæŸäº›èµ„äº§ï¼Œä»¥ä¾¿åœ¨å¦ä¸€ä¸ªé“¾ä¸­ä½¿ç”¨ã€‚é€šè¿‡éªŒè¯ zksnark ç”Ÿæˆå…³äºæºé“¾åˆ°ç›®æ ‡é“¾çš„å…±è¯†çŠ¶æ€çš„ç®€çŸ­è¯æ˜,è€Œæ— éœ€éªŒè¯æºé“¾å…±è¯†çš„æ•´ä¸ªè¿‡ç¨‹.
åœ¨ä¸Šè¿°ä¸¤ä¸ªä¾‹å­ä¸­,éäº¤äº’å¼è¯æ˜éå¸¸é‡è¦ã€‚å› ä¸ºè¯æ˜éœ€è¦ç”±å¤§é‡åŒºå—é“¾éªŒè¯è€…è¿›è¡ŒéªŒè¯</li>
</ul>
</li>
<li>éšç§æ€§:<strong>éœ€è¦é›¶çŸ¥è¯†æ€§</strong>
<ul>
<li>å…¬å…±åŒºå—é“¾ä¸Šçš„éšç§äº¤æ˜“ï¼šZKP åœ¨ä¸æ³„æ¼äº¤æ˜“ä¿¡æ¯çš„æƒ…å†µä¸‹è¯æ˜ä¸€ä¸ªç§äººäº¤æ˜“æ˜¯æœ‰æ•ˆçš„ã€‚ä¾‹å­ï¼šTornadoCashã€ZCashã€Ironfishã€Aleoã€‚</li>
<li>åˆè§„æ€§ï¼šè¯æ˜ä¸€ä¸ªç§äººäº¤æ˜“ç¬¦åˆé“¶è¡Œæ³•è§„ï¼ˆä¾‹å¦‚ Espressoï¼‰
è¯æ˜ä¸€ä¸ªäº¤æ˜“æ‰€å…·æœ‰å¿ä»˜èƒ½åŠ›è€Œæ— éœ€æ³„æ¼æ‹¥æœ‰èµ„äº§æƒ…å†µï¼ˆä¾‹å¦‚ Raposaï¼‰ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Non-blockchain:æ‰“å‡»è™šå‡ä¿¡æ¯, <a href="https://arxiv.org/abs/2211.04775">[Kang-Hashimoto-Stoica-Sun'22]</a></p>
</li>
</ul>
<p>å½“é˜…è¯»æŠ¥çº¸æ–‡ç« æ—¶,æ–‡ç« é€šå¸¸ä¼šæ’æœ‰å›¾ç‰‡,ä½†å›¾ç‰‡å¯èƒ½ä¸æ–‡ç« å†…å®¹å®Œå…¨æ— å…³ç”šè‡³å¸¦æœ‰è¯¯å¯¼æ€§è´¨.</p>
<p>è§£å†³æ–¹æ¡ˆæ˜¯ <strong>C2PA æ ‡å‡†</strong>,å…¶ä»£è¡¨å†…å®¹æ¥æºå’ŒçœŸå®æ€§,ç›®æ ‡æ˜¯ä¸ºæŠ¥çº¸æ–‡ç« ä¸­çš„å›¾åƒæä¾›çœŸå®çš„å‡ºå¤„ã€‚</p>
<p>å·¥ä½œåŸç†:åœ¨æ¯å°ç›¸æœºä¸­åµŒå…¥ä¸€ä¸ªç”±åˆ¶é€ å•†åµŒå…¥çš„å¯†é’¥ã€‚è¯¥å¯†é’¥æ— æ³•ä»ç›¸æœºä¸­æå–å‡º</p>
<p>æ¯æ¬¡ç¬¦åˆ C2PA æ ‡å‡†çš„ç›¸æœºæ‹æ‘„ç…§ç‰‡æ—¶ï¼Œä¼šå¯¹ç…§ç‰‡ä»¥åŠä¸è¯¥ç…§ç‰‡å…³è”çš„æ‰€æœ‰å…ƒæ•°æ®è¿›è¡Œç­¾å,æ¯”å¦‚æ‹æ‘„ç…§ç‰‡çš„ä½ç½®å’Œæ—¶é—´æˆ³,ç„¶ååµŒå…¥åˆ°ç›¸æœºç”Ÿæˆçš„åŸå§‹å›¾åƒæ•°æ®ä¸­.</p>
<p>å½“å›¾åƒåµŒå…¥æ–‡ç« å¹¶å‘é€ç»™è¯»è€…æ—¶ï¼Œè¯»è€…å¯ä»¥ç®€å•åœ°éªŒè¯å›¾åƒä¸Šçš„ç­¾åï¼Œå¹¶å‘è¯»è€…æ˜¾ç¤ºå…ƒæ•°æ®ã€ä½ç½®å’Œæ—¶é—´æˆ³.</p>
<p><img src="zk-everything/zk-learning-miles/static/YZWzbKSRuojf7ixh5ZpcYf0ZnDb.png" alt="" /></p>
<p>ä½† C2PA æ ‡å‡†æœ‰ä¸€ä¸ªåå¤„ç†çš„é—®é¢˜,å³è¿™äº›ç›¸æœºå¯æ•æ‰éå¸¸é«˜åˆ†è¾¨ç‡çš„å›¾åƒã€‚</p>
<p>ä½†æ˜¯ä¸ºé¿å…å°†å›¾åƒå‘é€ç»™æœ€ç»ˆç”¨æˆ·æ—¶æµªè´¹å¤ªå¤šå¸¦å®½,å‘é€æ—¶ä¼šå¯¹å›¾åƒé‡‡æ ·.è¿™æ„å‘³ç€å›¾åƒå¯èƒ½è¢«é‡æ–°è°ƒæ•´ä¸ºæ›´ä½çš„åˆ†è¾¨ç‡ï¼Œä¼šè¢«è£å‰ªï¼Œä¼šè¿›è¡Œç°åº¦åŒ–å¤„ç†ç­‰.å½“å°†ç»è¿‡å¤„ç†çš„ç…§ç‰‡å‘é€åˆ°ç¬”è®°æœ¬ç”µè„‘æ—¶ï¼Œç¬”è®°æœ¬ç”µè„‘æ— æ³•å†éªŒè¯å›¾åƒä¸Šçš„ C2PA ç­¾åã€‚å³<strong>å¿…é¡»æ‹¥æœ‰åŸå§‹å›¾åƒæ•°æ®ï¼Œå¦åˆ™æ— æ³•éªŒè¯ç­¾åã€‚</strong></p>
<p>æ‰€ä»¥é—®é¢˜å°±æ˜¯ï¼šç­¾åå­˜åœ¨ï¼Œä½†è¯»è€…æ²¡æœ‰è·å¾—åŸå§‹å›¾åƒæ•°æ®ï¼Œå› æ­¤æ— æ³•éªŒè¯ç­¾åæ˜¯å¦æœ‰æ•ˆã€‚</p>
<p>é‡‡ç”¨ zk-snark è§£å†³,æ€æƒ³:åœ¨å›¾ç‰‡è¢«ç¼–è¾‘å‰,ä¸ºè¯¥å›¾ç‰‡ç”Ÿæˆä¸€ä¸ª zk-snark proof.</p>
<p><img src="zk-everything/zk-learning-miles/static/CvazbKnLMov1Ubx3o22ckIWkn7d.png" alt="" /></p>
<p>Operation è¡¨ç¤ºåº”ç”¨äºè¯¥ç…§ç‰‡çš„æ“ä½œåˆ—è¡¨:ä¾‹å¦‚ç¼©å°å°ºå¯¸ã€ç°åº¦åŒ–ã€è£å‰ª</p>
<p>è¯»è€…éªŒè¯ zk-SNARK è¯æ˜,å¦‚æœæœ‰æ•ˆåˆ™å°†å‘ç”¨æˆ·æ˜¾ç¤ºå…ƒæ•°æ®.</p>
<p><img src="zk-everything/zk-learning-miles/static/LK9cbbk1No6SAGxXvBHco4Zjnkg.png" alt="" /></p>
<h1 id="define-zksnark"><a class="header" href="#define-zksnark">Define zksnark</a></h1>
<p>é¦–å…ˆä»‹ç»ç”µè·¯éƒ¨åˆ†</p>
<h2 id="arithmetic-circuits"><a class="header" href="#arithmetic-circuits">Arithmetic Circuits</a></h2>
<p>Fix a <strong>finite field</strong> F={0,1,â€¦,p-1} for some prime <em>p</em>&gt;2</p>
<p><img src="zk-everything/zk-learning-miles/static/Th8db1MAVoZ2U0xdSUWcOY7KnWe.png" alt="" /></p>
<p>Arithmetic Circuits æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒæ¥å—æœ‰é™åŸŸä¸­å…ƒç´ ä½œä¸ºè¾“å…¥å¹¶äº§ç”Ÿæœ‰é™åŸŸä¸­çš„å…ƒç´ ä½œä¸ºè¾“å‡ºã€‚</p>
<p>å®ƒç”±è‹¥å¹²åŸŸä¸Šçš„åŠ æ³•é—¨å’Œä¹˜æ³•é—¨ç»„æˆ. ç”µè·¯çš„å¤§å°=ç”µè·¯ä¸­é—¨çš„æ•°é‡,å¦‚ä¸Šå›¾ |C|=3.</p>
<p><strong>ç”µè·¯å¯æ»¡è¶³é—®é¢˜</strong> (circuit satisfiability problem, C-SAT) æ˜¯æŒ‡ç»™å®šç”µè·¯ Cã€ ç”µè·¯çš„éƒ¨åˆ†è¾“å…¥ x (x å¯ä¸ºç©º) å’Œç”µè·¯è¾“å‡º y, åˆ¤æ–­æ˜¯å¦å­˜åœ¨è¯æ® w (ç”µè·¯çš„å¦ä¸€éƒ¨åˆ†è¾“å…¥, è§†ä¸ºç§˜å¯†è¾“ å…¥) ä½¿å¾— C(x, w) = y.</p>
<p><strong>å¸ƒå°”ç”µè·¯</strong>(Boolean circuit)æ˜¯ç®—æœ¯ç”µè·¯çš„å­ç±», å…¶ä»…æœ‰ä¸é—¨ã€å¼‚æˆ–é—¨ç­‰å¸ƒå°”é€»è¾‘é—¨, å˜é‡å–å€¼ä»…ä¸º 0 æˆ– 1. å¯ä»¥è¯æ˜, é€šè¿‡å¢åŠ å¸¸æ•°çº§åˆ«çš„ç”µè·¯é—¨å’Œæ·±åº¦, <strong>ä»»ä½•å¸ƒå°”ç”µè·¯éƒ½å¯ä»¥è½¬æ¢ä¸ºç®—æœ¯ç”µè·¯</strong></p>
<p><img src="zk-everything/zk-learning-miles/static/M2u7bKKKdopUHGx0bFNcNTNvnMb.png" alt="" /></p>
<p><strong>Valiant's theorem</strong>:æ‰€æœ‰å¤šé¡¹å¼æ—¶é—´å¯è®¡ç®—çš„å‡½æ•°éƒ½å¯ä»¥é€šè¿‡å¤šé¡¹å¼å¤§å°çš„ç®—æœ¯ç”µè·¯æ¥è¡¨ç¤º</p>
<p>ä»…ä½¿ç”¨åŠ æ³•ã€ä¹˜æ³•å’Œå‡æ³•ï¼Œå°±å¯ä»¥å®ç° SHA256 å‡½æ•°ï¼Œå¤§çº¦éœ€è¦ 20,000 ä¸ªé—¨æ‰èƒ½å®Œæˆï¼Œ</p>
<h3 id="structured-vs-unstructured-circuits"><a class="header" href="#structured-vs-unstructured-circuits">Structured vs. unstructured circuits</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/Ktsvbs5pPoMkxrxHkJmcv7wNnRg.png" alt="" /></p>
<p>éç»“æ„åŒ–ç”µè·¯:ç”µè·¯ä¸­æœ‰ä¸€å †é—¨ï¼Œè€Œç”µçº¿åªæ˜¯æŒ‰ç…§å¼€å‘äººå‘˜æƒ³è¦çš„æ–¹å¼å»è¿æ¥é—¨</p>
<p>ç»“æ„åŒ–ç”µè·¯:ç”µè·¯æœ¬èº«å®é™…ä¸Šæ˜¯åˆ†å±‚æ„å»ºçš„ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå›ºå®šçš„ç®—æœ¯ç”µè·¯ Mã€‚</p>
<pre><code>          è¾“å…¥ä»åº•éƒ¨è¿›å…¥ï¼Œé‡å¤åº”ç”¨Mï¼Œæœ€åè®¡ç®—è¾“å‡ºã€‚
</code></pre>
<p>M æœ‰æ—¶è¢«ç§°ä¸ºè™šæ‹Ÿæœº</p>
<h2 id="nark-non-interactive-argument-of-knowledge"><a class="header" href="#nark-non-interactive-argument-of-knowledge">NARK: Non-interactive ARgument of Knowledge</a></h2>
<p>NARK ä»£è¡¨éäº¤äº’å¼çŸ¥è¯†è®ºè¯,å…¶<strong>åº”ç”¨äºç®—æ•°ç”µè·¯</strong></p>
<p><img src="zk-everything/zk-learning-miles/static/UScxbwaMUoS9qLxgCF6cfFatnDb.png" alt="" /></p>
<p>ç”µè·¯çš„è¾“å…¥:å…¬å…± statement x ä¸ç§˜å¯† w; è¾“å‡ºä»æ˜¯ F ä¸­çš„å…ƒç´ </p>
<p>NARK ä¼šç»è¿‡ä¸€ä¸ª Setup é˜¶æ®µå³é¢„å¤„ç†,Setup å°†ç”µè·¯çš„æè¿°ä½œä¸ºè¾“å…¥,äº§ç”Ÿä¸€äº›å…¬å…±å‚æ•°ä½œä¸ºè¾“å‡º.</p>
<p>å…¶ä¸­ä¸€éƒ¨åˆ†å‚æ•°ä¸ Prover ç›¸å…³,ç§°ä¸º PP.å¦å¤–ä¸€äº›å‚æ•°ä¸ Verifier ç›¸å…³,ç§°ä¸º VP.</p>
<p>Prover é€šè¿‡ PP,x,w ä½œä¸ºè¾“å…¥,äº§ç”Ÿä¸€ä¸ª proof .è¡¨æ˜ C(x,w)=0.</p>
<p>Verifier é€šè¿‡ PP,x ä½œä¸ºè¾“å…¥,å¯¹è¯¥ proof è¿›è¡ŒéªŒè¯.</p>
<p>æ•´ä¸ªè¿‡ç¨‹ Prover ä¸ Verifier å¹¶æ²¡æœ‰<strong>äº¤äº’</strong>.</p>
<h3 id="define-nark--normallly"><a class="header" href="#define-nark--normallly">Define NARK  Normallly</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/HmHxbL2qdoBSGAxBB1uczvRunVg.png" alt="" /></p>
<h3 id="properties-of-nark"><a class="header" href="#properties-of-nark">Properties of NARK</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/M2l2brJYHoltTexb1S1clYO9nug.png" alt="" /></p>
<h2 id="knowledge-soundness"><a class="header" href="#knowledge-soundness">Knowledge soundness</a></h2>
<p><img src="zk-everything/zk-learning-miles/static/SpK9bW8E9oM4RnxeFa4cJGvcn3c.png" alt="" /></p>
<p>Verifier æ¥å— w,è¡¨ç¤º Prover know w.st C(x,w)=0 æˆç«‹.å¦‚ä½•ç†è§£ konw å‘¢,è¿™å°±æ˜¯ç¬¬ä¸€èŠ‚æåˆ°çš„æå–å™¨çš„æ¦‚å¿µ</p>
<p>éæ­£å¼æ¥è¯´,w èƒ½å¤Ÿä»¥æŸç§æ–¹å¼ä» Prover ä¸­æå–åˆ° w,åˆ™è¡¨ç¤º Prover know w.</p>
<p>æ­£å¼å®šä¹‰åˆ™å¦‚ä¸Šå›¾.å¯¹äºå¤šé¡¹å¼æ—¶é—´å¯¹æ‰‹ A è¯•å›¾å……å½“æ¶æ„è¯æ˜è€…,åœ¨ä¸çŸ¥é“ statement å¯¹åº”çš„ w æƒ…å†µä¸‹é€šè¿‡ Verifier çš„éªŒè¯,å…¶ä¸­ A åˆ†ä¸ºä¸¤ä¸ªç®—æ³•,A0 ä¸ A1.è¿‡ç¨‹å¦‚ä¸‹</p>
<ol>
<li>ç”Ÿæˆå…¨å±€å‚æ•° gp</li>
<li>å°†å…¨å±€å‚æ•°æä¾›ç»™ç¬¬ä¸€ä¸ªæ•Œæ‰‹ç®—æ³• A0ï¼Œæ•Œæ‰‹å°†ç”Ÿæˆä¸€äº›å†…éƒ¨çŠ¶æ€ st,ä¼ªé€ è¯æ˜çš„ç”µè·¯ C å’Œ statement x</li>
<li>ç”Ÿæˆ PP ä¸ VP</li>
<li>å°† PP,C,x ä½œä¸ºè¾“å…¥è¿è¡Œç®—æ³• A1,A1 è¾“å‡ºä¸€ä¸ª proof</li>
</ol>
<p>å½“å°†è¿™ä¸ª proof ä¸ statement x ä¸€èµ·æä¾›ç»™ Verifier æ—¶ï¼ŒéªŒè¯è€…å°†ä»¥ç™¾ä¸‡åˆ†ä¹‹ä¸€çš„æ¦‚ç‡æ¥å—ã€‚å¦‚æœè¿™æ˜¯çœŸçš„ï¼Œé‚£ä¹ˆåº”è¯¥å­˜åœ¨ä¸€ç§æœ‰æ•ˆçš„æå–ç®—æ³• E å¹¶ä¸”è¯¥æå–å™¨ E å°†æŒ‰å¦‚ä¸‹æ–¹å¼å·¥ä½œã€‚</p>
<ol>
<li>ç”Ÿæˆå…¨å±€å‚æ•° gp</li>
<li>å°†å…¨å±€å‚æ•°æä¾›ç»™ç¬¬ä¸€ä¸ªæ•Œæ‰‹ç®—æ³• A0ï¼Œæ•Œæ‰‹å°†ç”Ÿæˆä¸€äº›å†…éƒ¨çŠ¶æ€ st,ä¼ªé€ è¯æ˜çš„ç”µè·¯ C å’Œ statement x</li>
<li>E ä¼šä»¥æŸç§æ–¹å¼ä¸ç®—æ³• A1(<strong>ä½œä¸º Oracle</strong>)è¿›è¡Œäº¤äº’,ç„¶åæå–å‡º w.</li>
</ol>
<p>æå–çš„ w æ»¡è¶³  C(x,w)=0ï¼Œæ¦‚ç‡å¤§çº¦æ˜¯ç™¾ä¸‡åˆ†ä¹‹ä¸€å‡å»ä¸€äº›å¯ä»¥å¿½ç•¥ä¸è®¡çš„å€¼ ç­‰ç­‰ã€‚</p>
<p><strong>æ€»ç»“</strong>:å¦‚æœå¯¹æ‰‹ A èƒ½å¤Ÿè¯´æœ Verifier å®ƒçŸ¥é“æŸäº› C,statement å’Œå¯¹åº”çš„ wï¼Œ</p>
<p>é‚£ä¹ˆå°±æœ‰ä¸€ä¸ªæå–å™¨å¯ä»¥ä¸è¯¥å¯¹æ‰‹ A äº¤äº’å¹¶å®é™…ä¸Šä» A ä¸­æå– wï¼Œä½¿å¾— C (x,w)= 0ã€‚</p>
<p><strong>trivial NARK:å³</strong> proof <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>çš„æƒ…å†µ.ä¸æ»¡è¶³é›¶çŸ¥è¯†æ€§,ä½†æ»¡è¶³å‰ä¸¤ä¸ªå±æ€§.Verifier å¯ä»¥æ ¹æ® proof ä¸ x é‡æ–°è¿è¡Œç”µè·¯ éªŒè¯ C(x,w)=0 æ˜¯å¦æˆç«‹</p>
<h2 id="snarksuccinct-non-interactive--argument-of-knowledge"><a class="header" href="#snarksuccinct-non-interactive--argument-of-knowledge">SNARK:Succinct Non-interactive  ARgument of Knowledge</a></h2>
<h3 id="succinct-preprocessing-nark"><a class="header" href="#succinct-preprocessing-nark"><strong>succinct preprocessing NARK</strong></a></h3>
<p><img src="zk-everything/zk-learning-miles/static/G7M4bopFxofN7txHFqIcGrHhnVg.png" alt="" /></p>
<p>SNARK æ˜¯ç®—æ³• Sã€Pã€V çš„ä¸‰å…ƒç»„ï¼Œä¸ NARK ä¸­ä¸€æ ·ï¼Œåªæ˜¯<strong>å¯¹ proof æå‡ºäº†é¢å¤–çš„è¦æ±‚</strong></p>
<p>è¯æ˜è€…ç”Ÿæˆçš„è¯æ˜å¿…é¡»å¾ˆçŸ­ï¼Œç‰¹åˆ«æ˜¯å…¶å¤§å°å¿…é¡»æ˜¯ w å¤§å°çš„æ¬¡çº¿æ€§ã€‚</p>
<p>è¯æ˜ä¹Ÿåº”è¯¥èƒ½å¤Ÿå¿«é€ŸéªŒè¯ï¼Œè¿™æ„å‘³ç€ Verifier çš„è¿è¡Œæ—¶é—´åº”è¯¥ä¸ç”µè·¯å¤§å°å‘ˆæ¬¡çº¿æ€§å…³ç³»ã€‚</p>
<p>å› æ­¤ï¼ŒéªŒè¯è€…ä¸èƒ½ç®€å•åœ°é‡æ–°è¿è¡Œç”µè·¯ Cï¼Œä½†å®ƒå¿…é¡»ä¸ x å‘ˆçº¿æ€§å…³ç³»ï¼Œå› ä¸º Verifier å¿…é¡»æŒ‰é¡ºåºè¯»å– x</p>
<p>æ‰€ä»¥ time(V)åœ¨ x ä¸Šæ˜¯çº¿æ€§çš„ï¼Œä½†åœ¨ç”µè·¯ C çš„å¤§å°ä¸Šå¿…é¡»æ˜¯æ¬¡çº¿æ€§çš„ã€‚</p>
<h3 id="strongly-succinct-preprocessing-nark"><a class="header" href="#strongly-succinct-preprocessing-nark"><strong>strongly succinct preprocessing NARK</strong></a></h3>
<p><img src="zk-everything/zk-learning-miles/static/Zg9jbyZ1IojA3uxnfQ9cJXZmnjf.png" alt="" /></p>
<p>å®è·µä¸­çš„ SNARK å®é™…ä¸Šä¼šéå¸¸ç®€æ´(<strong>strongly succinct</strong>)ã€‚</p>
<p><strong>strongly succinct</strong>:æ„å‘³ç€</p>
<ul>
<li>proof ä¸ä»…æ˜¯ w å¤§å°çš„æ¬¡çº¿æ€§ï¼Œè¯æ˜é•¿åº¦å¿…é¡»æ˜¯ç”µè·¯å¤§å°çš„å¯¹æ•°å…³ç³».ä½¿è¯æ˜ä¸ç”µè·¯ç›¸æ¯”éå¸¸å°ï¼</li>
<li>éªŒè¯è¯æ˜çš„æ—¶é—´ä¸ x çš„å¤§å°æˆçº¿æ€§,ä¸”æœ€å¤šæ˜¯ç”µè·¯è§„æ¨¡çš„å¯¹æ•°å…³ç³»ã€‚</li>
</ul>
<p><strong>æ„å‘³ç€ Verifier æ²¡æœ‰æ—¶é—´è¯»å–æ•´ä¸ªç”µè·¯ï¼Œä¹Ÿå°±æ˜¯ Verifier ç”šè‡³ä¸çŸ¥é“ç”µè·¯ C æ˜¯ä»€ä¹ˆ.ä¹Ÿå°±æ— æ³•éªŒè¯ä¸€ä¸ªè¯­å¥</strong></p>
<p><strong>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆéœ€è¦å…¬å…±å‚æ•°çš„åŸå› ï¼Œå®ƒä¸º Verifier æä¾›ç”µè·¯çš„ <strong><strong>vp</strong></strong> æ‘˜è¦ï¼Œä»¥ä¾¿åœ¨ <strong><strong>log</strong></strong>(âˆ£<strong><strong>C</strong></strong>âˆ£)å†…è¶³ä»¥è¿è¡ŒéªŒè¯ã€‚</strong></p>
<p>ZK-SNARK å°±æ˜¯é›¶çŸ¥è¯†çš„ SNARK</p>
<p><img src="zk-everything/zk-learning-miles/static/M6aJbALrkojP2CxvZxDc5lAinLM.png" alt="" /></p>
<p>åƒ NARK ä¸€æ ·,è€ƒè™‘ä¸€ä¸ª trival SNARK çš„æƒ…å†µ,å¦‚ä¸Šå›¾æ‰€ç¤º,å‘ç° a trival SNARK å¹¶ä¸æ»¡è¶³ä¸€ä¸ª SNARK å®šä¹‰.</p>
<h3 id="preprocessing-setup"><a class="header" href="#preprocessing-setup">Preprocessing Setup</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/N5rabmHXMol2hkx6tJFcBeAunWb.png" alt="" /></p>
<p>Setup é˜¶æ®µè¯»å–æ•´ä¸ªç”µè·¯ C,ç„¶åè¾“å‡ºç”µè·¯ C çš„æ‘˜è¦-ä¸€äº›å…¬å…±å‚æ•°,åŒ…æ‹¬ Prover ä¼šç”¨åˆ°çš„ PP ä¸ Verifier ä¼šç”¨åˆ°çš„ VP.</p>
<p>Setup é˜¶æ®µé€šå¸¸ä¼šé‡‡ç”¨ä¸€äº›éšæœºä½ r ç”¨äºç”Ÿæˆå‚æ•°çš„è¿‡ç¨‹ï¼Œå¯åˆ†ä¸ºä»¥ä¸‹å‡ ç±»</p>
<ul>
<li>
<p>Trusted setup per circuit:æ¯ä¸€ä¸ªç”µè·¯éƒ½éœ€è¦é‡æ–°æ‰§è¡Œä¸€æ¬¡ Setup è¿‡ç¨‹.éšæœºæ•° r éå¸¸é‡è¦,åº”å½“ä¿è¯ Setup é˜¶æ®µå r è¢«é”€æ¯(<strong>å¯ä¿¡</strong>),å¦åˆ™å…¶å°†èƒ½å¤Ÿä¼ªé€  proof.</p>
</li>
<li>
<p>Trusted and universal setup:å°† Setup åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µ</p>
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ini</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">Î»</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mord">Â </span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">p</span></span></span></span>:æ˜¯ä¸ªä¸€æ¬¡æ€§çš„ç®—æ³•,äº§ç”Ÿå…¨å±€å‚æ•° gp.è¯¥é˜¶æ®µå®Œæˆå,r å°±è¢«é”€æ¯.æ‰€ä»¥ init é˜¶æ®µéœ€è¦æ˜¯å¯ä¿¡çš„,ä½†è¯¥é˜¶æ®µå¯ä»¥<strong>ç”¨äºå¾ˆå¤šç”µè·¯.</strong></li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span><span class="mord">Â </span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">pp</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">p</span><span class="mclose">)</span></span></span></span>:æ˜¯ä¸€ä¸ªç¡®å®šæ€§ç®—æ³•,ä¸ºè¯æ˜è€…å’ŒéªŒè¯è€…ç”Ÿæˆå‚æ•°ã€‚ä»»ä½•äººéƒ½å¯ä»¥è¿è¡Œè¯¥ç®—æ³•å¹¶éªŒè¯å‚æ•°æ˜¯å¦æ­£ç¡®ç”Ÿæˆã€‚</li>
</ul>
</li>
<li>
<p>Transparent setup:ä¸éœ€è¦ä»»ä½•ç§˜å¯†å€¼ï¼Œå› æ­¤ä»»ä½•äººéƒ½å¯ä»¥éªŒè¯å®ƒæ˜¯å¦æ­£ç¡®è¿è¡Œï¼Œå¹¶ä¸”ä¸éœ€è¦è¿è¡Œå¯ä¿¡è®¾ç½®.æ¯”å¦‚ STRAK åè®®</p>
</li>
</ul>
<p><img src="zk-everything/zk-learning-miles/static/IdUIb94u1oP4rnxrqXIcIsUsnuh.png" alt="" /></p>
<h2 id="building-an-efficient-snakr"><a class="header" href="#building-an-efficient-snakr">Building an efficient SNAKR</a></h2>
<p><img src="zk-everything/zk-learning-miles/static/BiYWb0CL4oAhwtxe7yLcW8kJnEg.png" alt="" /></p>
<p>ä¸€ä¸ªé€šç”¨çš„æ„å»º SNARK çš„èŒƒä¾‹,åŒ…å«ä¸¤æ­¥æˆ–è€…è¯´ä¸¤ä¸ªç»„ä»¶.functional Commitment Scheme ä¸ Interactive oracle proof.</p>
<p>Commitment æ–¹æ¡ˆæ˜¯ä¸€ä¸ª<strong>åŠ å¯†å¯¹è±¡</strong>ï¼Œè¿™æ„å‘³ç€å®ƒçš„å®‰å…¨æ€§å–å†³äºæŸäº›å¯†ç å­¦å‡è®¾ã€‚</p>
<p>IOP äº¤äº’å¼é¢„è¨€æœºè¯æ˜å®é™…ä¸Šæ˜¯ä¸€ä¸ª<strong>ä¿¡æ¯è®ºå¯¹è±¡</strong>,å¯ä»¥åœ¨æ²¡æœ‰ä»»ä½•åº•å±‚å‡è®¾çš„æƒ…å†µä¸‹æ— æ¡ä»¶åœ°è¯æ˜ IOP çš„å®‰å…¨æ€§</p>
<h3 id="commitment-æ‰¿è¯º"><a class="header" href="#commitment-æ‰¿è¯º">Commitment æ‰¿è¯º</a></h3>
<p>ç®€å•å›é¡¾</p>
<p><img src="zk-everything/zk-learning-miles/static/KqQzbA6CWoq8vWxnKnica3lnn6g.png" alt="" /></p>
<h4 id="æ‰¿è¯ºæ€§è´¨-1"><a class="header" href="#æ‰¿è¯ºæ€§è´¨-1">æ‰¿è¯ºæ€§è´¨</a></h4>
<ul>
<li>
<p><strong>Hiding:æ„å‘³ç€æ•Œæ‰‹è·å¾—æ‰¿è¯º c(m)åæ— æ³•è·å¾— m çš„å€¼</strong></p>
<ul>
<li>computational hiding:å¯¹äºä»»æ„çš„ PPT æ•Œæ‰‹ A.æœ‰
<img src="zk-everything/zk-learning-miles/static/QrRdbFl1Jol2NNxIZnBcnzZznvd.png" alt="" /></li>
<li>Perfect hiding:å°† A çš„è®¡ç®—èƒ½åŠ›ä¿®æ”¹ä¸ºæ— ç©·ç®—åŠ›,â€œâ‰¤ negl(Î»)â€æ›¿æ¢ä¸º 0</li>
</ul>
</li>
<li>
<p><strong>Binding:æ˜¯æŒ‡ä¸€ä¸ªæ‰¿è¯º c(m) åœ¨ Open é˜¶æ®µæ‰“å¼€åªä¼šä¸ºä¸€ä¸ªå€¼ m è€Œä¸ä¼šå¾—åˆ° mâ€˜.</strong></p>
<ul>
<li>computational  Binding
<img src="zk-everything/zk-learning-miles/static/Luz3bGxYAoFEAUxSdBUc1jubnpc.png" alt="" /></li>
<li>perfect binding::å°† A çš„è®¡ç®—èƒ½åŠ›ä¿®æ”¹ä¸ºæ— ç©·ç®—åŠ›,â€œâ‰¤ negl(Î»)â€æ›¿æ¢ä¸º 0</li>
</ul>
</li>
</ul>
<p>æœ‰ä¸€ä¸ªä½¿ç”¨å“ˆå¸Œå‡½æ•°çš„æ ‡å‡†æ‰¿è¯ºæ„é€ ã€‚å“ˆå¸Œå‡½æ•° <em>H</em>:MÃ—Râ†’Cï¼Œå…¶ä¸­</p>
<ul>
<li><em>commit</em>(<em>m</em>,<em>r</em>)=<em>H</em>(<em>m</em>,<em>r</em>)</li>
<li><em>verify</em>(<em>m</em>,<em>com</em>,<em>r</em>)=accept if <em>com</em>=<em>H</em>(<em>m</em>,<em>r</em>)</li>
</ul>
<h4 id="commitment-to-a-function"><a class="header" href="#commitment-to-a-function">Commitment to a Function</a></h4>
<p><img src="zk-everything/zk-learning-miles/static/ZEo3bWv7joj4QExjbztcieDZnFb.png" alt="" /></p>
<ul>
<li>é€‰æ‹©ä¸€ä¸ªå‡½æ•°æ—: F={<em>f</em>:X_â†’Y}. f è¡¨ç¤ºä»é›†åˆ x åˆ°é›†åˆ y çš„å‡½æ•°</li>
<li>Prover è¿è¡Œ Commit ç®—æ³•,å°†å‡½æ•° f ä¸éšæœºæ•° r ä½œä¸ºè¾“å…¥, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ä¸ºè¾“å‡º.f å¯ä»¥è¡¨ç¤ºä¸ºä¸€ä¸ªç”µè·¯ Cï¼Œä¸€ä¸ª C ç¨‹åºç­‰ã€‚</li>
</ul>
<p>ç„¶åå°† <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> å‘é€ç»™ Verifier</p>
<ul>
<li>Verifier å¯ä»¥å‘é€å›ä¸€ä¸ªå‡½æ•°åŸŸä¸­çš„å…ƒç´  x</li>
<li>Prover å°† x å¯¹åº”çš„ f(x)=y,ä»¥åŠ proof å‘é€ç»™ Verifier. Proof è¡¨æ˜ 1.f(x)=y 2.f å±äº F</li>
</ul>
<p>å½¢å¼ä¸Šè®²ï¼Œ Function Commitment Scheme ç”±ä»¥ä¸‹å®šä¹‰ï¼š</p>
<p><img src="zk-everything/zk-learning-miles/static/UPnRbDbI1ooe5zx8ilNcI56enKd.png" alt="" /></p>
<ul>
<li>
<p>setup_(<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">Î»</span></span></span></span></span></span></span></span></span></span></span>)â†’gp è¾“å‡ºå…¬å…±å‚æ•° <em>gp</em> ã€‚</p>
</li>
<li>
<p>commit(gp,f,r)â†’ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>  ç”¨éšæœºæ•°râˆˆR æ‰¿è¯º fâˆˆF</p>
<ul>
<li>æ„å»º SNARK,å¿…é¡»æ»¡è¶³ Binding</li>
<li>å¯¹äº <strong>hiding</strong>, æ„å»º SNARK å¹¶éå¿…é¡»æ»¡è¶³,  ä½†å½“æ„å»º zk-SNARK éœ€è¦æ»¡è¶³è¯¥å±æ€§</li>
</ul>
</li>
<li>
<p><em>eval</em>(<em>P</em>,<em>V</em>) :å¯¹äºç»™å®š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>å’Œ xâˆˆX,yâˆˆY ï¼š</p>
<ul>
<li><em>Prover</em>(<em>gp</em>,<em>f</em>,<em>x</em>,<em>y</em>,<em>r</em>)â†’Ï€:ç”Ÿæˆä¸€ä¸ªç®€çŸ­çš„è¯æ˜</li>
<li><em>V</em>(<em>gp</em>, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ,<em>x</em>,<em>y</em>,<em>Ï€</em>)â†’accept or reject</li>
<li><em>äº‹å®ä¸Š,Prover ä¸ Verifier ä¹‹é—´çš„ eval</em> ç®—æ³•æ˜¯å¯¹ä»¥ä¸‹å…³ç³»çš„(zk)SNARK è¯æ˜:
1.f(<em>x</em>)=<em>y</em> 2. <em>commit</em>(<em>pp</em>,<em>f</em>,<em>r</em>)= <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> 3. fâˆˆF</li>
</ul>
</li>
</ul>
<h5 id="examples-of-functional-commitments"><a class="header" href="#examples-of-functional-commitments">Examples of functional commitments</a></h5>
<p><img src="zk-everything/zk-learning-miles/static/OH4obrjg2oxlJixXQ2PccMsWnnh.png" alt="" /></p>
<ul>
<li>
<p>å¤šé¡¹å¼æ‰¿è¯ºï¼šæ‰¿è¯ºå¯¹è±¡æ˜¯å•å˜é‡å¤šé¡¹å¼, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> :è¡¨ç¤ºæ‰€æœ‰æ¬¡æ•°æœ€å¤šä¸º d çš„å•å˜é‡å¤šé¡¹å¼çš„é›†åˆã€‚</p>
</li>
<li>
<p>å¤šçº¿æ€§æ‰¿è¯ºï¼šæ‰¿è¯ºä¸ºå¤šçº¿æ€§å¤šé¡¹å¼ï¼Œå…¶ä¸­ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0785em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>:è¡¨ç¤ºæ˜¯ k ä¸ªå˜é‡çš„æ‰€æœ‰å¤šçº¿æ€§å¤šé¡¹å¼çš„é›†åˆï¼Œæ¯ä¸ªå˜é‡çš„æ¬¡æ•°æœ€å¤šä¸º 1ã€‚</p>
<ul>
<li>å¤šçº¿æ€§å¤šé¡¹å¼ç¤ºä¾‹ï¼š <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mord">7</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li>
</ul>
</li>
<li>
<p>å‘é‡æ‰¿è¯ºï¼šæ‰¿è¯ºå¯¹è±¡æ˜¯ä¸€ä¸ªå‘é‡, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">u</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class="mord mathnormal">d</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2322em;vertical-align:-0.3831em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span></span></span></span> ã€‚èƒ½å¤Ÿæ‰“å¼€è¯¥å‘é‡ä¸­çš„ä»»ä½•ç‰¹å®šå•å…ƒæ ¼ã€‚åœ¨ç»™å®šç´¢å¼• i çš„æƒ…å†µä¸‹,è¯æ˜ç´¢å¼• i å¤„çš„è¯¥å‡½æ•°å€¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> .</p>
<ul>
<li>å‘é‡æ‰¿è¯ºæ–¹æ¡ˆå®ä¾‹:é»˜å…‹å°”æ ‘(Merkle tree)</li>
</ul>
</li>
<li>
<p>å†…ç§¯æ‰¿è¯ºï¼šæ‰¿è¯ºä¸€ä¸ªå‘é‡ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2322em;vertical-align:-0.3831em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span></span></span></span> ,å¹¶å®šä¹‰ä¸€ä¸ªå‡½æ•° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ,è¯¥å‡½æ•°æ¥å—å¦å¤–ä¸€ä¸ªå‘é‡ v ä½œä¸ºè¾“å…¥,å¹¶ä¸”è¾“å‡ºä¸¤ä¸ªå‘é‡çš„å†…ç§¯(u,v).</p>
</li>
</ul>
<p><strong>å¯¹äºè¿™ 4 ä¸ªæ‰¿è¯ºæ–¹æ¡ˆ,å¯ä»¥ä»ä¸­ä»»æ„ä¸€ä¸ªåŸºç¡€ä¸Šæ„å»ºè·å¾—å‰©ä½™æ‰¿è¯ºæ–¹æ¡ˆã€‚</strong></p>
<h4 id="polynomial-commitment-scheme"><a class="header" href="#polynomial-commitment-scheme">Polynomial Commitment Scheme</a></h4>
<p><img src="zk-everything/zk-learning-miles/static/PwaRbOec3oOQ2PxNephcooKUn1e.png" alt="" /></p>
<p>Prover éœ€è¦å¯¹å¤šé¡¹å¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> æ‰¿è¯º.Prover è¯•å›¾è¯´æœ Verifier , <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> æ»¡è¶³</p>
<ol>
<li>1.f(u)=v ,å…¶ä¸­ u,vâˆˆFp ä¸”å…¬å¼€å¯è§</li>
<li>f çš„ degreeâ‰¤d.</li>
</ol>
<p>æˆ‘ä»¬å¸Œæœ›è¯æ˜æ˜¯ä¸€ä¸ª SNARKï¼Œé‚£ä¹ˆè¯æ˜å¤§å°å’ŒéªŒè¯æ—¶é—´åº”è¯¥æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>,ä¸‹é¢æ˜¯ä¸€äº› PCS çš„å®ç°æœºåˆ¶</p>
<ul>
<li>Using bilinear groups: <strong>KZG'10</strong> (trusted setup,ä¹Ÿæ˜¯<strong>å®é™…ä¸­ä½¿ç”¨æœ€å¤šçš„</strong>), <strong>Dory'20</strong> (transparent,ç›¸æ¯” kzg æ…¢)</li>
<li>ä»…ä½¿ç”¨å“ˆå¸Œå‡½æ•°ï¼šåŸºäº FRIï¼ˆlong eval proofsï¼‰</li>
<li>ä»…ä½¿ç”¨å¸¸è§„çš„æ¤­åœ†æ›²çº¿,ä¸éœ€è¦é¢å¤–çš„ç»“æ„: <strong>Bulletproofs</strong> (short proof, but verifier time is O(<em>d</em>))</li>
<li>Using groups of unknown order: <strong>Dark'20(æ…¢,æœªè·å¾—å¤ªå¤šå…³æ³¨)</strong></li>
</ul>
<p>è€ƒè™‘ <strong>travial</strong> çš„ PCS æƒ…å†µ,ç”¨ç³»æ•°è¡¨ç¤ºçš„æ–¹å¼è¡¨ç¤ºå¤šé¡¹å¼ f, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2887em;vertical-align:-0.2997em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.989em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span></span></span> ,è¿‡ç¨‹å¦‚ä¸‹</p>
<ul>
<li>
<p>commit(f,r)= <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">((</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span></p>
</li>
<li>
<p>eval_ å°†æŒ‰å¦‚ä¸‹æ–¹å¼å®Œæˆï¼š</p>
<ul>
<li>Prover å°† Ï€ = <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">((</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span></span></span></span> å‘é€ç»™ Verifier</li>
<li>verifier ä»ç³»æ•°é‡æ„ <em>f</em> ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦ <em>f</em>(<em>u</em>)=<em>v</em> å’Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mopen">((</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>.</li>
</ul>
</li>
</ul>
<p>å¾ˆæ˜æ˜¾è¿™<strong>ä¸ç¬¦åˆ SNARK çš„è¦æ±‚</strong>,å› ä¸ºè¯æ˜å¤§å°å’ŒéªŒè¯æ—¶é—´ä¸ <em>d</em> æ˜¯çº¿æ€§å…³ç³»çš„,è€Œä¸æ˜¯ O(log d)</p>
<h5 id="polynomial-is-zero"><a class="header" href="#polynomial-is-zero">Polynomial is Zero</a></h5>
<p>è¿™æ˜¯ SNARK çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œä¹Ÿæ˜¯ä½¿ SNARK æˆä¸ºå¯èƒ½çš„é‡è¦åŸå› </p>
<p>è€ƒè™‘æœ€å¤šä¸º_d_ æ¬¡çš„éé›¶å¤šé¡¹å¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> </p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3612em;vertical-align:-0.4811em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4811em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> :ä»æœ‰é™åŸŸé€‰æ‹©ä¸€ä¸ªéšæœºå…ƒç´  r ,f(r)=0 çš„æ¦‚ç‡ä¸º d/p</p>
<p>è¿™æ˜¯å› ä¸º f æœ€å¤šæœ‰ d ä¸ªæ ¹,<em>r</em> æ˜¯ä»å¤§å° <em>p çš„åŸŸ</em> ä¸­éšæœºé€‰æ‹©çš„.r å‘½ä¸­ d ä¸ªæ ¹çš„æ¦‚ç‡ä¸º d/p.</p>
<p>è€ƒè™‘å½“ p è¿œè¿œå¤§äº d çš„æƒ…å†µä¸‹,æ¯”å¦‚ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6776em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9501em;vertical-align:-0.136em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">256</span></span></span></span></span></span></span></span></span><span class="mord cjk_fallback">å’Œ</span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‰¤</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">40</span></span></span></span></span></span></span></span></span></span></span></span>, <em>d</em>/<em>p</em> å¯ä»¥å¿½ç•¥ä¸è®¡.è¿™æ„å‘³ç€å½“ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">0</span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Fp</span></span></span></span>,Verifier æœ‰ç€éå¸¸é«˜çš„æ¦‚ç‡ç›¸ä¿¡å¤šé¡¹å¼åœ¨æ‰€æœ‰ç‚¹ä¸Šéƒ½ä¸º 0.</p>
<p>åˆ¤æ–­ä¸€ä¸ªå¤šé¡¹å¼æ˜¯å¦ä¸º 0,åªéœ€ä¸€ä¸ªéšæœºç‚¹è¿›è¡Œè¯„ä¼°,å¹¶æ£€æŸ¥è¯„ä¼°å€¼æ˜¯å¦ä¸ºé›¶å³å¯ã€‚</p>
<p>å¯¹åº”<a href="https://en.wikipedia.org/wiki/Schwartz%E2%80%93Zippel_lemma">[Schwartz-Zippel-DeMillo-Lipton]</a>å®šç†.è¯¥å®šç†ä¹Ÿé€‚ç”¨äºå¤šå…ƒå¤šé¡¹å¼,å°† d ç†è§£ä¸º f çš„æ€» degree ä¹‹åˆå³å¯.æ¯”å¦‚ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8974em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span></span></span></span></span><span class="mord">Â </span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span></p>
<h5 id="two-polynomials-are-equation"><a class="header" href="#two-polynomials-are-equation">Two Polynomials are equation</a></h5>
<p>è®¾ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Fp</span></span></span></span> å¦‚æœ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mord">.</span><span class="mord cjk_fallback">åˆ™</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">0.</span><span class="mord cjk_fallback">åˆ™</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> ,é‚£ä¹ˆ f=g çš„æ¦‚ç‡éå¸¸é«˜.</p>
<p>ä¸‹é¢ç»™å‡ºåˆ¤æ–­ä¸¤ä¸ªå¤šé¡¹å¼æ˜¯å¦ç›¸ç­‰çš„<strong>äº¤äº’å¼</strong>åè®®</p>
<p><img src="zk-everything/zk-learning-miles/static/NspFbl037ob8cMxpN7mcdwyknIf.png" alt="" /></p>
<ol>
<li>V ä» Fp ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªéšæœºæ•° r,å°† r å‘é€ç»™ P</li>
<li>P æ ¹æ®å‘æ¥çš„ r,åˆ†åˆ«è®¡ç®— f(r)ä¸ g(r)çš„å€¼ä¸º y ä¸ yâ€˜.å°† y ä¸ yâ€™ä»¥åŠå¯¹åº”çš„ proof ç»™ V</li>
<li>V é¦–å…ˆæ£€æŸ¥ proof æ˜¯å¦æœ‰æ•ˆ,ç„¶åæ£€æŸ¥ y æ˜¯å¦ç­‰äº yâ€˜</li>
</ol>
<p>é€šè¿‡æ‰¿è¯ºä¸ F-S è½¬æ¢,å°†ä¸Šè¿°åè®®è½¬ä¸º SNARK æ–¹æ¡ˆ.</p>
<p><img src="zk-everything/zk-learning-miles/static/WFqCbgqm4oOMgNxPzg3cyNKwnGj.png" alt="" /></p>
<ul>
<li>
<p>ä¸Šå›¾æ˜¯ä¸€ä¸ª SNARK æ–¹æ¡ˆ,å½“</p>
<ul>
<li>d/p å¯å¿½ç•¥</li>
<li>å“ˆå¸Œå‡½æ•° H ä½œä¸ºä¸€ä¸ª <strong>Oracle</strong>,å³ H å¯è‡ªè¡Œè·å¾—éšæœºè´¨è¯¢ï¼Œç„¶åè®¡ç®—å¯¹å¯¹åº”çš„å“åº”ï¼Œå¹¶å°†å“åº”å‘é€ç»™ P</li>
</ul>
</li>
<li>
<p>è¯¥ SNARK ä¸­,Statement x æ˜¯ f ä¸ g å¯¹åº”çš„æ‰¿è¯º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">g</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>;witness w æ˜¯ f ä¸ g æœ¬èº«.</p>
</li>
<li>
<p><strong>F-S è½¬åŒ–</strong>ä¸ºéäº¤äº’å¼ SNARK:P é€šè¿‡ H(x)è·å¾—éšæœºæ•° r,ä¸å†éœ€è¦ V å‘é€ r.å› ä¸º V åŒæ ·èƒ½æ‹¿ç€ x è¯¢é—® Oracle,è·å¾— r.</p>
</li>
<li>
<p>ä½†è¿™<strong>ä¸æ˜¯ä¸€ä¸ª zk-snark</strong>,å› ä¸º V å¯ä»¥å­¦ä¹ åˆ°å¤šé¡¹å¼ f,g åœ¨ r å¤„çš„å€¼ y ä¸ yâ€˜.</p>
</li>
</ul>
<h4 id="inner-product-argument-2"><a class="header" href="#inner-product-argument-2">Inner product argument</a></h4>
<p>è¯æ˜è€…é€šè¿‡å†…ç§¯è®ºè¯å¯åˆ©ç”¨<strong>å¾ªç¯****é€’å½’</strong>çš„æ–¹å¼<strong>è¯æ˜ä»–æ‹¥æœ‰ä¸¤ä¸ªå…¬å¼€å‘é‡æ‰¿è¯ºçš„æ¶ˆæ¯, ä¸”è¿™ä¸¤ä¸ªæ¶ˆæ¯çš„å†…ç§¯ç­‰äºæŸä¸ªå…¬å¼€å€¼</strong>. å¯¹äºé•¿åº¦ä¸º n çš„æ¶ˆæ¯å‘é‡, å†…ç§¯è®ºè¯çš„é€šä¿¡å¤ æ‚åº¦ä¸º O(log n).</p>
<p>Prover å¯å‘ Verifier è¯æ˜å¯¹äºå…¬å…±è¾“å…¥ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span> å’Œå…¬å¼€æ ‡é‡ zâˆˆZq</p>
<p>P æ‹¥æœ‰å‘é‡ aã€b,æ»¡è¶³ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span><span class="mord cjk_fallback">å’Œ</span><span class="mord mathnormal">a</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> åˆ™ statement ä¸º</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">h</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">a</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span></span>,å…¶ä¸­å‘é‡ a,b ä¸º witness,g,h,A,B ä¸ºå…¬å…±è¾“å…¥</p>
<p>å†…ç§¯è®ºè¯çš„<strong>æ ¸å¿ƒæ€æƒ³</strong>æ˜¯å°†é’ˆå¯¹ n é•¿å‘é‡çš„ statement æ ¹æ® V çš„éšæœºæŒ‘æˆ˜ c å½’çº¦ä¸ºå¯¹ n/2 é•¿å‘é‡çš„ç­‰ä»· statement,</p>
<p>åœ¨å‘é‡ä¸æ–­ç¼©å‡è‡³ä¸ºæ ‡é‡å, P åªéœ€è¦ç›´æ¥å‘é€æ ‡é‡å³å¯.</p>
<p>çº¦å®šä¸€äº›ç¬¦å·</p>
<ul>
<li>1.å›ºå®šç¾¤çš„ç”Ÿæˆå…ƒ g å, è®° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8588em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span> ä¸º [r], ä»¤ n âˆˆ N, è®° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mpunct">,â‹…â‹…â‹…,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em;"><span style="top:-2.357em;margin-left:-0.0278em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">ä¸º</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">]</span></span></span></span>,[S]åŒç†</li>
<li>è®¾ g, h çš„ç”Ÿæˆæ–¹å¼ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">]</span></span></span></span>, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">]</span></span></span></span></li>
<li>å¯¹äº n ä¸ºå¶æ•°çš„å‘é‡ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,â‹…â‹…â‹…,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> (ä¸æ˜¯å¶æ•°å¯å¡«å……), è®° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9176em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.237em;vertical-align:-0.487em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,â‹…â‹…â‹…,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3341em;"><span style="top:-2.85em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6915em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3908em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1408em;vertical-align:-0.3908em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3341em;"><span style="top:-2.85em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6915em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3908em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3341em;"><span style="top:-2.85em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6915em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3908em;"><span></span></span></span></span></span></span><span class="mpunct">,â‹…â‹…â‹…,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
</ul>
<p><strong>è¿‡ç¨‹å¦‚ä¸‹</strong></p>
<ol>
<li>é¦–å…ˆåŸºäº V çš„éšæœºæŒ‘æˆ˜ c æ„é€ é•¿åº¦ä¸€åŠäºåŸå¯†é’¥é•¿åº¦çš„æ‰¿è¯ºå¯†é’¥, å³ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3011em;vertical-align:-0.487em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.3011em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></li>
<li>ä¸ºé˜²æ­¢ P åˆ©ç”¨æ–°çš„æ‰¿è¯ºå¯†é’¥ [râ€²] ä½œæ¶, P éœ€åœ¨æŒ‘æˆ˜é˜¶æ®µä¹‹å‰å‘é€éƒ¨åˆ†æ‰¿è¯ºå€¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.237em;vertical-align:-0.487em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mord cjk_fallback">å’Œ</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.237em;vertical-align:-0.487em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span>. æ­¤æ—¶æ–°è¯æ®ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5556em;"></span><span class="mord mathnormal">a</span><span class="mord">â€²</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0703em;vertical-align:-0.487em;"></span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.3011em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>P å’Œ V è®¡ç®—æ–°æ‰¿è¯º: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.237em;vertical-align:-0.487em;"></span><span class="mopen">[</span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.3011em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.3011em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2934em;vertical-align:-0.3064em;"></span><span class="mord mathnormal">A</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3064em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>å¯¹äºæ‰¿è¯ºå¯†é’¥ [s]ã€æ‰¿è¯º B å’Œç§˜å¯†è¾“å…¥ b, åˆ©ç”¨æŒ‘æˆ˜ c çš„é€† <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span> æ„é€ å¯¹åº”çš„æ‰¿è¯ºå¯†é’¥ [sâ€²]ã€æ–°è¯æ® bâ€² å’Œæ‰¿è¯ºå€¼ Bâ€² ,å³ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.237em;vertical-align:-0.487em;"></span><span class="mopen">[</span><span class="mord mathnormal">c</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.3011em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.3011em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.3011em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2934em;vertical-align:-0.3064em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3064em;"><span></span></span></span></span></span></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9869em;"><span style="top:-2.4519em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>å¯¹äº z,P éœ€åœ¨æŒ‘æˆ˜é˜¶æ®µå‰æ„é€  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1815em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">å’Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1815em;vertical-align:-0.487em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.7538em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.487em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>æ›´æ–°åçš„ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7917em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9641em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span></li>
<li>å½’çº¦åçš„æ–°é™ˆè¿°ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0019em;vertical-align:-0.25em;"></span><span class="mord"><span class="mopen">([</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></li>
<li>.....é€’å½’è§„çº¦</li>
</ol>
<h3 id="iopinteractive-oracle-proof"><a class="header" href="#iopinteractive-oracle-proof">IOP:Interactive Oracle Proof</a></h3>
<p>F -IOP çš„ç›®æ ‡æ˜¯å°† fâˆˆF çš„æ‰¿è¯ºè½¬ä¸ºé€šç”¨ç”µè·¯çš„ SNARKã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªå¤šé¡¹å¼å‡½æ•°æ— <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span> ï¼Œä½¿ç”¨ F -IOPï¼Œå¯ä»¥å°†å…¶è½¬æ¢ä¸ºä»»ä½•ç”µè·¯å¤§å°ä¸º âˆ£Câˆ£&lt;d çš„ SNARKã€‚</p>
<p><strong>Definition</strong>:<strong><strong>C</strong></strong>(<strong><strong>x</strong></strong>,<strong><strong>w</strong></strong>) æ˜¯æŸäº›ç®—æœ¯ç”µè·¯ã€‚ <strong><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0664em;vertical-align:-0.3831em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.453em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em;"><span></span></span></span></span></span></span></span></span></span></strong>  .F -IOP æ˜¯ä¸€ä¸ªè¯æ˜ç³»ç»Ÿï¼Œç”¨äºè¯æ˜ âˆƒ<strong><strong>w</strong></strong>:<strong><strong>C</strong></strong>(<strong><strong>x</strong></strong>,<strong><strong>w</strong></strong>)=0 **</p>
<p><strong>Setup</strong>: <em>S</em>(<em>C</em>)â†’(<em>pp</em>,<em>vp</em>),å…¶ä¸­ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.5828em;vertical-align:-0.5483em;"></span><span class="mopen">(</span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0344em;"><span style="top:-3.5689em;"><span class="pstrut" style="height:3.5689em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.0344em;"><span class="pstrut" style="height:3.5689em;"></span><span class="stretchy fbox" style="height:1.5689em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5344em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0344em;"><span style="top:-3.5828em;"><span class="pstrut" style="height:3.5828em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.0344em;"><span class="pstrut" style="height:3.5828em;"></span><span class="stretchy fbox" style="height:1.5828em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5483em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0344em;"><span style="top:-3.5828em;"><span class="pstrut" style="height:3.5828em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight">s</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.0344em;"><span class="pstrut" style="height:3.5828em;"></span><span class="stretchy fbox" style="height:1.5828em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5483em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span> æ˜¯å‡½æ•°çš„ Oracle.å³ vp å¯ä»¥ç†è§£ä¸º V å¯æŸ¥è¯¢çš„ä¸€å † Oracle,V å¯ä»¥è¦æ±‚æŸä¸ªç»™å®šå€¼æ˜¾ç¤ºå‡½æ•°ç»“æœ,è¿‡ç¨‹å¦‚ä¸‹</p>
<p><img src="zk-everything/zk-learning-miles/static/NPc3bcDHOoZ4KXxJGCbcuMxnn5g.png" alt="" /></p>
<ul>
<li>P é¦–å…ˆå‘é€å‡½æ•° f1 çš„ Oracle <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5689em;vertical-align:-0.5344em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0344em;"><span style="top:-3.5689em;"><span class="pstrut" style="height:3.5689em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.0344em;"><span class="pstrut" style="height:3.5689em;"></span><span class="stretchy fbox" style="height:1.5689em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5344em;"><span></span></span></span></span></span></span></span></span>ã€‚V ç¨åå¯ä»¥åœ¨å…¶é€‰æ‹©çš„ä»»ä½•ç‚¹å¯¹ f è¿›è¡Œè¯„ä¼°.åœ¨å®é™…ä¸­, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5689em;vertical-align:-0.5344em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0344em;"><span style="top:-3.5689em;"><span class="pstrut" style="height:3.5689em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.0344em;"><span class="pstrut" style="height:3.5689em;"></span><span class="stretchy fbox" style="height:1.5689em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5344em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">mmi</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
<li>V ä» Fp ä¸­éšæœºé€‰æ‹© r1 å‘é€ç»™ P.</li>
<li>é‡å¤ Step1 and Step2 t-1 è½®</li>
<li>P æœ€åå‘é€ ft çš„ Oracle <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5689em;vertical-align:-0.5344em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0344em;"><span style="top:-3.5689em;"><span class="pstrut" style="height:3.5689em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">t</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.0344em;"><span class="pstrut" style="height:3.5689em;"></span><span class="stretchy fbox" style="height:1.5689em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5344em;"><span></span></span></span></span></span></span></span></span>ã€‚</li>
<li>V å¼€å§‹éªŒè¯,éªŒè¯è¿‡ç¨‹ V å¯ä»¥è®¿é—® P ç»™å‡ºçš„æ‰€æœ‰ Oracleï¼Œä»¥åŠæ‰€æœ‰ç”Ÿæˆçš„éšæœºæ•° r å’Œå…¬å…±è¾“å…¥ <em>x</em></li>
</ul>
<h4 id="properties-of-iop"><a class="header" href="#properties-of-iop">Properties of IOP</a></h4>
<ul>
<li>
<p><strong>Completeness</strong>: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">âˆƒ</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6684em;vertical-align:-0.024em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸ¹</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord">Â Â </span><span class="mord mathnormal">a</span><span class="mord mathnormal">cce</span><span class="mord mathnormal">pt</span><span class="mord mathnormal">s</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p>
</li>
<li>
<p>Knowledge Soundness:åœ¨æ²¡æœ‰ w çš„æƒ…å†µä¸‹,æ¶æ„ P æ— æ³•è®© V ç›¸ä¿¡ä»–çŸ¥é“ä¸€ä¸ª w,ä½¿å¾— C(x,w)=0</p>
<ul>
<li>Extractor å¯ä»¥è®¿é—® statement x ä¸å‡½æ•° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> <strong>æœ¬èº«</strong>,å› ä¸ºå¯¹äºè¿™äº›å‡½æ•°æœ¬èº«çš„<strong>æ‰¿è¯ºå°±æ˜¯ä¸€ä¸ª SNARK</strong>,æ‰€ä»¥ Ectractor å¯ä»¥ä» <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> ä¸­<strong>æå– f æœ¬èº«</strong>,è¿›è€Œæå–å‡º w.</li>
</ul>
</li>
<li>
<p>Zeroknowledge :å¯ä¸æ»¡è¶³</p>
</li>
</ul>
<h4 id="example-of-iop"><a class="header" href="#example-of-iop">Example of IOP</a></h4>
<p>Polynomial IOP for claim <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>,ç”¨ç”µè·¯ C å»è¡¨ç¤ºè¯¥å…³ç³»: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6684em;vertical-align:-0.024em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8193em;vertical-align:-0.136em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>,è¿‡ç¨‹å¦‚ä¸‹</p>
<p><img src="zk-everything/zk-learning-miles/static/TOAPbh1oxooYeSxxfLYcrNutnzc.png" alt="" /></p>
<ol>
<li>P åˆ†åˆ«è®¡ç®—ä¸¤ä¸ªå¤šé¡¹å¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0771em;vertical-align:-0.3271em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mrel mtight">âˆˆ</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">W</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3271em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0771em;vertical-align:-0.3271em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mrel mtight">âˆˆ</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3271em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>,V ä¹Ÿå¯è®¡ç®— g(Z),å› ä¸º X æ˜¯å…¬å…±çš„</li>
<li>P è®¡ç®—ä¸€ä¸ªå•†å¤šé¡¹å¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">d</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span></span></span></span>,åªæœ‰åœ¨ g åŒ…å«æ‰€æœ‰ f æ ¹çš„æƒ…å†µä¸‹,q æ‰æ˜¯ä¸€ä¸ªå¤šé¡¹å¼,å³XâŠ†W.ä¸¾ä¸ªä¾‹å­</li>
</ol>
<p>æ¯”å¦‚ X={1,2},W={1,2,4}, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span> ,åªæœ‰XâŠ†W,q æ‰æ˜¯ä¸€ä¸ªæœ‰é™åŸŸä¸­çš„æœ‰æ•ˆå¤šé¡¹å¼</p>
<ol>
<li>P å‘é€ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5689em;vertical-align:-0.5344em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0344em;"><span style="top:-3.5689em;"><span class="pstrut" style="height:3.5689em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span></span><span style="top:-3.0344em;"><span class="pstrut" style="height:3.5689em;"></span><span class="stretchy fbox" style="height:1.5689em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5344em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7706em;"><span style="top:-3.305em;"><span class="pstrut" style="height:3.305em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span></span><span style="top:-2.7706em;"><span class="pstrut" style="height:3.305em;"></span><span class="stretchy fbox" style="height:1.305em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5344em;"><span></span></span></span></span></span></span></span></span> ç»™ V</li>
<li>V å‘é€ä¸€ä¸ªéšæœºæ•° r ç»™ P,è™½ç„¶ P ä¸ä¼šç”¨åˆ° r,ä½†ä»ç„¶å‘é€,è¿™è¡¨æ˜ r æ˜¯ä¸€ä¸ªå…¬å…±å€¼</li>
<li>V æŸ¥è¯¢ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5689em;vertical-align:-0.5344em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0344em;"><span style="top:-3.5689em;"><span class="pstrut" style="height:3.5689em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span></span><span style="top:-3.0344em;"><span class="pstrut" style="height:3.5689em;"></span><span class="stretchy fbox" style="height:1.5689em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5344em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7706em;"><span style="top:-3.305em;"><span class="pstrut" style="height:3.305em;"></span><span class="boxpad"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span></span><span style="top:-2.7706em;"><span class="pstrut" style="height:3.305em;"></span><span class="stretchy fbox" style="height:1.305em;border-style:solid;border-width:0.04em;"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5344em;"><span></span></span></span></span></span></span></span></span> åœ¨ r ç‚¹çš„å€¼,è®°åš w ä¸ qâ€˜.è®¡ç®— g(r).éªŒè¯ g(r)*qâ€™=w æ˜¯å¦æˆç«‹</li>
</ol>
<p><strong>å½“æˆ‘ä»¬è®¾è®¡ IOP æ—¶ï¼Œæˆ‘ä»¬æ‰€è¦åšçš„å°±æ˜¯è®¾è®¡ P å‘ V å‘é€å“ªäº› Oracleï¼Œç„¶å V åœ¨å“ªé‡ŒæŸ¥è¯¢è¿™äº› Oracleã€‚</strong></p>
<p>å®é™…ä¸­,å¯ä»¥<strong>é€šè¿‡å¤šé¡¹å¼æ‰¿è¯ºæ–¹æ¡ˆæ¥å®ä¾‹åŒ– IOP</strong>ï¼Œå…¶ä¸­è¿™äº› Oracle è¢«æ¥è‡ª P çš„æ‰¿è¯ºæ‰€å–ä»£ï¼ŒæŸ¥è¯¢åŠ¨ä½œåŸºæœ¬ä¸Šé€šè¿‡å°†æŸ¥è¯¢ç‚¹å‘é€ç»™ P æ¥å–ä»£ï¼ŒP è¿›è¡Œè¯„ä¼°å¹¶å‘å›è¯„ä¼°æ­£ç¡®å®Œæˆçš„è¯æ˜ã€‚ç„¶å V å¯ä»¥å†³å®šæ˜¯å¦æ¥å—æˆ–æ‹’ç»æœ€ç»ˆçš„è¯æ˜ã€‚</p>
<h4 id="iop--ç›¸åº”çš„-polynomial-æ–¹æ¡ˆæ„é€ -snark"><a class="header" href="#iop--ç›¸åº”çš„-polynomial-æ–¹æ¡ˆæ„é€ -snark">IOP + ç›¸åº”çš„ Polynomial æ–¹æ¡ˆæ„é€  SNARK</a></h4>
<p><img src="zk-everything/zk-learning-miles/static/ZLeLbdy7AoX0Pfxj23sctuDGn6c.png" alt="" /></p>
<p>Snarks in Practice</p>
<p><img src="zk-everything/zk-learning-miles/static/HDbFbgxo7op2lsxGDsCcGTXKn8f.png" alt="" /></p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="zk-learning-lecture-12zk--evm"><a class="header" href="#zk-learning-lecture-12zk--evm">ZK-learning lecture 12:ZK- EVM</a></h1>
<h1 id="background-and-motivation"><a class="header" href="#background-and-motivation">Background and motivation</a></h1>
<h2 id="the-diagram-of-layer1-blockchain"><a class="header" href="#the-diagram-of-layer1-blockchain">The diagram of Layer1 blockchain</a></h2>
<p><img src="zk-everything/zk-learning-miles/static/TbRYb9TrIo4phnxXR0ZcaDAMnJg.png" alt="" /></p>
<h3 id="åŒºå—é“¾ç®€å•ä»‹ç»"><a class="header" href="#åŒºå—é“¾ç®€å•ä»‹ç»">åŒºå—é“¾ç®€å•ä»‹ç»:</a></h3>
<p>åŒºå—é“¾ç½‘ç»œç”±è®¸å¤šèŠ‚ç‚¹ç»„æˆï¼Œé€šå¸¸æœ‰å¤§é‡çš„èŠ‚ç‚¹ç”¨äºæŒ‡å®šï¼Œå®ƒä»¬é€šè¿‡ P2P ç½‘ç»œäº’è¿ï¼Œæ‰€æœ‰èŠ‚ç‚¹ä¿æŒä¸ä¸Šå›¾çº¢æ¡†æ˜¾ç¤ºçš„ç›¸åŒçŠ¶æ€.è¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äºå…±äº«è´¦æœ¬çš„æ•°æ®åº“ï¼Œå› æ­¤å¯ä»¥å°†ä½™é¢æˆ–è€…ä¸€äº›ç¨‹åºä»£ç æ”¾åœ¨è¿™é‡Œ.ç„¶åä½¿ç”¨åä¸º Merkle tree çš„æ•°æ®ç»“æ„å°†æ‰€æœ‰è¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨åˆ—è¡¨ä¸­.ä»è€Œå¾—åˆ°ä¸€ä¸ªçŠ¶æ€è·¯ç”±.</p>
<p>ç„¶åå¯¹çŠ¶æ€è·¯ç”±å–æ‘˜è¦æ¥ä»£è¡¨æ‰€æœ‰çš„çŠ¶æ€.æ¯ä¸ªèŠ‚ç‚¹éƒ½éœ€è¦ç»´æŠ¤ç›¸åŒçš„æ•°æ®åº“.æ­¤å¤–èŠ‚ç‚¹è¿˜å°†è¿è¡Œç§°ä¸º EVM çš„ç›¸åŒè½¯ä»¶è¿›è¡Œä¸€äº›è®¡ç®—å¹¶æ›´æ–°çŠ¶æ€è·¯ç”±ï¼Œ</p>
<p>åŒºå—é“¾ä¹Ÿç§°ä¸º world computer è¿™ä¸ªè¯ï¼Œå› ä¸ºä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨å®ƒæ¥è¿è¡Œä»»ä½•æ¥è¿‘å»ä¸­å¿ƒåŒ–çš„ç¨‹åºï¼Œè€Œè¿è¡Œåœ¨åŒºå—é“¾ä¹‹ä¸Šçš„ç¨‹åºç§°ä¸ºæ™ºèƒ½åˆçº¦ï¼Œå› æ­¤ evm å°†ä»èŠ‚ç‚¹è®¡ç®—æœºåŠ è½½ merkle æ ‘å¶å­ç»“ç‚¹ä¸­çš„æ•°æ®åˆ° Storage ä¸­é‡å†™è¿™æ£µæ ‘å¹¶è·å¾—æ–°çš„çŠ¶æ€è·¯ç”±</p>
<h3 id="å‘é€äº¤æ˜“"><a class="header" href="#å‘é€äº¤æ˜“">å‘é€äº¤æ˜“:</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/T1SZbWqwYoNkprx4RsocTq8Pnwh.png" alt="" /></p>
<p>ç”¨æˆ·å‘é€äº¤æ˜“è‡³åŒºå—é“¾ä¸­,äº¤æ˜“ä¼šåœ¨ p2p ç½‘ç»œä¸­ä¼ æ’­,é€šè¿‡å…±è¯†ç®—æ³•åœ¨æ¯ä¸ªæ—¶éš™ä¸­é€‰æ‹©ä¸€ä¸ªææ¡ˆï¼Œ è¿™ä¸ªææ¡ˆå°†æŠŠå®ƒæ”¶åˆ°çš„è®¸å¤šäº¤æ˜“æ‰“åŒ…åˆ°ä¸€ä¸ªå—ä¸­ï¼ŒåŒæ—¶ä»¥äº¤æ˜“ä½œä¸ºè¾“å…¥è¿è¡Œ evm å¹¶æ›´æ–°çŠ¶æ€è·¯ç”±ï¼Œç„¶åå‡ºå—.åœ¨çœ‹åˆ°è¿™ä¸ªå—è¢«æäº¤åï¼Œç½‘ç»œä¸­çš„å…¶ä»–èŠ‚ç‚¹å°†ä¸‹è½½è¿™ä¸ªå—å¹¶é‡æ–°é€šè¿‡ EVM æ‰§è¡Œè¯¥å—å†…çš„äº¤æ˜“ï¼Œå°±çŠ¶æ€è·¯ç”±è¾¾æˆå…±è¯†.è¿™æ ·å§‹ç»ˆç»´æŠ¤ç›¸åŒçš„æ•°æ®åº“.</p>
<h3 id="layer1-ç‰¹ç‚¹"><a class="header" href="#layer1-ç‰¹ç‚¹">Layer1 ç‰¹ç‚¹:</a></h3>
<p>ä¼˜ç‚¹</p>
<p><strong>Secure</strong>:äº¤æ˜“å°†ç”±ä¸åŒçš„èŠ‚ç‚¹æ‰§è¡Œå¤šæ¬¡ <strong>Decentralized</strong></p>
<p>ç¼ºç‚¹</p>
<p><strong>Expensive  Slow</strong></p>
<h3 id="zk-rollup"><a class="header" href="#zk-rollup">zk-rollup</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/O49NbxyOToIM0RxWZHjct6JXnPf.png" alt="" /></p>
<p>ZK-rollup æ˜¯ä¸€ç§æ‰©å±•è§£å†³æ–¹æ¡ˆï¼Œç”¨äºè§£å†³ EVM çš„å¯æ‰©å±•æ€§é—®é¢˜.</p>
<p>ZK-rollup ä¸åƒ Layer1 å¹¿æ’­æ‰€æœ‰äº¤æ˜“ï¼Œä»¥åŠæ‹¥å¡ä¸”æ˜‚è´µçš„ P2P ç½‘ç»œ,å…¶æœ‰ä¸€ä¸ªå•ç‹¬çš„ Layer2 ç½‘ç»œå±‚ï¼Œå¯ä»¥æ›´åŠ ä¸­å¿ƒåŒ–.</p>
<p>zk-Rollup çš„åŸºæœ¬æ€æƒ³æ˜¯å°†å¤§é‡äº¤æ˜“èšåˆåˆ°ä¸€ä¸ª Rollup å—ä¸­ï¼Œå¹¶ä¸ºè¯¥é“¾ä¸‹çš„å—ç”Ÿæˆ <code>ç®€æ´,å…¬å¼€,å¯éªŒè¯</code> çš„è¯æ˜ã€‚ç„¶å Layer 1 ä¸Šçš„æ™ºèƒ½åˆçº¦åªéœ€è¦éªŒè¯è¯æ˜å¹¶<strong>ç›´æ¥åº”ç”¨</strong>æ›´æ–°çš„çŠ¶æ€ï¼Œè€Œæ— éœ€é‡æ–°æ‰§è¡Œé‚£äº›äº¤æ˜“ã€‚è¿™å¯ä»¥å¸®åŠ©èŠ‚çœä¸€ä¸ªæ•°é‡çº§çš„ gas è´¹ç”¨ï¼Œä»¥åŠæå‡ä¸€ä¸ªæ•°é‡çº§åˆ«çš„ç½‘ç»œåå.å› ä¸ºéªŒè¯è¯æ˜æ¯”é‡æ–°æ‰§è¡Œè®¡ç®—ä¾¿å®œå¾—å¤šã€‚å¦ä¸€ä¸ªèŠ‚çœæ¥è‡ªæ•°æ®å‹ç¼©ï¼ˆå³åªä¿ç•™æœ€å°çš„é“¾ä¸Šæ•°æ®ç”¨äºéªŒè¯).</p>
<p>è¿™æ ·åšä¸åŸæ¥çš„å®‰å…¨æ€§æ˜¯**ç­‰æ•ˆçš„.**èƒŒåçš„åŸç†ä¾èµ–äº zk.</p>
<p><img src="zk-everything/zk-learning-miles/static/TezmbkTqfo1TGhxCznDcAzABn3c.png" alt="" /></p>
<p><strong>ç¼–å†™å›°éš¾</strong></p>
<p>ä½†æ˜¯æ„é€ è¿™æ ·ä¸€ä¸ª Prover æ˜¯å›°éš¾çš„,å¯¹äºæŸäº›è®¡ç®—çš„è¯æ˜ï¼Œé¦–å…ˆéœ€è¦ä»¥ç”µè·¯å½¢å¼ç¼–å†™æ‰€æœ‰ç¨‹åºé€»è¾‘ï¼Œ</p>
<p>ä¹Ÿå°±æ˜¯ç”¨åŠ æ³•ä¹˜æ³•å’Œç±»ä¼¼çš„éå¸¸åº•å±‚çš„æ–¹æ³•æ–­è¨€.ç”µè·¯å¼ºè°ƒéå¸¸å¤æ‚çš„é€»è¾‘ï¼ŒåŒ…æ‹¬ for Loop ,if else å’Œæ‰€æœ‰ç¨‹åº.è¯­æ³•éå¸¸å¤æ‚.æ­¤å¤– <code>ä¸€ä¸ªç”µè·¯å¯¹åº”ä¸€ä¸ªç¨‹åº</code>ï¼Œè¿™æ„å‘³ç€å¯¹äºä¸åŒçš„åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ï¼Œéœ€è¦å®ç°è‡ªå·±çš„ç”µè·¯.ç”µè·¯ä¹Ÿéœ€è¦é€šè¿‡ä¸€ä¸ªéå¸¸ä¸¥æ ¼çš„å®‰å…¨æµ‹è¯•å®¡è®¡ï¼Œè¿™éœ€è¦å¾ˆé•¿çš„å¼€å‘æ—¶é—´.</p>
<p><strong>å…¼å®¹</strong> <code>:</code> æ¯”å¦‚ä¸€ä¸ª Prover æ— æ³•åŒæ—¶åŒ…å«æ¥è‡ª uniswap ä¸ optiswap ä¸Šçš„äº¤æ˜“.</p>
<p>æ‰€ä»¥éœ€è¦ zkevm.</p>
<h3 id="zkevm-æ¦‚å¿µ"><a class="header" href="#zkevm-æ¦‚å¿µ">zkevm æ¦‚å¿µ</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/Vzz2b87ldouf3yxIRCtcbKWqn3g.png" alt="" /></p>
<p>zkEVM æ˜¯ä¸€ç§è™šæ‹Ÿæœºï¼Œé€šè¿‡ zk è¯æ˜è®¡ç®—å’Œç°æœ‰ä»¥å¤ªåŠåŸºç¡€è®¾æ–½<strong>å…¼å®¹</strong>çš„æ–¹å¼æ‰§è¡Œæ™ºèƒ½åˆçº¦äº¤æ˜“ã€‚è¿™ä½¿å®ƒä»¬èƒ½å¤Ÿæˆä¸ºé›¶çŸ¥è¯†æ±‡æ€»ã€ç¬¬ 2 å±‚æ‰©å±•è§£å†³æ–¹æ¡ˆçš„ä¸€éƒ¨åˆ†ï¼Œä»è€Œæé«˜äº¤æ˜“ååé‡ï¼ŒåŒæ—¶é™ä½æˆæœ¬</p>
<p>å¦‚æœç¬¬ 2 å±‚å¯ä»¥è¿è¡Œä¸ºä»¥å¤ªåŠç¯å¢ƒåˆ›å»ºçš„ç¨‹åºè€Œæ— éœ€ä¿®æ”¹åº•å±‚æ™ºèƒ½åˆçº¦é€»è¾‘ï¼Œåˆ™è¯¥ Layer2 æ˜¯ EVM å…¼å®¹çš„ã€‚è¿™ä½¿å¾—ç¬¬ 2 å±‚ä¸ç°æœ‰çš„ä»¥å¤ªåŠæ™ºèƒ½åˆçº¦æ¨¡å¼ã€ä»£å¸æ ‡å‡†å’Œå·¥å…·å…¼å®¹ã€‚ä¸ EVM å…¼å®¹å¯¹äºè¿™äº›ç¬¬ 2 å±‚çš„å¹¿æ³›é‡‡ç”¨éå¸¸é‡è¦ï¼Œå› ä¸ºå®ƒä½¿ç†Ÿæ‚‰ä»¥å¤ªåŠ Solidity ç¼–ç¨‹è¯­è¨€çš„å¼€å‘äººå‘˜èƒ½å¤Ÿä½¿ç”¨ä»–ä»¬ä¹ æƒ¯çš„çš„å·¥å…·æ„å»ºé«˜åº¦å¯æ‰©å±•çš„åº”ç”¨ç¨‹åºã€‚</p>
<p><strong>ä½†æ˜¯</strong> zkevm å¾ˆéš¾ç¼–å†™,æœ‰ä»¥ä¸‹å‡ ç‚¹åŸå› </p>
<ul>
<li>**ç¬¬ä¸€ï¼Œ<strong><strong>EVM</strong></strong> å¯¹æ¤­åœ†æ›²çº¿çš„æ”¯æŒæœ‰é™ã€‚**ç›®å‰ï¼ŒEVM ä»…æ”¯æŒ BN254 é…å¯¹ã€‚ç”±äºä¸ç›´æ¥æ”¯æŒå¾ªç¯æ¤­åœ†æ›²çº¿ï¼Œå› æ­¤å¾ˆéš¾è¿›è¡Œé€’å½’è¯æ˜ã€‚åœ¨æ­¤ä¹‹ä¸‹ä¹Ÿå¾ˆéš¾ä½¿ç”¨å…¶ä»–ä¸“ç”¨åè®®ã€‚éªŒè¯ç®—æ³•å¿…é¡»æ˜¯ EVM å‹å¥½çš„ã€‚</li>
<li>**ç¬¬äºŒï¼Œ<strong><strong>EVM</strong></strong>å­—èŠ‚ä¸º 256 ä½ã€‚**EVM åœ¨ 256 ä½æ•´æ•°ä¸Šè¿è¡Œï¼ˆå°±åƒå¤§å¤šæ•°æ­£å¸¸ VM åœ¨ 32-64 ä½æ•´æ•°ä¸Šè¿è¡Œï¼‰ï¼Œè€Œ zk è¯æ˜â€œå¤©ç”Ÿåœ°â€å¤§å¤šåœ¨ç´ æ•°ä¸Šå·¥ä½œã€‚åœ¨ç”µè·¯å†…éƒ¨è¿›è¡Œâ€œä¸åŒ¹é…çš„å­—æ®µè®¡ç®—â€éœ€è¦èŒƒå›´è¯æ˜ï¼Œè¿™å°†åœ¨æ¯ä¸ª EVM æ“ä½œä¸­å¢åŠ çº¦ 100 ä¸ªçº¦æŸã€‚è¿™å°†ä½¿ EVM ç”µè·¯å¤§å°æ‰©å¤§ä¸¤ä¸ªæ•°é‡çº§ã€‚</li>
<li>**ç¬¬ä¸‰ï¼Œ<strong><strong>EVM</strong></strong> æœ‰å¾ˆå¤šç‰¹æ®Šçš„<strong><strong>æ“ä½œç </strong></strong>ã€‚**EVM ä¸ä¼ ç»Ÿ VM ä¸åŒï¼Œå®ƒæœ‰è®¸å¤šç‰¹æ®Šçš„æ“ä½œç ï¼Œä¾‹å¦‚ <code>CALL</code>ã€‚å®ƒä¹Ÿæœ‰ä¸æ‰§è¡Œä¸Šä¸‹æ–‡å’Œ gas ç›¸å…³çš„é”™è¯¯ç±»å‹ã€‚è¿™ç»™ç”µè·¯è®¾è®¡å¸¦æ¥äº†æ–°çš„æŒ‘æˆ˜ã€‚</li>
<li>**ç¬¬å››ï¼Œ<strong><strong>EVM</strong></strong> æ˜¯åŸºäºå †æ ˆçš„<strong><strong>è™šæ‹Ÿæœº</strong></strong>ã€‚**SyncVM (zksync) å’Œ Cario (starkware) çš„æ¶æ„åœ¨åŸºäºå¯„å­˜å™¨çš„æ¨¡å‹ä¸­å®šä¹‰äº†è‡ªå·±çš„ä¸­é—´è¡¨ç¤º(IR,Intermediate Representation)/ä»£æ•°ä¸­é—´è¡¨ç¤º(AIR, Algebraic Intermediate Representation)ã€‚ä»–ä»¬æ„å»ºäº†ä¸€ä¸ªä¸“é—¨çš„ç¼–è¯‘å™¨ï¼Œå°†æ™ºèƒ½åˆçº¦ä»£ç ç¼–è¯‘æˆä¸€æ–°çš„ zk å‹å¥½ IRã€‚ä»–ä»¬çš„æ–¹æ¡ˆæ˜¯è¯­è¨€å…¼å®¹è€Œä¸æ˜¯åŸç”Ÿ EVM å…¼å®¹ã€‚åŸºäºå †æ ˆçš„æ¨¡å‹å’Œç›´æ¥æ”¯æŒåŸç”Ÿé“¾å·¥å…·æ›´éš¾è¯æ˜ã€‚</li>
<li>**ç¬¬äº”ï¼Œä»¥å¤ªåŠå­˜å‚¨å±‚å¸¦æ¥å·¨å¤§å¼€é”€ã€‚**ä»¥å¤ªåŠå­˜å‚¨å±‚é«˜åº¦ä¾èµ– Keccak å’Œå·¨å¤§çš„ MPTï¼Œå®ƒä»¬éƒ½ä¸æ˜¯ zk å‹å¥½çš„ï¼Œå¹¶ä¸”éœ€è¦å·¨å¤§çš„è¯æ˜å¼€é”€ã€‚ä¾‹å¦‚ï¼ŒKeccak å“ˆå¸Œæ¯”ç”µè·¯ä¸­çš„ Poseidon å“ˆå¸Œå¤§ 1000 å€ã€‚ä½†æ˜¯ï¼Œå¦‚æœå°† Keccak æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå“ˆå¸Œç®—æ³•ï¼Œåˆ™ä¼šå¯¹ç°æœ‰çš„ä»¥å¤ªåŠåŸºç¡€è®¾æ–½é€ æˆä¸€äº›å…¼å®¹æ€§é—®é¢˜ã€‚</li>
<li>**ç¬¬å…­ï¼ŒåŸºäºæœºå™¨çš„è¯æ˜éœ€è¦å·¨å¤§çš„å¼€é”€ã€‚**å³ä½¿èƒ½å¤Ÿå¦¥å–„å¤„ç†ä¸Šè¿°æ‰€æœ‰é—®é¢˜ï¼Œä»ç„¶éœ€è¦æ‰¾åˆ°ä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·ä»¥è·å¾—ä¸€ä¸ªå®Œæ•´çš„ EVM ç”µè·¯ã€‚æ­£å¦‚æˆ‘ä»¬ä¸Šä¸€èŠ‚ä¸­æ‰€æåˆ°çš„ï¼Œå³ä½¿åƒ <code>add</code> è¿™æ ·ç®€å•çš„æ“ä½œç ä¹Ÿéœ€è¦æ•´ä¸ª EVM ç”µè·¯çš„å¼€é”€</li>
</ul>
<p>ä»¥ä¸‹æŠ€æœ¯çš„å‘å±•ä½¿å¾— zkevm å¾—ä»¥è½åœ°</p>
<ul>
<li>**å¤šé¡¹å¼æ‰¿è¯ºçš„ä½¿ç”¨ã€‚**åœ¨è¿‡å»çš„å‡ å¹´é‡Œï¼Œå¤§å¤šæ•°ç®€æ´é›¶çŸ¥è¯†è¯æ˜åè®®éƒ½åšæŒä½¿ç”¨ R1CSï¼Œå°† PCP æŸ¥è¯¢ç¼–ç åœ¨ç‰¹å®šäºåº”ç”¨ç¨‹åºçš„å¯ä¿¡è®¾ç½®ä¸­ã€‚ç”µè·¯å¤§å°é€šå¸¸ä¼šçˆ†ç‚¸ï¼Œä¸”ä¸èƒ½è¿›è¡Œè®¸å¤šè‡ªå®šä¹‰çš„ä¼˜åŒ–ï¼Œå› ä¸ºæ¯ä¸ªçº¦æŸçš„é¡¹æ•°éœ€è¦ä¸º 2ï¼ˆåŒçº¿æ€§é…å¯¹åªå…è®¸æŒ‡æ•°ä¸­çš„ä¸€æ¬¡ä¹˜æ³•ï¼‰ã€‚ä½¿ç”¨å¤šé¡¹å¼æ‰¿è¯ºæ–¹æ¡ˆï¼Œå¯ä»¥é€šè¿‡é€šç”¨è®¾ç½®ç”šè‡³é€æ˜è®¾ç½®å°†çº¦æŸæå‡åˆ°ä»»ä½•é¡¹æ•°ã€‚è¿™ä¸ºåç«¯çš„é€‰æ‹©æä¾›äº†æå¤§çš„çµæ´»æ€§ã€‚</li>
<li>**æŸ¥æ‰¾è¡¨å‚æ•°å’Œè‡ªå®šä¹‰é…ç½®çš„å‡ºç°ã€‚**å¦ä¸€ä¸ªå¼ºå¤§çš„ä¼˜åŒ–æ¥è‡ªæŸ¥æ‰¾è¡¨çš„ä½¿ç”¨ã€‚è¯¥ä¼˜åŒ–é¦–å…ˆåœ¨ Arya ä¸­æå‡ºï¼Œç„¶å Plookup ä¸­è¿›ä¸€æ­¥å‡çº§ã€‚è¿™å¯ä»¥ä¸º zk ä¸å‹å¥½çš„åŸè¯­ï¼ˆå³ï¼ŒANDã€XOR ç­‰æŒ‰ä½è¿ç®—ï¼‰èŠ‚çœå¾ˆå¤šæˆæœ¬ã€‚è‡ªå®šä¹‰é…ç½®å¯ä»¥é«˜æ•ˆåœ°è¿›è¡Œé«˜é¡¹æ•°çš„çº¦æŸã€‚TurboPlonk å’Œ UltraPlonk å®šä¹‰äº†ä¼˜é›…çš„ç¨‹åºè¯­æ³•ï¼Œä»¥ä¾¿æ›´è½»æ¾åœ°ä½¿ç”¨æŸ¥æ‰¾è¡¨å’Œå®šåˆ¶é…ç½®ã€‚è¿™å¯¹äºå‡å°‘ EVM ç”µè·¯çš„å¼€é”€éå¸¸æœ‰å¸®åŠ©ã€‚</li>
<li>**é€’å½’****è¯æ˜è¶Šæ¥è¶Šå¯è¡Œã€‚**é€’å½’è¯æ˜åœ¨è¿‡å»éœ€è¦å·¨å¤§çš„å¼€é”€ï¼Œå› ä¸ºå®ƒä¾èµ–äºç‰¹æ®Šçš„é…å¯¹å‹å¥½çš„å¾ªç¯æ¤­åœ†æ›²çº¿,è¿™å¼•å…¥äº†å¾ˆå¤§çš„è®¡ç®—å¼€é”€ã€‚ç„¶è€Œï¼Œæ›´å¤šçš„æŠ€æœ¯åœ¨ä¸ç‰ºç‰²æ•ˆç‡çš„æƒ…å†µä¸‹ä½¿è¿™æˆä¸ºå¯èƒ½ã€‚ä¾‹å¦‚ï¼ŒHalo å¯ä»¥é¿å…å¯¹é…å¯¹å‹å¥½æ›²çº¿çš„éœ€è¦ï¼Œå¹¶ä½¿ç”¨ç‰¹æ®Šçš„å†…ç§¯å‚æ•°æ¥æ‘Šé”€é€’å½’æˆæœ¬ã€‚Aztec è¡¨æ˜å¯ä»¥ç›´æ¥å¯¹ç°æœ‰åè®®è¿›è¡Œè¯æ˜èšåˆï¼ˆæŸ¥æ‰¾è¡¨å¯ä»¥å‡å°‘éåŸç”Ÿå­—æ®µæ“ä½œçš„å¼€é”€ï¼Œä»è€Œå¯ä»¥ä½¿éªŒè¯ç”µè·¯æ›´å°ï¼‰ã€‚å®ƒå¯ä»¥æå¤§åœ°æé«˜æ”¯æŒçš„ç”µè·¯å¤§å°çš„å¯æ‰©å±•æ€§ã€‚</li>
<li><strong>ç¡¬ä»¶åŠ é€Ÿä½¿è¯æ˜æ›´åŠ é«˜æ•ˆã€‚Scroll</strong> ä¸ºè¯æ˜è€…åˆ¶é€ äº†æœ€å¿«çš„ GPU å’Œ ASIC/FPGA åŠ é€Ÿå™¨ã€‚å…³äº ASIC è¯æ˜è€…çš„è®ºæ–‡ï¼Œä»Šå¹´å·²ç»è¢«æœ€å¤§çš„è®¡ç®—æœºä¼šè®®ï¼ˆISCAï¼‰æ”¶å½•ã€‚GPU è¯æ˜å™¨æ¯” Filecoin çš„å®ç°å¿«å¤§çº¦ 5 åˆ° 10 å€ã€‚è¿™å¯ä»¥å¤§å¤§æé«˜è¯æ˜è€…çš„è®¡ç®—æ•ˆç‡ã€‚</li>
</ul>
<h3 id="zkevm-åˆ†ç±»"><a class="header" href="#zkevm-åˆ†ç±»">ZKEVM åˆ†ç±»</a></h3>
<p><img src="zk-everything/zk-learning-miles/static/R0tdb0fssoyKlqxLuCScOYGfnsg.png" alt="" /></p>
<ul>
<li>Language level:é‡‡ç”¨é«˜çº§è¯­è¨€ï¼ˆä¾‹å¦‚ Solidity æˆ– Vyperï¼‰ç¼–å†™çš„ä»£ç ï¼Œå¹¶å°†å…¶ç¼–è¯‘ä¸ºæ—¨åœ¨æ”¯æŒé›¶çŸ¥è¯†è¯æ˜çš„è¯­è¨€ã€‚æœ¬è´¨ä¸Šï¼Œå®ƒä»¬ç›¸å½“äºé«˜çº§è¯­è¨€ï¼Œä½†ä¸æ˜¯å®é™…çš„ EVMã€‚å°½ç®¡åˆçº¦å¯èƒ½ä¸å…·æœ‰ç›¸åŒçš„åœ°å€ï¼Œä½†è¿™å¯ä»¥æ›´å¿«åœ°ç”Ÿæˆè¯æ˜å¹¶é™ä½æˆæœ¬ <code> Starknet</code></li>
<li>Bytecode level:ç‰ºç‰²äº†ä¸€äº› EVM åŠŸèƒ½ï¼Œä»¥å®ç°æ›´è½»æ¾çš„åº”ç”¨ç¨‹åºå¼€å‘å’Œè¯æ˜ç”Ÿæˆï¼Œä¾‹å¦‚å¯¹é¢„ç¼–è¯‘ã€VM å†…å­˜ã€å †æ ˆä»¥åŠæ™ºèƒ½åˆçº¦ä»£ç å¤„ç†æ–¹å¼çš„æ›´æ”¹ã€‚è™½ç„¶å¤§å¤šæ•°ä»¥å¤ªåŠåº”ç”¨ç¨‹åºéƒ½å¯ä»¥åœ¨è¿™ç§ç¯å¢ƒä¸­è¿è¡Œï¼Œä½†æœ‰äº›åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦é‡å†™ <code>Scroll Polygen</code></li>
<li>Consensus level:ä¸ä¼šæ”¹å˜å½“å‰ä»¥å¤ªåŠç³»ç»Ÿçš„ä»»ä½•éƒ¨åˆ†ï¼Œä»è€Œæ›´å®¹æ˜“ç”Ÿæˆé›¶çŸ¥è¯†è¯æ˜ã€‚è¿™ä½¿å¾—å®ƒä»¬ä¸æ‰€æœ‰ä»¥å¤ªåŠæœ¬æœºåº”ç”¨ç¨‹åºå®Œå…¨å…¼å®¹ï¼Œå¹¶å…è®¸é‡å¤ä½¿ç”¨åŒºå—æµè§ˆå™¨å’Œæ‰§è¡Œå®¢æˆ·ç«¯ç­‰å·¥å…·ã€‚ç„¶è€Œï¼Œä»¥å¤ªåŠåè®®çš„æŸäº›éƒ¨åˆ†éœ€è¦å¤§é‡è®¡ç®—æ¥ç”Ÿæˆé›¶çŸ¥è¯†è¯æ˜ï¼Œå¯¼è‡´ zkEVM çš„è¯æ˜æ—¶é—´è¾ƒé•¿</li>
</ul>
<p><a href="https://vitalik.eth.limo/general/2022/08/04/zkevm.html">ä¹Ÿå¯ä»¥å‚è€ƒ V ç¥çš„ 4 ç§åˆ†ç±» </a></p>
<p><img src="zk-everything/zk-learning-miles/static/HaNmbcORaoHiuNxJBE6cJlJ1nPh.png" alt="" /></p>
<h1 id="build-a-zkevm-from-scratch"><a class="header" href="#build-a-zkevm-from-scratch">Build a zkEVM from scratch</a></h1>
<h1 id="interesting-research-problems"><a class="header" href="#interesting-research-problems">Interesting research problems</a></h1>
<h1 id="other-applications-using-zkev"><a class="header" href="#other-applications-using-zkev">Other applications using zkEV</a></h1>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h2 id="lecture-16-hardware-acceleration-of-zkp"><a class="header" href="#lecture-16-hardware-acceleration-of-zkp">Lecture 16: Hardware Acceleration of ZKP</a></h2>
<h3 id="1goals-of-hw-acceleration"><a class="header" href="#1goals-of-hw-acceleration">1.Goals of HW Acceleration</a></h3>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515111025421.png" alt="image-20230515111025421" /></p>
<ul>
<li>ååé‡ï¼Œå³æ¯å•ä½æ—¶é—´æ‰§è¡Œå°½å¯èƒ½å¤šçš„æ“ä½œ</li>
<li>æˆæœ¬
<ul>
<li>å½“ä¼˜åŒ–æˆæœ¬æ—¶ï¼Œç›®æ ‡æ˜¯é™ä½æ‰§è¡ŒæŸäº›æ“ä½œæ‰€æ¶‰åŠçš„èµ„æœ¬å’Œè¿è¥è´¹ç”¨ã€‚å¯¹äºæ¯”ç‰¹å¸æŒ–æ˜æœºæ¥è¯´ï¼Œè¿™æ„å‘³ç€æœ€å¤§åŒ–æ¯ç¾å…ƒè´­ä¹°ä»·å€¼çš„å“ˆå¸Œæ•°é‡ï¼ŒåŒæ—¶æœ€å°åŒ–æ¯ä¸ªå“ˆå¸Œçš„èƒ½æºæ¶ˆè€—ï¼Œä»è€Œé™ä½è¿è¥æˆæœ¬ã€‚</li>
</ul>
</li>
<li>å»¶è¿Ÿï¼šå‡å°‘å®Œæˆå•ä¸ªæ“ä½œçš„æ—¶é—´
<ul>
<li>åœ¨é«˜é¢‘äº¤æ˜“ç­‰é¢†åŸŸï¼Œå»¶è¿Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„è€ƒè™‘å› ç´ ã€‚ ä½å»¶è¿Ÿçš„è¯æ˜ç”Ÿæˆå¯ä»¥ä¿ƒè¿›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒæˆ–æ›´å¿«çš„ç¡®å®šç”¨ä¾‹ï¼Œæ¯”å¦‚ZK Bridgesã€‚</li>
</ul>
</li>
</ul>
<h3 id="2what-needs-accelerated"><a class="header" href="#2what-needs-accelerated">2.What needs accelerated</a></h3>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515112018032.png" alt="image-20230515112018032" /></p>
<p>é¦–å…ˆè¦æ³¨æ„çš„æ˜¯æ¯ä¸ªè¯æ˜ç³»ç»ŸåŠå…¶ç›¸å…³å®ç°éƒ½æ˜¯åˆ©ç”¨ä¸åŒçš„å¯†ç åŸè¯­å’Œä¸åŒçš„è½¯ä»¶åº“æ„å»ºçš„ï¼Œåœ¨æŸä¸€ä¸ªè¯æ˜ç³»ç»Ÿä¸­è®¡ç®—æˆæœ¬æœ€é«˜çš„éƒ¨åˆ†ï¼Œåœ¨å¦å¤–ä¸åŒçš„è¯æ˜ç³»ç»Ÿå®ç°æˆ–ç”¨ä¾‹ä¸­å¯èƒ½ç›¸å¯¹æ¬¡è¦æˆ–å¯èƒ½æ ¹æœ¬ä¸ä¼šå‡ºç°ï¼Œ</p>
<p>å…¶æ¬¡ä¸åŒçš„è¯æ˜ç³»ç»Ÿä¸­ï¼Œå­˜åœ¨ä¸‰ç§è®¡ç®—é‡å¤§çš„æ“ä½œï¼ŒåŒ…æ‹¬MSMï¼ŒNTTï¼Œç®—æœ¯å“ˆå¸Œã€‚</p>
<h3 id="3msmå¤šæ ‡é‡ä¹˜æ³•"><a class="header" href="#3msmå¤šæ ‡é‡ä¹˜æ³•">3.MSMï¼šå¤šæ ‡é‡ä¹˜æ³•</a></h3>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515121131312.png" alt="image-20230515121131312" /></p>
<p>MSM æ˜¯ä¸€ç§ç”¨äºè®¡ç®—å¤šä¸ªæ ‡é‡ä¹˜æ³•ä¹‹å’Œçš„ç®—æ³•ï¼Œæˆ–è€…å®ƒå¯ä»¥è¢«è®¤ä¸ºæ˜¯æ¤­åœ†æ›²çº¿ç‚¹å’Œæ ‡é‡çš„ç‚¹ç§¯ã€‚</p>
<p>ç”±äºé—®é¢˜çš„æ€§è´¨ï¼Œæ¯ä¸ªæ ‡é‡ä¹˜æ³•æˆ–ä¸€ç»„æ ‡é‡ä¹˜æ³•éƒ½å¯ä»¥å¾ˆå®¹æ˜“åœ°å¹¶è¡ŒåŒ–ï¼Œå¹¶ä¸”å¯ä»¥ç”±ä¸åŒçš„ç¡¬ä»¶å¼•æ“æ‹†åˆ†å’Œæ“ä½œç„¶åæ±‡é›†å¹¶åœ¨æœ€åç´¯ç§¯ï¼Œæœ‰è®¸å¤šä¼˜åŒ–å¯ç”¨äºå‡å°‘è®¡ç®— MSM çš„è®¡ç®—é‡ï¼Œç”¨äºæ›´å¤§å°ºå¯¸çš„ MSM ç®—æ³•ï¼Œå¦‚pipepengerã€‚</p>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515141320803.png" alt="image-20230515141320803" />pippengersï¼Œå°†è®¡ç®—æˆæœ¬ä»çº¿æ€§å‡å°‘åˆ°O(n/logn)ï¼Œé™¤äº†ä½¿ç”¨æ”¹è¿›çš„ç®—æ³•ä¹‹å¤–ï¼Œ
è¿˜æœ‰æ›¿ä»£çš„ç‚¹è¡¨ç¤ºæ–¹æ³•ï¼ˆ<strong>Jacobian</strong>ï¼‰å’Œæ›²çº¿è¡¨ç¤ºæ–¹æ³•ï¼ˆ<strong>Edwards</strong>)å¯ç”¨äºå‡å°‘æ¯ä¸ªæ›²çº¿ä¸Šçš„åŸŸå…ƒç´ çš„æ“ä½œæ€»æ•°</p>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515142135825.png" alt="image-20230515142135825" />é€šè¿‡å°†å®ƒä»¬ä»åƒ CPU è¿™æ ·çš„ä¸»æœºè®¾å¤‡è½¬ç§»åˆ°æ›´å¹¶è¡Œçš„æ¶æ„ï¼Œå¦‚ GPUï¼Œå¯ä»¥æé«˜è®¡ç®—æ•ˆç‡ã€‚ç„¶è€Œï¼Œå½“å°†æ“ä½œä»ä¸»æœºè®¾å¤‡ç§»åŠ¨åˆ°å¤–å›´è®¾å¤‡æ—¶ï¼Œå¿…é¡»è®°ä½ä¸€ä»¶äº‹æƒ…ï¼Œå³æ•°æ®ä¹Ÿå¿…é¡»è¢«ç§»åŠ¨ä»¥è¿›è¡Œè®¡ç®—ã€‚åœ¨å¤šæ ‡é‡ä¹˜æ³•çš„æƒ…å†µä¸‹ï¼Œæ ‡é‡å’Œç‚¹å¿…é¡»ä»ä¸»æœºç§»åŠ¨åˆ°åŠ é€Ÿå™¨ä¸Šè¿›è¡Œè®¡ç®—ã€‚è¿™ä¸¤ä¸ªè®¾å¤‡ä¹‹é—´å¯ç”¨çš„é€šä¿¡å¸¦å®½é€šå¸¸ä¼šé™åˆ¶åŠ é€Ÿå™¨çš„æœ€å¤§æ€§èƒ½ã€‚</p>
<h3 id="4ntt"><a class="header" href="#4ntt">4.NTT</a></h3>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515143228424.png" alt="image-20230515143228424" /></p>
<p>NTT æ˜¯ä¸€ç§ç”¨äºå°†ä¸¤ä¸ªå¤šé¡¹å¼ç›¸ä¹˜çš„ç®—æ³•
NTT ç±»ä¼¼äºå…¶ä»–ç®—æ³•ï¼Œä¾‹å¦‚ fft æˆ– DFTï¼Œä½†å®ƒçš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äº<code>å®ƒå¯¹æœ‰é™åŸŸå…ƒç´ è¿›è¡Œè¿ç®—</code>ã€‚</p>
<p>å®ç° NTT çš„å¸¸ç”¨ç®—æ³•ä¹‹ä¸€æ˜¯Cooley-Tukeyç®—æ³•ï¼Œè¯¥ç®—æ³•å°†å¤šé¡¹å¼ä¹˜æ³•çš„å¤æ‚æ€§ä»Oï¼ˆn^2ï¼‰é™ä½åˆ°Oï¼ˆnlog nï¼‰é˜¶</p>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515143651529.png" alt="image-20230515143651529" />
ç±»ä¼¼äº MSM åœ¨ä¸»æœºè®¾å¤‡ä¸Šæ‰§è¡Œ NTT æ—¶ï¼Œæ ‡é‡ä¹Ÿå¿…é¡»å†æ¬¡ç§»è‡³åŠ é€Ÿå™¨ é€šä¿¡å¸¦å®½å°†é™åˆ¶åŠ é€Ÿå™¨çš„æœ€å¤§å¯èƒ½æ€§èƒ½ï¼Œä½†æ˜¯ <code>NTTä¸å®¹æ˜“å¹¶è¡ŒåŒ–</code>ã€‚
æ¯ä¸ªå…ƒç´ å¿…é¡»åœ¨ç®—æ³•æ“ä½œæœŸé—´ä¸å„ç§å…¶ä»–å…ƒç´ äº¤äº’ï¼Œè¿™æ„å‘³ç€é—®é¢˜ä¸èƒ½è½»æ˜“è¿›ä¸€æ­¥åˆ’åˆ†ï¼Œå› ä¸ºè¿™äº›å…ƒç´ ä¸æ¯ä¸ªå…ƒç´ äº¤äº’ï¼Œå®ƒä»¬å¿…é¡»ä¿å­˜åœ¨å†…å­˜ä¸­å¹¶åœ¨å¼ºåŠ <code>é«˜å†…å­˜è¦æ±‚</code>çš„æƒ…å†µä¸‹è¿è¡Œ</p>
<h3 id="5ç®—æœ¯hash"><a class="header" href="#5ç®—æœ¯hash">5.ç®—æœ¯hash</a></h3>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515144248585.png" alt="image-20230515144248585" /></p>
<p>è®¸å¤šé›¶çŸ¥è¯†è¯æ˜ç”¨ä¾‹ä¸­çš„ç®—æœ¯å“ˆå¸Œå®ƒè¦æ±‚</p>
<p>è¯æ˜å“ˆå¸ŒåŸåƒçš„çŸ¥è¯†æˆ–åˆ©ç”¨å“ˆå¸Œ ï¼ŒMerkle  rootså’Œ Merkel åŒ…å«è·¯å¾„æœ‰æ•ˆåœ°è¡¨ç¤ºç”µè·¯å¤–éƒ¨çš„æ•°æ®ã€‚
ç®—æœ¯å“ˆå¸Œå‡½æ•°ï¼ˆå¦‚ Poseidonï¼Œrescue Primeï¼‰é€šå¸¸ç”¨äºä¼ ç»Ÿæ•£åˆ—å‡½æ•°ï¼ˆå¦‚ <code>ShAç³»åˆ—</code>å“ˆå¸Œå‡½æ•°ï¼‰ã€‚</p>
<p>é€‰æ‹©è¿™äº›å“ˆå¸Œå‡½æ•°æ˜¯å› ä¸ºè™½ç„¶æœ¬èº«å®ƒä»¬çš„è®¡ç®—æˆæœ¬æ›´é«˜ï¼Œ<code>ä½†åœ¨ç”µè·¯å†…éƒ¨ä½¿ç”¨æ—¶ï¼Œéƒ¨ç½²æ•ˆç‡ä¼šæ›´é«˜</code>ï¼Œå› ä¸ºè¿™äº›å“ˆå¸Œå‡½æ•°çš„constraintsæ•°é‡ä¼šæ›´å°‘ã€‚
åœ¨å®ä¾‹åŒ–å“ˆå¸Œå‡½æ•°æ—¶å¯ä»¥é€‰æ‹©è®¸å¤šç®—æ³•å‚æ•°ï¼Œè¿™å¯èƒ½ä¼šå½±å“è®¡ç®—æˆæœ¬ã€‚å…¶ä¸­ä¸€äº›å‚æ•°åŒ…æ‹¬<code>æœ‰é™åŸŸå¤§å°ï¼Œæœ‰é™åŸŸé€‰æ‹©çš„ç´ æ•°å¤§å°ï¼ŒMDS çŸ©é˜µç»“æ„</code>ç­‰ã€‚</p>
<p>ç®—æœ¯å“ˆå¸ŒåŸè¯­çš„æœ‰æ•ˆå®ç°ä¸»è¦ç”±<code>æ¨¡ä¹˜æ³•</code>é©±åŠ¨ï¼Œè¯æ˜ç”Ÿæˆä¸­æ¶‰åŠçš„è®¡ç®—é‡å¤§çš„æ“ä½œé€šå¸¸<code>å› ç³»ç»Ÿè€Œå¼‚</code>ã€‚</p>
<img src="zk-everything/zk-learning-miles/./pic/image-20230515145655014.png" alt="image-20230515145655014" style="zoom:150%;" />
<p>è¿™äº›æ“ä½œå–å†³äºæ‰¿è¯ºæ–¹æ¡ˆï¼Œåƒ<code>KZG</code>è¿™æ ·çš„æ‰¿è¯ºæ–¹æ¡ˆä¼šå¯¼è‡´åœ¨ç”Ÿæˆè¯æ˜è¿‡ç¨‹ä¸­ MSM æ“ä½œä¼šä¸»å¯¼ã€‚</p>
<p>è€Œå½“ä½¿ç”¨<code>FRI</code>æ‰¿è¯ºæ–¹æ¡ˆæ—¶ï¼Œè¯æ˜ç”Ÿæˆè¿‡ç¨‹é€šå¸¸ç”± NTT ä¸»å¯¼ã€‚</p>
<p>è®¸å¤š snark ç³»ç»Ÿï¼Œä¾‹å¦‚groth16 å’Œ Marlinç”± MSM ä¸»å¯¼ï¼Œè€Œ Starks æ€»ä½“ä¸Šé€šå¸¸ç”± NTT ä¸»å¯¼ã€‚</p>
<p>ä½†æ˜¯è¿™ä¸‰ä¸ªå…ˆå‰è®¨è®ºçš„å¯†ç åŸè¯­ï¼ˆMSMï¼ŒNTTï¼Œç®—æœ¯å“ˆå¸Œï¼‰åœ¨åŠ é€Ÿä¹‹å‰åœ¨æ‰€æœ‰è¯æ˜ç³»ç»Ÿä¸­å æ®äº†ä¸‰åˆ†ä¹‹äºŒæˆ–æ›´å¤šçš„æ—¶é—´
è¿™ä¸‰ä¸ªæ“ä½œå¯èƒ½çœ‹èµ·æ¥æˆªç„¶ä¸åŒï¼Œä½†å®ƒä»¬å®é™…ä¸Šå…±äº«ä¸€äº›åŸºç¡€ç»„ä»¶ã€‚</p>
<p>æ¯”å¦‚MSM and NTTçš„å…¬å…±åŸºç¡€ç»„ä»¶æ˜¯åŸŸå’Œæ›²çº¿æ“ä½œï¼Œè¿™äº›æ“ä½œçš„æ ¸å¿ƒä¸»è¦ç”±åŸŸä¸Šçš„ç®—æœ¯é©±åŠ¨ï¼Œç‰¹åˆ«æ˜¯<code>æ¨¡ä¹˜æ³•</code></p>
<p>å› æ­¤è™½ç„¶è¿™äº›ç®—æ³•çš„ç»“æ„å½¼æ­¤ï¼Œå¤§ä¸ç›¸åŒï¼Œä½†å®ƒä»¬æ˜¯<code>åŸºç¡€çš„æ€§èƒ½é€šå¸¸æºè‡ªç¡¬ä»¶æ‰§è¡Œæ¨¡ä¹˜æ³•çš„èƒ½åŠ›</code> </p>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515150923268.png" alt="image-20230515150923268" /></p>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„ä¸€ä»¶æœ‰è¶£çš„äº‹æƒ…æ˜¯æ•°æ®å¤§å°ä¸æ¨¡ä¹˜æ³•è®¡ç®—æˆæœ¬ä¹‹é—´çš„å…³ç³»ï¼Œ
å½“æ•°æ®å¤§å°å‘ˆçº¿æ€§å¢é•¿,æ¨¡ä¹˜æ³•çš„è®¡ç®—æˆæœ¬ç›¸å¯¹äºåŸŸçš„å¤§å°æ˜¯N^2ã€‚</p>
<p>è¿™æ„å‘³ç€éšç€åŸŸå¤§å°çš„å¢é•¿ï¼ŒåŠ é€Ÿå™¨æ€§èƒ½å¯èƒ½å–å†³äºæ“ä½œçš„è®¡ç®—æˆæœ¬ï¼Œ
ä½†å¯¹äºè¾ƒå°çš„åŸŸå¤§å°ï¼ŒåŠ é€Ÿå™¨å¯èƒ½ä¼šå—åˆ°ä¸»æœºå¯ç”¨å¸¦å®½çš„ç“¶é¢ˆ</p>
</blockquote>
<p>è¿™ç§äºŒåˆ†æ³•å‡¸æ˜¾äº†åœ¨å¼€å§‹è®¾è®¡ç¡¬ä»¶åŠ é€Ÿç³»ç»Ÿæ—¶ç†è§£è¯æ˜ç³»ç»Ÿçš„å…·ä½“å‚æ•°çš„é‡è¦æ€§ã€‚</p>
<p>å®ƒä¹Ÿå‡¸æ˜¾äº†è®¾è®¡èƒ½å¤ŸæœåŠ¡äºå„ç§è¯æ˜ç³»ç»Ÿå’Œå‚æ•°çš„ç¡¬ä»¶åŠ é€Ÿè®¾å¤‡æˆ–å®ç°çš„éš¾åº¦ã€‚</p>
<h3 id="6æé«˜è¯æ˜ç”Ÿæˆæ€§èƒ½"><a class="header" href="#6æé«˜è¯æ˜ç”Ÿæˆæ€§èƒ½">6.æé«˜è¯æ˜ç”Ÿæˆæ€§èƒ½</a></h3>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515153042757.png" alt="image-20230515153042757" /></p>
<p>æ”¹å–„è¯æ˜ç”Ÿæˆæ€§èƒ½çš„ç¬¬ä¸€æ­¥æ˜¯äº†è§£æ‰€ä½¿ç”¨çš„è¯æ˜ç³»ç»Ÿå’Œç”¨ä¾‹çš„è®¡ç®—ã€å†…å­˜å’Œå¸¦å®½æˆæœ¬ï¼Œé€šè¿‡å°†é«˜çº§æ“ä½œï¼ˆå¦‚ MSM å’Œ NTTï¼‰åˆ†è§£ä¸ºè®¡ç®—å®ƒä»¬æ‰€éœ€çš„æ¨¡ä¹˜æ•°é‡ã€‚é€šå¸¸å¯ä»¥åœ¨å®Œæˆå®ç°ä¹‹å‰ä¼°ç®—è¯æ˜ç³»ç»Ÿåœ¨å„ç§ç¡¬ä»¶å¹³å°ä¸Šçš„æ€§èƒ½ã€‚</p>
<p>ç„¶è€Œï¼Œä¸ºäº†ç¡®ä¿ä¼°è®¡æ˜¯å‡†ç¡®çš„ï¼Œæœ‰è®¸å¤šå‚æ•°åº”è¯¥æå‰çŸ¥é“</p>
<p><code>ç¬¬ä¸€ä¸ªæœ€é‡è¦çš„å‚æ•°</code>æ˜¯è¯æ˜ç³»ç»Ÿä¸­æ¯ä¸ªæ“ä½œçš„æ•°é‡ï¼Œ
ä¾‹å¦‚ä¸€äº›è¯æ˜ ç³»ç»Ÿæ¯ä¸ªè¯æ˜å¯èƒ½éœ€è¦å››ä¸ªæˆ–æ›´å¤š msms
è€Œå…¶ä»–ç³»ç»Ÿå¯èƒ½åªéœ€è¦ä¸¤ä¸ª</p>
<p><code>ç¬¬äºŒä¸ªå…³é”®å› ç´ </code>æ˜¯é€šå¸¸éœ€è¦è®¡ç®—çš„æ“ä½œçš„å¤§å°ï¼Œä¸åŒçš„ç”¨ä¾‹å°†å¯¼è‡´æ¯ä¸ªæ“ä½œçš„ä¸åŒå¤§å°
ä¾‹å¦‚åœ¨æŸäº›ç”¨ä¾‹ä¸­ MSMå°†åªæœ‰ 1000 çš„å¤§å°ï¼Œè€Œåœ¨å¦ä¸€ä¸ªç”¨ä¾‹ä¸­ï¼Œå®ƒå¯èƒ½æ˜¯ 1000 ä¸‡æˆ–æ›´å¤š</p>
<p><code>ç¬¬ä¸‰ä¸ªå› ç´ </code>æ˜¯ç¡®å®šçš„æ˜¯åŸŸå’Œæ›²çº¿çš„å¤§å°ï¼Œè¿™å°†æœ‰åŠ©äºå‘ŠçŸ¥æ¯ä¸ªæ¨¡å—åŒ–ç®—æœ¯è¿ç®—çš„å¸¦å®½å’Œè®¡ç®—å¤æ‚æ€§</p>
<p><code>æ­¤å¤–</code>ï¼Œç‚¹çš„è¡¨è¿°å½¢å¼ï¼ˆAffine or Jacobianï¼‰ï¼Œæ¨¡è¿ç®—ç­‰ç­‰
<code>æœ€å</code>è¿˜æœ‰å„ç§å…¶ä»–è¾ƒå°çš„å› ç´ å¯èƒ½æœ‰åŠ©äºè¯æ˜ç³»ç»Ÿçš„æ€§èƒ½
ä¸€æ—¦æ‰€æœ‰è¿™äº›å‚æ•°éƒ½ç¡®å®šäº†ï¼Œæ‰§è¡Œè¯æ˜æˆ–è¯æ˜ç”Ÿæˆè¿‡ç¨‹æ‰€éœ€çš„æ¨¡ä¹˜æ¬¡æ•°å¯ä»¥å¾ˆå®¹æ˜“åœ°è®¡ç®—å‡ºæ¥ï¼Œæœ‰äº†è¿™ä¸ªæ•°å­—ï¼Œå°±å¯ä»¥ 
ä¸ç»™å®šç¡¬ä»¶å¹³å°çš„æ¨¡å‹æ€§èƒ½è¿›è¡Œæ¯”è¾ƒï¼Œä»¥ä¾¿åœ¨äº†è§£éœ€è¦æ‰§è¡Œçš„è®¡ç®—çš„æƒ…å†µä¸‹å¾—å‡ºæ€§èƒ½ä¼°è®¡æˆ–è®¡ç®—æ—¶é—´</p>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515155501729.png" alt="image-20230515155501729" />
ç¡¬ä»¶åŠ é€Ÿçš„ä¸‹ä¸€æ­¥æ˜¯ä¸ºè¿™äº›å·¥ä½œè´Ÿè½½é€‰æ‹©åˆé€‚çš„ç¡¬ä»¶-ä¸»è¦ç”±æ¨¡ä¹˜æ³•é©±åŠ¨</p>
<p>åº”è¯¥å¯»æ‰¾å¯ä»¥å¿«é€Ÿä¸”å»‰ä»·åœ°æ‰§è¡Œå¤§é‡ä¹˜æ³•çš„ç¡¬ä»¶å¹³å°</p>
<p>å¯é€šè¿‡æŸ¥çœ‹å¹³å°ä¸Šç¡¬ä»¶ä¹˜æ³•å™¨ä»¥åŠæ¯ä¸ªä¹˜æ³•å™¨å¯ä»¥æ‰§è¡Œçš„é€Ÿåº¦å’Œé¢‘ç‡æ¥è¯„ä¼°ç»™å®šç¡¬ä»¶å¹³å°çš„ä¼°è®¡æ€§èƒ½</p>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515162532683.png" alt="image-20230515162532683" /></p>
<p>ä¸Šå›¾æ˜¯ä¸€ä¸ªåŒ…å«å››ä¸ªç¡¬ä»¶å¹³å°çš„è¡¨æ ¼ï¼šæ¡Œé¢CPUã€æœåŠ¡å™¨ CPUã€FPGA å’Œ GPU</p>
<ul>
<li>ç¬¬ä¸€ä¸ªå¹³å°ï¼šæ¡Œé¢ CPU
<ul>
<li>åŒ…å«å…«ä¸ªå†…æ ¸ï¼Œæ¯ä¸ªå†…æ ¸éƒ½æœ‰ä¸€ä¸ª 64 x 64 ä½ä¹˜æ³•å™¨ï¼Œå·¥ä½œé¢‘ç‡ä¸º 5GHz</li>
<li>æ­¤å¹³å°çš„ä¹˜æ³•åŠŸç‡ä¼°è®¡çº¦ä¸º164 è¯¥æ•°å­—çš„è®¡ç®—æ–¹æ³•æ˜¯å°†ä¹˜æ³•å™¨çš„æ•°é‡ã€ä¹˜æ³•å™¨å¤§å°å’Œé¢‘ç‡ç›¸ä¹˜ï¼Œç„¶åé™¤ä»¥ 1000</li>
</ul>
</li>
<li>ç¬¬äºŒä¸ªå¹³å°ï¼šæœåŠ¡å™¨ CPU 
<ul>
<li>åŒ…å«96 ä¸ªå†…æ ¸ï¼Œæ¯ä¸ªå†…æ ¸éƒ½æœ‰ä¸€ä¸ªMultiplierï¼Œä½†ä»¥è¾ƒä½çš„é¢‘ç‡è¿è¡Œï¼Œè¿™ä¸ªå¹³å°æœ‰å¤§çº¦ 900 çš„Multièƒ½åŠ›ã€‚æ˜¯æ¡Œé¢å¤„ç†å™¨çš„äº”å€</li>
</ul>
</li>
<li>ç¬¬ä¸‰ä¸ªå¹³å°ï¼šFPGA
<ul>
<li>ä¸æœåŠ¡å™¨ä¸Šå­˜åœ¨çš„ 96 ä¸ªç›¸æ¯”ï¼Œè¶…è¿‡ 6000ä¸ªä¹˜æ³•å™¨ã€‚è™½ç„¶ä¹˜æ³•å™¨æ•°é‡å¤§çº¦æ˜¯æœåŠ¡å™¨CPUä¹˜æ³•å™¨æ•°é‡çš„ 60 å€ï¼Œä½†ç”±äºä¹˜æ³•å™¨å¤§å°å’Œé¢‘ç‡çš„å‡å°‘ï¼Œä¹˜æ³•è¿ç®—çš„åŠŸç‡å°äºæœåŠ¡å™¨ CPU çš„ä¸¤å€ã€‚</li>
</ul>
</li>
<li>ç¬¬å››ä¸ªå¹³å°ï¼šGPU
<ul>
<li>å¤§çº¦5000ä¸ª32*32ä½çš„ä¹˜æ³•å™¨ï¼Œä»¥ 1.7 GHz çš„é¢‘ç‡è¿è¡Œï¼Œè¿™äº§ç”Ÿäº†å¤§çº¦ 9000ä¹˜æ³•èƒ½åŠ›</li>
<li>ç›¸è¾ƒäºFPGAï¼Œæ‹¥æœ‰æ›´å¤§çš„ä¹˜æ³•å™¨å¤§å°å’Œæ›´é«˜çš„å·¥ä½œé¢‘ç‡ï¼Œæ€§èƒ½å¾—åˆ°æé«˜</li>
</ul>
</li>
</ul>
<blockquote>
<p>å…³äºè¿™äº›åº•å±‚ç¡¬ä»¶æ¶æ„åŠå…¶å¯¹æ¨¡å—æ€§èƒ½çš„å½±å“ï¼Œå¼ºçƒˆæ¨èSimon puffer å‡ å¹´å‰åœ¨æ–¯å¦ç¦åŒºå—é“¾ä¼šè®®ä¸Šçš„æ¼”è®²ï¼Œå®ƒå¯ä»¥åœ¨ YouTube ä¸Šæ‰¾åˆ° </p>
</blockquote>
<p>è¿™äº›åˆ†æä»…çªå‡ºç¡¬ä»¶å¹³å°çš„åŸºç¡€åŠŸèƒ½ï¼Œ</p>
<p>ä¸ºäº†å®ç°æé«˜æ€§èƒ½å¹¶è¾¾åˆ°ç¡¬ä»¶åŠ é€Ÿçš„ç›®æ ‡ï¼Œé€šå¸¸è¿˜å¿…é¡»è€ƒè™‘å…¶ä»–å› ç´ ã€‚</p>
<p>åŒ…æ‹¬å®ç°ç†è®ºæ€§èƒ½çš„èƒ½åŠ›ã€éƒ¨ç½²çš„ä¾¿åˆ©æ€§ã€è¿è¥æˆæœ¬ã€esaç¼–ç¨‹å’Œè®¸å¤šå…¶ä»–å› ç´ </p>
<p>æˆåŠŸçš„ç¡¬ä»¶åŠ é€Ÿéœ€è¦å…³æ³¨çš„ä¸¤ä¸ªå…³é”®é¢†åŸŸ</p>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515171544562.png" alt="image-20230515171544562" /></p>
<p>é¦–å…ˆæ˜¯é€‰æ‹©é€‚åˆç›®æ ‡å¹³å°çš„ç¡¬ä»¶å‹å¥½ç®—æ³•</p>
<p>é’ˆå¯¹ GPU å’Œ FPGA è¿™æ ·çš„ç›®æ ‡å¹³å°å…·æœ‰æ•°åƒä¸ªæ ¸å¿ƒï¼Œæœ€é€‚åˆä½¿ç”¨é«˜åº¦å¯å¹¶è¡ŒåŒ–çš„ç®—æ³•ã€‚æ­¤å¤–ï¼Œåœ¨é€‰æ‹©ç®—æ³•æ—¶ï¼Œåº”é€‰æ‹©æ—¨åœ¨é€šè¿‡å‡å°‘æ‰€éœ€æ“ä½œæ•°é‡æ¥é™ä½æ€»è®¡ç®—æˆæœ¬çš„ç®—æ³•ã€‚</p>
<p>ä¸€æ—¦é€‰æ‹©äº†ç®—æ³•ï¼Œæœ€åä¸€æ­¥æ˜¯åˆ›å»ºé«˜æ•ˆçš„å®ç°ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œéœ€è¦é‡æ–°æ„é€ ç®—æ³•ä»¥æ›´å¥½åœ°åŒ¹é…ç›®æ ‡å¹³å°çš„ç¡¬ä»¶èƒ½åŠ›ã€‚é™¤äº†é‡æ„ç®—æ³•å¤–ï¼Œé€šå¸¸è¿˜éœ€è¦ä½¿ç”¨ä½çº§æ±‡ç¼–åŸè¯­æ¥æ›´å……åˆ†åœ°åˆ©ç”¨ç¡¬ä»¶èµ„æºå¹¶å®ç°æœ€å¤§çš„æ€§èƒ½ã€‚</p>
<h3 id="7ç¡¬ä»¶åŠ é€Ÿå­˜åœ¨çš„é™åˆ¶ä¸é™·é˜±"><a class="header" href="#7ç¡¬ä»¶åŠ é€Ÿå­˜åœ¨çš„é™åˆ¶ä¸é™·é˜±">7.ç¡¬ä»¶åŠ é€Ÿå­˜åœ¨çš„é™åˆ¶ä¸é™·é˜±</a></h3>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515172632660.png" alt="image-20230515172632660" /></p>
<p>åœ¨è¿½æ±‚ç¡¬ä»¶åŠ é€Ÿæ—¶ï¼Œä¹˜æ³•ä¸æ˜¯å”¯ä¸€éœ€è¦çš„èµ„æºã€‚è™½ç„¶è¿™äº›é«˜çº§åŸè¯­ä¸»è¦ç”±æ¨¡æ•°ä¹˜æ³•ç»„æˆï¼Œä½†ç®—æœ¯å•å…ƒä¸­çš„å…¶ä»–è®¡ç®—èµ„æºé€šå¸¸ä¹Ÿæ˜¯å¿…éœ€çš„ã€‚æ­¤å¤–ï¼Œæ ¹æ®æ­£åœ¨åŠ é€Ÿçš„æ“ä½œçš„å¤§å°å’Œç±»å‹ï¼Œéè®¡ç®—èµ„æºä¹Ÿå¯èƒ½æˆä¸ºç“¶é¢ˆã€‚ä¾‹å¦‚ï¼Œåƒ <code>NTT è¿™æ ·çš„æ“ä½œæœ‰æ—¶ä¼šå—åˆ°å†…å­˜è®¿é—®é€Ÿåº¦çš„ç“¶é¢ˆé™åˆ¶ã€‚</code></p>
<p>å¦å¤–ï¼Œå¯¹äºé—®é¢˜è§„æ¨¡è¾ƒå¤§çš„ç”¨ä¾‹ï¼Œæœ‰æ—¶æ‰€éœ€æ•°æ®æ— æ³•å…¨éƒ¨ åœ¨ç›®æ ‡å¹³å°çš„å†…å­˜ä¸­å®¹çº³ï¼Œä»è€Œå¯¼è‡´æ€§èƒ½é™ä½ã€‚å¯¹äºè¿æ¥åˆ°ä¸»æœºç³»ç»Ÿçš„åŠ é€Ÿå™¨ï¼Œé€šä¿¡å¸¦å®½ä¹Ÿå¯èƒ½æˆä¸ºç“¶é¢ˆã€‚ç›®å‰ï¼Œè®¸å¤š GPU å’Œ FPGA ç¡¬ä»¶åŠ é€Ÿçš„ <code>NTT å®ç°å—é™äºå®ƒä»¬åœ¨ä¸»æœºå’ŒåŠ é€Ÿå™¨ä¹‹é—´ä¼ è¾“æ•°æ®çš„èƒ½åŠ›ï¼Œè€Œä¸æ˜¯è®¡ç®—èµ„æº</code>ã€‚æœ‰æ—¶å¯ä»¥é€šè¿‡å°†æ•°æ®ä¿ç•™åœ¨åŠ é€Ÿå™¨ä¸Šæ¥å‡å°‘å¸¦å®½éœ€æ±‚ï¼Œä»è€Œç¼“è§£æˆ–æ¶ˆé™¤è¿™äº›ç“¶é¢ˆã€‚</p>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515172813446.png" alt="image-20230515172813446" /></p>
<blockquote>
<p>æ•°æ®ç§»åŠ¨æˆä¸ºç“¶é¢ˆè€Œä¸æ˜¯æ•°æ®è®¡ç®—ä¸ä»…åœ¨ NTT å’Œ ZKP ç³»ç»Ÿä¸­å‡ºç°ï¼Œè€Œä¸”åœ¨å¤§æ•°æ®å’Œé«˜æ€§èƒ½è®¡ç®—ç¯å¢ƒä¸­æ™®éå­˜åœ¨è¿™ç§è¶‹åŠ¿ã€‚<code>å¯¹äºé«˜åº¦å¹¶è¡Œçš„ç®—æ³•ï¼Œè®¡ç®—é€Ÿåº¦å¾€å¾€æ¯”æ•°æ®ç§»åŠ¨æœ¬èº«æ›´å¿«ï¼Œå› æ­¤ç¡¬ä»¶åŠ é€Ÿè®¾è®¡åº”å°½é‡å‡å°‘æ•°æ®ç§»åŠ¨ã€‚</code></p>
</blockquote>
<p>åœ¨ä½¿ç”¨ä¸»æœºå¤–åŠ é€Ÿå™¨æ—¶ï¼Œå¦ä¸€ä¸ªéœ€è¦è€ƒè™‘çš„å› ç´ æ˜¯å°†æ•°æ®ç§»åŠ¨åˆ°åŠ é€Ÿå™¨å’Œè¿”å›ä¸»æœºçš„æ—¶é—´ã€‚</p>
<p>å¯¹äºå°é—®é¢˜ï¼Œæœ‰æ—¶åœ¨ä¸»æœºä¸Šç›´æ¥è¿›è¡Œè®¡ç®—å¯èƒ½æ¯”åœ¨åŠ é€Ÿå™¨ä¸Šæ›´é«˜æ•ˆã€‚</p>
<blockquote>
<p>ç¡¬ä»¶åŠ é€Ÿçš„<code>æœ€åä¸€ä¸ªé™·é˜±</code>æ˜¯å¹¿ä¸ºäººçŸ¥çš„å¥¥å§†å¾·å°”å®šå¾‹æˆ–è´å°”å®šå¾‹ï¼Œå®ƒæŒ‡å‡ºï¼Œé€šè¿‡ä¼˜åŒ–ç³»ç»Ÿçš„å•ä¸ªéƒ¨åˆ†æˆ–å•ä¸ªéƒ¨åˆ†è·å¾—çš„æ€»ä½“æ€§èƒ½æé«˜å–å†³äºæ”¹è¿›éƒ¨åˆ†å®é™…ä½¿ç”¨çš„æ—¶é—´å æ€»æ—¶é—´çš„æ¯”ä¾‹ã€‚</p>
</blockquote>
<p>æ›´ç®€å•åœ°è¯´ï¼Œåœ¨ ZKP ç³»ç»Ÿä¸­ï¼Œå¦‚æœ MSMã€NTT å’Œç®—æœ¯å“ˆå¸Œå æ®å¤§çº¦ 65% çš„æ—¶é—´ï¼Œå³ä½¿è¿™äº›æ“ä½œè¢«æ¶ˆé™¤ï¼Œæœ€å¤§çš„åŠ é€Ÿæ¯”ä¹Ÿåªèƒ½è¾¾åˆ° 3 å€ã€‚è€ƒè™‘åˆ°è¯æ˜ç”Ÿæˆä¸æœ¬åœ°è®¡ç®—çš„æ—¶é—´å¼€é”€ç›¸å·®å‡ åä¸‡åˆ°ä¸€ç™¾ä¸‡å€ï¼Œæ˜¾ç„¶ä¼˜åŒ–å·¥ä½œä¸ä¼šæ­¢æ­¥äºæ­¤ã€‚</p>
<h3 id="8filecoinçš„åŠ é€Ÿä¾‹å­"><a class="header" href="#8filecoinçš„åŠ é€Ÿä¾‹å­">8.FileCoinçš„åŠ é€Ÿä¾‹å­</a></h3>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515174119119.png" alt="image-20230515174119119" /></p>
<p>è¿‡å»å‡ å¹´ï¼ŒFilecoin ä¸€ç›´æ˜¯æœ€å¤§çš„ ZKP ç³»ç»Ÿä¹‹ä¸€ï¼Œæ¯å¤©å¹³å‡ç”Ÿæˆ 1 åˆ° 5 ç™¾ä¸‡ä¸ªè¯æ˜ã€‚</p>
<p>Filecoin ä½¿ç”¨ ZKPS æ¥è¿›è¡Œå‰¯æœ¬è¯æ˜ (PRORAP)ï¼Œè¿™æ˜¯ä¸€ç§è¯æ˜ä½ å·²ç»åˆ›å»ºäº†æ•°æ®é›†çš„å”¯ä¸€å‰¯æœ¬çš„åŠ å¯†æ–¹å¼ã€‚Filecoin ä¸­ä½¿ç”¨çš„å‰¯æœ¬è¯æ˜éœ€è¦å¤§çº¦ <code>470 GB</code> çš„ Poseidon å“ˆå¸Œã€‚</p>
<p>å¦‚æœåœ¨è®¸å¤šæ ¸å¿ƒçš„ CPU ç³»ç»Ÿä¸Šè¿›è¡Œå“ˆå¸Œè¿ç®—ï¼Œéœ€è¦å¤§çº¦ 100 åˆ†é’Ÿã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒFilecoin çš„ GPU å®ç°ä»…éœ€è¦å¤§çº¦ä¸€åˆ†é’Ÿï¼Œå¯ä»¥å®ç°å¤§çº¦ 100 å€çš„æ€§èƒ½æå‡ã€‚</p>
<p>å¯¹äº Filecoin ä¸­çš„å¯†ç å­¦è¯æ˜ç»„ä»¶ï¼Œä»–ä»¬åˆ©ç”¨äº† Groth16 åè®®ã€‚åœ¨ Filecoin ç½‘ç»œä¸Šè¿›è¡Œæ¯ä¸ª PoRep æ—¶ï¼Œå­˜å‚¨æä¾›è€…ä¼šç”Ÿæˆ 10 ä¸ªè¯æ˜ï¼Œæ¯ä¸ªè¯æ˜å¤§çº¦æœ‰ <code>1.3 äº¿ä¸ªçº¦æŸæ¡ä»¶</code>ï¼Œæ€»å…±è¶…è¿‡ 10 äº¿ä¸ªçº¦æŸæ¡ä»¶ã€‚ä»…ç”¨äºåˆ›å»ºè¿™äº›è¯æ˜çš„ MSM å°±æ€»è®¡çº¦ä¸º <code>45 äº¿ä¸ªç‚¹æ ‡é‡å¯¹</code>ã€‚</p>
<p>å¦‚æœè¿™äº›è¯æ˜åœ¨è®¸å¤šæ ¸å¿ƒçš„ CPU ä¸Šè®¡ç®—ï¼Œéœ€è¦çº¦ä¸€ä¸ªå°æ—¶æ‰èƒ½å®Œæˆã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œåœ¨ GPU ä¸Šå¯ä»¥åœ¨å¤§çº¦ä¸‰åˆ†é’Ÿå†…å®Œæˆï¼Œè¿™æ˜¯ä¸€ä¸ªå¤§çº¦ 20 å€çš„æ€§èƒ½æå‡ã€‚è¿™ä¸ªä¾‹å­çªæ˜¾äº†ç¡¬ä»¶åŠ é€Ÿè®©ZKP ç”¨ä¾‹å˜å¾—å®é™…å¯è¡Œçš„èƒ½åŠ›ã€‚</p>
<h3 id="9zkåŠ é€Ÿçš„ç°åœ¨ä¸æœªæ¥"><a class="header" href="#9zkåŠ é€Ÿçš„ç°åœ¨ä¸æœªæ¥">9.zkåŠ é€Ÿçš„ç°åœ¨ä¸æœªæ¥</a></h3>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515174833294.png" alt="image-20230515174833294" /></p>
<p>äº†è§£æ›´å¤šå…³äºç¡¬ä»¶åŠ é€Ÿçš„çŸ¥è¯†ï¼Œæœ‰è®¸å¤šåœ¨çº¿èµ„æºå¯ç”¨ï¼ŒåŒ…æ‹¬è®¸å¤šä»Šå¤©è®¨è®ºçš„åŠ å¯†åŸè¯­çš„å¼€æº GPU å’Œ FPGA å®ç°ã€‚</p>
<p>ä¸€ä¸ªç‰¹åˆ«å¥½çš„èµ„æºæ˜¯ zprize.ioï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¨åœ¨æ”¹å–„ ZKP ç³»ç»Ÿæ€§èƒ½çš„ç¤¾åŒºå€¡è®®ã€‚</p>
<p>å¯¹ç”¨äºæ›´å¤§çš„å¤šæ ‡é‡ä¹˜æ³•ï¼Œå•ä¸ª GPU å¯ä»¥ä»¥æ¯ç§’è¶…è¿‡ 1 äº¿ä¸ªBasesçš„é€Ÿåº¦æ‰§è¡Œï¼Œ
å°± NTT è€Œè¨€ï¼Œå¤§å°ä¸º 2 åˆ°28 çš„ NTT å¯ä»¥åœ¨ 250 æ¯«ç§’å†…è®¡ç®—å‡ºæ¥ï¼Œ
å¯¹äº Poseidon å“ˆå¸Œï¼ŒGPU å¯ä»¥å¤§çº¦å“ˆå¸Œ æ¯ç§’ 350 GBã€‚</p>
<p><img src="zk-everything/zk-learning-miles/./pic/image-20230515175249404.png" alt="image-20230515175249404" /></p>
<p>å°½ç®¡åœ¨è¿‡å»å‡ å¹´ä¸­ï¼ŒZKP ç¡¬ä»¶åŠ é€Ÿå–å¾—äº†å·¨å¤§è¿›å±•ï¼Œä½†ä»æœ‰å¾ˆå¤§çš„æ”¹è¿›ç©ºé—´ã€‚ä¸‹é¢æ˜¯ä¸€äº›å¯ä»¥å¸®åŠ©è¯æ˜ç”Ÿæˆæ›´å¿«çš„é¢†åŸŸã€‚</p>
<p><code>ç¬¬ä¸€ä¸ªé¢†åŸŸ</code>æ˜¯é’ˆå¯¹æ ¸å¿ƒåŸè¯­ï¼ˆå¦‚ MSM å’Œ NTTï¼‰çš„æ”¹è¿›ç®—æ³•æˆ–å¯¹ç°æœ‰ç®—æ³•çš„å…¶ä»–ä¼˜åŒ–ã€‚</p>
<p><code>ç¬¬äºŒä¸ªé¢†åŸŸ</code>æ˜¯å…¨æ–°çš„æ ¸å¿ƒåŸè¯­ï¼Œå¦‚å…·æœ‰æ›´ä½è®¡ç®—è¦æ±‚çš„æ–°å“ˆå¸Œå‡½æ•°ã€‚</p>
<p><code>ç¬¬ä¸‰ä¸ªé¢†åŸŸ</code>å³æ–°çš„è¯æ˜ç³»ç»Ÿï¼Œç‰¹åˆ«æ˜¯å…³äºç¡¬ä»¶åŠ é€Ÿçš„ç®€åŒ–è¯æ˜ç³»ç»Ÿã€‚ç®€åŒ–çš„è¯æ˜ç³»ç»Ÿå¯ä»¥ä¸ºç¡¬ä»¶åŠ é€Ÿåˆ›é€ æ›´å¤šæœºä¼šã€‚</p>
<p>ä¾‹å¦‚ï¼Œæ›´ç®€åŒ–çš„è¯æ˜ç³»ç»Ÿå¯ä»¥å‡å°‘ä¸åŒæ“ä½œã€å‡å°‘é€šä¿¡å’Œå†…å­˜è¦æ±‚ï¼Œç”šè‡³æ¶ˆé™¤ä¸€äº›ç›®å‰å­˜åœ¨çš„è®¡ç®—æ˜‚è´µçš„æ“ä½œã€‚æœ€åï¼Œæ”¹è¿›å®ç°çš„ç©ºé—´ä¹Ÿæ°¸è¿œå­˜åœ¨ï¼ŒåŒ…æ‹¬å®Œæ•´çš„è¯æ˜ç³»ç»Ÿå’Œç¡¬ä»¶åŠ é€Ÿçš„åŸè¯­ã€‚è¿™åŒ…æ‹¬é’ˆå¯¹å•†ç”¨ GPU å’Œ FPGA ç­‰ç°æˆç¡¬ä»¶ä»¥åŠå®šåˆ¶ç¡…ç‰‡ï¼ˆä¾‹å¦‚ ASICï¼‰çš„è®¾è®¡ã€‚</p>
<p>Reference</p>
<p><a href="https:/medium.com/amber-group/need-for-speed-zero-knowledge-1e29d4a82fcd">Amber Group.â€œNeed for Speed: Zero Knowledge.Introduction I by Amber Group</a></p>
<p><a href="https:/hackmd.io/@tazAymRSQCGXTUKkbh1BAg/Sk27liTW9">Feng, Boyuan. &quot;Multi-scalar Multiplication (MSM) .</a> </p>
<p><a href="https://figmentcapital.medium.com/accelerating-zero-knowledge-proofs-cfc806de611b.">Figment Capital.â€œAccelerating Zero-Knowledge Proofs.</a></p>
<p><a href="https://blog.janestreet.com/zero-knowledge-fpgas-hardcaml/">Jane Street. &quot;Accelerating zk-SNARKs - MSM and NTT alorithms on FPGAs with Hardcaml.&quot; Jane Street Tech Blog, 7 December 2022</a>.</p>
<p><a href="https:/a16zcrypto.com/content/article/measuring-snark-performance-frontends-backends-and-the-future/.">Thaler, Justin. &quot;Measuring SNARK performance: Frontends, backends, and the future.&quot; a16z crypto, 11 August 2022</a></p>
<p><a href="https://www.youtube.com/watch?v=vuQGdbpDWcs&amp;ab_channel=Blockchain-Web3MOOCs.">Zhang, Ye. &quot;ZKP MOOC Lecture 12: zkEVM Design, Optimization and Applications.</a></p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<p>[[# Arithmetic circuits</p>
<h1 id="21-encoding-the-trace-as-arithmatic-constraints"><a class="header" href="#21-encoding-the-trace-as-arithmatic-constraints">2.1 Encoding the trace as arithmatic constraints</a></h1>
<h2 id="r1cs-1"><a class="header" href="#r1cs-1">R1CS</a></h2>
<ul>
<li>**Flatteningï¼š<strong>å°†ç”µè·¯çš„æ‰§è¡Œè½¬æ¢æˆè®¡ç®—è½¨è¿¹</strong>ï¼Œ**å³å°†å¤åˆå‡½æ•°ä»¥ä¹˜æ³•ä¸ºåŸºæœ¬å•å…ƒæ‹†è§£æˆä¸€ç»„æœ‰åºçš„ç®€å•å‡½æ•°<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mopen">{</span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>ï¼Œå…¶ä¸­
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">v</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span>, <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºè¾“å‡ºå˜é‡ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>ä¸ºå·¦è¾“å…¥å˜é‡ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>ä¸ºå³è¾“å…¥å˜é‡</li>
<li>è¿™é‡Œçš„æœ‰åºæ˜¯æŒ‡æŒ‰ç”µè·¯æ‰§è¡Œçš„é¡ºåº</li>
<li>è¿™é‡Œä¼šå¼•å…¥ä¸­é—´å˜é‡<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord">â€˜</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord"><em>1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;"></em></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>
<ul>
<li>é™¤äº†æ ¹èŠ‚ç‚¹å¤„çš„é—¨ä¹‹å¤–ï¼Œå…¶å®ƒçš„é—¨çš„è¾“å‡ºå¼•è„šæ·»åŠ å¯¹åº”çš„ä¸­é—´å˜é‡<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span></li>
<li>é™¤äº†å¶å­èŠ‚ç‚¹å¤„çš„é—¨ä¹‹å¤–ï¼Œå…¶ä»–çš„é—¨çš„è¾“å…¥å¼•è„šæ·»åŠ ä¸­é—´å˜é‡<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>ï¼Œè¯¥ä¸­é—´å˜é‡æ¥è‡ªäºå¦ä¸€ä¸ªé—¨çš„è¾“å‡º</li>
<li>ä¸¾ä¾‹è¯´æ˜ï¼šè‹¥é—¨Açš„è¾“å‡ºå¼•è„šæ¥å…¥åˆ°é—¨Bçš„è¾“å…¥å¼•è„šï¼Œåˆ™ä¸ºé—¨Açš„è¾“å‡ºå¼•è„šå’Œé—¨Bçš„è¾“å…¥å¼•è„šæ·»åŠ åŒä¸€ä¸ªä¸­é—´å˜é‡<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span></li>
</ul>
</li>
</ul>
</li>
<li><strong>é‡ç»„<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mopen">{</span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>ä¸­çš„æ•°æ®</strong>ï¼šå°†å…¶å˜æˆä¸€é˜¶çº¦æŸç³»ç»ŸR1CSï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>(æ³¨ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span> ä¸ºHadamard productï¼ŒæŒ‰ä½ä¹˜æ³•):
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">o</span><span class="mord mathnormal">n</span><span class="mord mathnormal">e</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord"><em>1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;"></em></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>ï¼Œå³ç”±è¡¨ç¤º1çš„å†—ä½™å˜é‡ï¼Œå‡½æ•°è¾“å‡ºï¼Œè¾“å…¥å˜é‡ï¼Œä¸­é—´å˜é‡æ„æˆçš„é›†åˆå¯¹åº”çš„å‘é‡ã€‚</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>çš„è¾“å‡ºå˜é‡åŸºäº<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>çš„é€‰æ‹©å‘é‡æ„æˆçš„çŸ©é˜µ</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>çš„å·¦è¾“å…¥å˜é‡åŸºäº<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>çš„é€‰æ‹©å‘é‡æ„æˆçš„çŸ©é˜µ</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>çš„å³è¾“å…¥å˜é‡åŸºäº<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>çš„é€‰æ‹©å‘é‡æ„æˆçš„çŸ©é˜µ</li>
</ul>
</li>
<li>æ³¨ï¼šçŸ©é˜µçš„è¡Œæ•°ç­‰äºä¹˜æ³•é—¨çš„æ•°é‡ï¼ŒçŸ©é˜µçš„åˆ—æ•°ç­‰äº<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸­å…ƒç´ çš„æ•°é‡ï¼Œå³å˜é‡çš„æ•°é‡</li>
</ul>
<h2 id="plonkish-arithmetization"><a class="header" href="#plonkish-arithmetization">Plonkish Arithmetization</a></h2>
<ul>
<li>**Flatteningï¼š**å³å°†å¤åˆå‡½æ•°æ‹†è§£æˆä¸€ç»„ç¦»æ•£çš„é—¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mopen">{</span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>ï¼Œå…¶ä¸­
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºè¾“å‡ºå˜é‡ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">u</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºå·¦è¾“å…¥å˜é‡ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºå³è¾“å…¥å˜é‡ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºå¸¸é‡ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºè¾“å‡ºé€‰æ‹©å™¨ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">L</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºå·¦è¾“å…¥å˜é‡é€‰æ‹©å™¨ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºå³è¾“å…¥å˜é‡é€‰æ‹©å™¨ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºä¹˜ç§¯é€‰æ‹©å™¨ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºå¸¸æ•°é€‰æ‹©å™¨</li>
<li>**æ³¨ï¼š**çŸ©é˜µçš„è¡Œæ•°ç­‰äºæ‰€æœ‰é—¨çš„æ•°é‡ï¼Œå³çº¦æŸçš„æ•°é‡ï¼Œnã€‚</li>
<li>è¿™é‡Œçš„æœ‰åºæ˜¯æŒ‡è®¡ç®—çš„é¡ºåº</li>
<li>è¿™é‡Œä¼šå¼•å…¥ä¸­é—´å˜é‡<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.06em;vertical-align:-0.31em;"></span><span class="mord">â€˜</span><span class="mopen">{</span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord"><em>1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;"></em></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>
<ul>
<li>é™¤äº†æ ¹èŠ‚ç‚¹å¤„çš„é—¨ä¹‹å¤–ï¼Œå…¶å®ƒçš„é—¨çš„è¾“å‡ºå¼•è„šæ·»åŠ å¯¹åº”çš„ä¸­é—´å˜é‡<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span></li>
<li>é™¤äº†å¶å­èŠ‚ç‚¹å¤„çš„é—¨ä¹‹å¤–ï¼Œå…¶ä»–çš„é—¨çš„è¾“å…¥å¼•è„šæ·»åŠ ä¸­é—´å˜é‡<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>ï¼Œè¯¥ä¸­é—´å˜é‡æ¥è‡ªäºå¦ä¸€ä¸ªé—¨çš„è¾“å‡º</li>
<li>ä¸¾ä¾‹è¯´æ˜ï¼šè‹¥é—¨Açš„è¾“å‡ºå¼•è„šæ¥å…¥åˆ°é—¨Bçš„è¾“å…¥å¼•è„šï¼Œåˆ™ä¸ºé—¨Açš„è¾“å‡ºå¼•è„šå’Œé—¨Bçš„è¾“å…¥å¼•è„šæ·»åŠ åŒä¸€ä¸ªä¸­é—´å˜é‡<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0044em;vertical-align:-0.31em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal">m</span><span class="mord" style="margin-right:0.02778em;">_</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span></li>
</ul>
</li>
</ul>
</li>
<li>**é‡ç»„<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mopen">{</span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">ain</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>ä¸­çš„æ•°æ®ï¼š**å°†å…¶å˜æˆï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1522em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7973em;vertical-align:-0.0833em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7973em;vertical-align:-0.0833em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>(æ³¨ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span> ä¸ºHadamard productï¼ŒæŒ‰ä½ä¹˜æ³•)
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">Q</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>ï¼Œå³é€‰æ‹©å™¨çŸ©é˜µ</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1522em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">}</span><span class="mord">â€˜</span></span></span></span>ï¼Œå³å˜é‡çŸ©é˜µ</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03785em;">Î´</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span> è½®æ¢ç½®æ¢åå¾—åˆ°çš„ä½ç½®é›†åˆï¼Œæ¥è‡ªäº<strong>Wiring</strong></li>
</ul>
</li>
<li><strong>Wiring(Copy Constraints)</strong>
<ul>
<li>
<p>åˆ†æï¼šWiringå³å°†ç¦»æ•£çš„é—¨è¿æ¥èµ·æ¥ï¼Œå³æŸä¸€ä¸ªé—¨çš„è¾“å‡ºå¼•è„šè¦æ¥å…¥å¦ä¸€ä¸ªé—¨çš„è¾“å…¥å¼•è„š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span>çº¦æŸå˜é‡çŸ©é˜µ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span>ä¸­æŸå‡ ä¸ªä½ç½®çš„å…ƒç´ æ˜¯ç›¸ç­‰çš„<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span>è¿™ä¸€ä¸ªå…ƒç´ å‡ºç°åœ¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord">â€˜</span></span></span></span>çŸ©é˜µçš„å¤šä¸ªä½ç½®å¤„</p>
</li>
<li>
<p>Wiringå®ç°æ€è·¯ï¼š</p>
<ul>
<li>æŠŠ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="mord">â€˜</span></span></span></span>çŸ©é˜µä¸­çš„æ¯ä¸€ä¸ªä½ç½®ä»1åˆ°3nè¿›è¡Œå”¯ä¸€ç¼–å·ï¼Œåˆ™æ‰€æœ‰çš„ç¼–å·æ„æˆä¸€ä¸ªä½ç½®é›†åˆ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord">â€˜</span></span></span></span>ï¼Œå°†ä½ç½®é›†åˆ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>å¯¹åº”çš„å…ƒç´ å–å‡ºæ„æˆä¸€ä¸ªmultiset <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span></li>
<li>æŠŠæ¯ä¸ªå…ƒç´ å‡ºç°åœ¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span>ä¸­çš„ä½ç½®ç¼–å·å–å‡ºæ”¾åœ¨ä¸€ä¸ªé›†åˆä¸­<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">s</span><span class="mord">â€˜</span></span></span></span>ï¼Œå³ä¸€ä¸ªå…ƒç´ å¯¹åº”ä¸€ä¸ªä½ç½®é›†åˆ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">s</span><span class="mord">â€˜</span></span></span></span>ã€‚å°†ä½ç½®é›†åˆå¯¹åº”çš„å…ƒç´ å–å‡ºæ„æˆä¸€ä¸ªmultiset <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ã€‚æ‰€æœ‰å…ƒç´ çš„<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span></span></span></span>çš„å¹¶é›†å³ä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord">â€˜</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>çš„å¹¶é›†ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span></li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜âˆ€</span><span class="mord mathnormal">s</span><span class="mord">â€˜</span></span></span></span>ï¼Œè¦ä½¿å¾— <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸­å…ƒç´ å…¨éƒ¨ç›¸ç­‰</li>
</ul>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span>  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜âˆ€</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸å…¶è¿›è¡Œè½®æ¢ç½®æ¢<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03785em;">Î´</span><span class="mord">â€˜</span></span></span></span>åå¾—åˆ°çš„é›†åˆ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0961em;vertical-align:-0.247em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03785em;">Î´</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>åœ¨Multisetçš„æ„ä¹‰ä¸Šæ˜¯ç­‰ä»·çš„</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span>  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜âˆ€</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">s</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8734em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8734em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span></span></span></span></span></span><span style="top:-3.1594em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>åœ¨Multisetçš„æ„ä¹‰ä¸Šæ˜¯ç­‰ä»·çš„</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â‡</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span>ä»¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord">â€˜</span></span></span></span>ä¸ºæ‰€æœ‰<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">s</span><span class="mord">â€˜</span></span></span></span>çš„å¹¶é›†ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºæ‰€æœ‰<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>çš„å¹¶é›†ï¼Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºæ‰€æœ‰<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>çš„å¹¶é›†ï¼Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9663em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1522em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1163em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9663em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>åœ¨Multisetçš„æ„ä¹‰ä¸Šæ˜¯ç­‰ä»·çš„</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span></span></span></span>ä»¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9663em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1522em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1163em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1608em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1522em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace">Â </span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1163em;vertical-align:-0.15em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9663em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œå–éšæœºæ•°<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mord">â€˜</span></span></span></span>ï¼Œæœ‰</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">...</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">...</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0564em;vertical-align:-0.3064em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3064em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span></p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.966em;vertical-align:-1.216em;"></span><span class="mord">â€˜</span><span class="mord cjk_fallback">å³</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.059em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">âˆˆ</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">]</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">âˆ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.216em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.966em;vertical-align:-1.216em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.059em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">âˆˆ</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">]</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">âˆ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.216em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05556em;">Î³</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0087em;vertical-align:-0.2587em;"></span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-2.4413em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2587em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span></p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.226em;vertical-align:-1.216em;"></span><span class="mord">â€˜</span><span class="mord cjk_fallback">å³</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.75em;"><span style="top:-2.059em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">âˆˆ</span><span class="mopen mtight">[</span><span class="mord mathnormal mtight">n</span><span class="mclose mtight">]</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">âˆ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.216em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05556em;">Î³</span><span class="mbin mtight">âˆ’</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6523em;"><span style="top:-2.1777em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-2.8448em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3223em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05556em;">Î³</span><span class="mbin mtight">âˆ’</span><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5706em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1â€˜</span></span></span></span></p>
<ul>
<li>
<p>è‡³æ­¤ï¼Œé—®é¢˜è½¬åŒ–æˆå¦‚ä½•è¯æ˜è¿ä¹˜ç­‰å¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">c</span><span class="mord">â€˜</span></span></span></span>ï¼Œå³è¯æ˜ä¸€ä¸ªnæ­¥é€’å½’ï¼Œ</p>
<ul>
<li>åˆå§‹å€¼ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1â€˜</span></span></span></span></li>
<li>é€’å½’å®šä¹‰ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6528em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span></li>
<li>ç»ˆæ­¢æ¡ä»¶ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">c</span><span class="mord">â€˜</span></span></span></span></li>
</ul>
<p>åˆ™æœ‰</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord">...</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6528em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">c</span><span class="mord">â€˜</span></span></span></span></p>
<p>æ‰€æœ‰<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>Â æ„æˆå‘é‡ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span></p>
<ul>
<li>è‡³æ­¤ï¼Œ<strong>Wiring</strong>è½¬åŒ–æˆä¸‰ä¸ªçº¦æŸ
<ul>
<li>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord cjk_fallback">å’Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">c</span><span class="mord">â€˜</span></span></span></span>  å³çº¦æŸå‘é‡çš„æŒ‡å®šä½çš„å€¼ä¸ºkï¼Œå³çº¦æŸ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>çš„ç¬¬1ä½(<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>)çš„å€¼ä¸º1ï¼Œç¬¬n+1ä½(<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>)çš„å€¼ä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">c</span><span class="mord">â€˜</span></span></span></span>ã€‚</p>
<p>è®¾<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºnç»´å‘é‡ç©ºé—´çš„æ ‡å‡†åŸºçš„ç¬¬iä¸ªåŸºå‘é‡ï¼Œå‘é‡<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>çš„ç¬¬<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">i</span><span class="mord">â€˜</span></span></span></span>ä½ä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord">â€˜</span></span></span></span>ç­‰ä»·äºï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">e</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.864em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">e</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1799em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6528em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="22-constraints-merge"><a class="header" href="#22-constraints-merge">2.2 Constraints Merge</a></h1>
<h3 id="r1cs-to-qap"><a class="header" href="#r1cs-to-qap">R1CS to QAP</a></h3>
<ul>
<li>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">mma</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span> å¸¦æœ‰Hadamard productè¿ç®—çš„nç»´å‘é‡çš„ç¾¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathbb">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œå’Œå¸¦æœ‰ä¹˜æ³•è¿ç®—çš„åœ¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>ä¸Šçš„æœ€é«˜é¡¹æ¬¡æ•°ä¸å¤§äºn-1çš„å•å˜é‡å¤šé¡¹å¼<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathbb">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord">â€˜</span></span></span></span>çš„ç¾¤ï¼Œæ˜ å°„ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathbb">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>,ä»¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord cjk_fallback">ä¸º</span><span class="mord mathnormal">L</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">an</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord">â€˜</span></span></span></span>ï¼Œæœ‰<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">m</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2163em;vertical-align:-0.25em;"></span><span class="mopen">âŸ¨</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">m</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)âŸ©</span><span class="mord">â€˜</span></span></span></span>ï¼Œæ˜¯ç¾¤åŒæ€</p>
</li>
<li>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">mma</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord cjk_fallback">ç”±</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">mma</span><span class="mord">1</span><span class="mord cjk_fallback">ï¼Œæœ‰</span><span class="mord">â€˜</span></span></span></span></p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9223em;vertical-align:-0.2083em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9223em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9223em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2583em;"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">Ã—</span><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord">âˆ€</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4384em;vertical-align:-0.95em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ¨</span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4883em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">âŸ¨</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1522em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)âŸ©</span></span></span><span class="svg-align" style="top:-3.9663em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128 -16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20  11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7  39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85 -40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5 -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67  151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ©</span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4384em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ¨</span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4883em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">âŸ¨</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)âŸ©</span></span></span><span class="svg-align" style="top:-3.9663em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128 -16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20  11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7  39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85 -40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5 -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67  151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ©</span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.4384em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ¨</span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4883em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">âŸ¨</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)âŸ©</span></span></span><span class="svg-align" style="top:-3.9663em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128 -16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20  11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7  39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85 -40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5 -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67  151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ©</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">â€˜</span></span></span></span></p>
</li>
<li>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">mma</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord cjk_fallback">ä»¤</span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4384em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ¨</span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4883em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">âŸ¨</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1522em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)âŸ©</span></span></span><span class="svg-align" style="top:-3.9663em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128 -16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20  11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7  39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85 -40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5 -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67  151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ©</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4384em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ¨</span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4883em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">âŸ¨</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)âŸ©</span></span></span><span class="svg-align" style="top:-3.9663em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128 -16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20  11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7  39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85 -40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5 -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67  151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ©</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4384em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ¨</span></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4883em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">âŸ¨</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9663em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">L</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)âŸ©</span></span></span><span class="svg-align" style="top:-3.9663em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="height:0.522em;min-width:0.888em;"><svg xmlns="http://www.w3.org/2000/svg" width='400em' height='0.522em' viewBox='0 0 400000 522' preserveAspectRatio='xMaxYMin slice'><path d='M0 241v40h399891c-47.3 35.3-84 78-110 128 -16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20  11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7  39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85 -40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5 -12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67  151.7 139 205zm0 0v40h399900v-40z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.25em;"><span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">a</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">âŸ©</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">æœ‰</span><span class="mord">â€˜</span></span></span></span></p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord">â€˜âˆ€</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span> 
<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord">âˆ€</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">a</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">c</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7224em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mspace">Â </span><span class="mord cjk_fallback">ä»¥</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord cjk_fallback">ä¸ºæ ¹ï¼Œ</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.549em;vertical-align:-0.024em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord cjk_fallback">èƒ½è¢«</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">...</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">æ•´é™¤</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord">â€˜</span></span></span></span></p>
</li>
<li>
<p>ä»¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord">/</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span>, è‡³æ­¤ï¼Œå®Œæˆäº†ä»R1CSåˆ°QAPåˆ°è½¬æ¢</p>
</li>
</ul>
<h3 id="plonkish-arithmetization-to-qap"><a class="header" href="#plonkish-arithmetization-to-qap">Plonkish Arithmetization to QAP</a></h3>
<p>Plonkish ArithmetizationåŒ…å«ä¸¤éƒ¨åˆ†çº¦æŸï¼š</p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">O</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.714em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1522em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">L</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7973em;vertical-align:-0.0833em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7973em;vertical-align:-0.0833em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">u</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2077em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9084em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.714em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07153em;">C</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2355em;"><span class="overlay" style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>å’Œ<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6528em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.9028em;vertical-align:-0.2083em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2083em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">c</span><span class="mord">â€˜</span></span></span></span></p>
<p>ç¬¬ä¸€éƒ¨åˆ†çº¦æŸæ¯ä¸ªé—¨æ˜¯æ­£ç¡®è®¡ç®—çš„ï¼Œå³æ‰€è°“ç®—æœ¯çº¦æŸï¼›ç¬¬äºŒéƒ¨åˆ†çº¦æŸé—¨ä¸é—¨ä¹‹é—´æ­£ç¡®è¿æ¥ï¼Œå³æ‰€è°“å¤åˆ¶çº¦æŸã€‚</p>
<p><strong>é¦–å…ˆæ¥è½¬æ¢ç®—æœ¯çº¦æŸï¼š</strong></p>
<ul>
<li>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">L</span><span class="mord mathnormal">e</span><span class="mord mathnormal">mma</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span>å¸¦æœ‰åŠ æ³•çš„nç»´å‘é‡çš„ç¾¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathbb">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œå’Œå¸¦æœ‰åŠ æ³•çš„åœ¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span></span></span></span>ä¸Šçš„æœ€é«˜é¡¹æ¬¡æ•°ä¸å¤§äºn-1çš„å•å˜é‡å¤šé¡¹å¼<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathbb">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">]</span><span class="mord">â€˜</span></span></span></span>çš„ç¾¤ï¼Œæ˜ å°„ï¼š<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathbb">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2975em;vertical-align:-0.2527em;"></span><span class="mord"><span class="mord mathbb">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.5834em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2527em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ï¼Œä»¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord cjk_fallback">ä¸º</span><span class="mord mathnormal">L</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">an</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mord">â€˜</span></span></span></span>ï¼Œæœ‰<code>$h(\vec m)= \langle \vec m,\vec L(X) \rangle</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">ï¼Œæ˜¯ç¾¤åŒæ€</span><span class="mord">âˆ’</span></span></span></span><code>Lemma5:</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">åŒæ€æ˜ å°„çš„å¤åˆæ˜ å°„å¿…å®šæ˜¯åŒæ€æ˜ å°„</span><span class="mord">âˆ’</span></span></span></span><code>ç”±Lemma1,Lemma4,Lemma5,æœ‰</code><span class="katex"><span class="katex-html" aria-hidden="true"></span></span><code>\vec{q_O}\circ \vec{w}=\vec{q_L}\circ\vec{u}+\vec{q_R}\circ\vec{v}+\vec{q_M}\circ(\vec{u}\circ\vec{v})+\vec{q_C}\circ\vec{c} \\ \iff \langle \vec q_O,\vec L(X) \rangle \cdot \langle \vec w,\vec L(X) \rangle=\langle \vec q_L,\vec L(X) \rangle \cdot \langle \vec u,\vec L(X) \rangle+\langle \vec q_R,\vec L(X) \rangle \cdot \langle \vec v,\vec L(X) \rangle+\langle \vec q_m,\vec L(X) \rangle \cdot (\langle \vec u,\vec L(X) \rangle\cdot\langle \vec v,\vec L(X) \rangle )+\langle \vec q_C,\vec L(X) \rangle </code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ä»¤</span></span></span></span><code>a(X) =\langle \vec a,\vec L(X) \rangle</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ï¼Œä¸Šå¼è½¬åŒ–ä¸ºï¼š</span></span></span></span><code>q_O(X)w(X)=q_L(X)u(X)+q_R(X)v(X)+q_M(X)u(X)v(X)+q_C(X)</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord cjk_fallback">è‡³æ­¤ï¼Œ</span><span class="mord mathnormal">n</span><span class="mord cjk_fallback">ä¸ªç®—æœ¯çº¦æŸè½¬åŒ–æˆäº†ä¸€ä¸ªç”±å…«ä¸ª</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">1</span><span class="mord cjk_fallback">æ¬¡å¤šé¡¹å¼ä¹‹é—´æ„æˆçš„çº¦æŸã€‚</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord">âˆ—</span><span class="mord cjk_fallback">æ¥ç€è½¬æ¢å¤åˆ¶çº¦æŸï¼š</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ç”±</span></span></span></span><code>Lemma1</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ï¼Œæœ‰</span></span></span></span><code>\vec e_i \circ \vec r=k\times \vec e_i \\ \iff L_i(X)r(X)=k\times L_i(X) \\ \iff L_i(X)(r(X)-k)=0</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">æœ‰</span></span></span></span><code>r_0=1  \iff L_0(X)(r(X)-1)=0 \\ r_n=c \iff L_n(X)(r(X)-c)=0 </code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord cjk_fallback">ä»¤</span></span></span></span><code>L_i(X)</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ä¸ºå®šä¹‰åœ¨ä¹˜æ³•å­ç¾¤</span></span></span></span>H<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ä¸Šçš„</span></span></span></span><code>Lagrange Basis</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ï¼Œç”±</span></span></span></span><code>Lemma1</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">æœ‰</span></span></span></span><code>\vec r_{i}=\vec r_{i-1}  \circ \vec b_{i-1} \\ \iff \langle \vec r,\vec L(\omega \cdot X) \rangle =\langle \vec r,\vec L(X) \rangle  \cdot \langle \vec b,\vec L(X) \rangle</code></p>
</li>
<li>
<p>è‡³æ­¤ï¼Œå¤åˆ¶çº¦æŸè½¬æ¢æˆäº†ä¸‰ä¸ªå¤šé¡¹å¼çº¦æŸã€‚</p>
</li>
</ul>
<h1 id="23-a-function-commitment-scheme"><a class="header" href="#23-a-function-commitment-scheme">2.3 A function commitment scheme</a></h1>
<p>åœ¨2.3ä¸­å¾—åˆ°äº†ä¸€ç³»åˆ—å¤šé¡¹å¼ä¹‹é—´çš„çº¦æŸï¼Œæœ¬èŠ‚æˆ‘ä»¬æ¥çœ‹å¦‚ä½•å®ç°å¤šé¡¹å¼çº¦æŸï¼Œ</p>
<p>ä»¤ï¼š</p>
<p><code>\mathcal F:=function\   family</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ï¼Œå³ä¸€ç±»å¤šé¡¹å¼</span></span></span></span><code>\mathbb F_p:= æœ‰é™åŸŸ</code></p>
<h3 id="å¯¹äºmathcal-fçš„commitmentshcemeæ¡†æ¶å¦‚ä¸‹setuplambda-to-ppè®¡ç®—publicparametercommitppfr-to-com_fåŸºäºéšæœºæ•°rå¯¹fin-mathcal-fçš„æ‰¿è¯ºevalprover--pverifier-vå¯¹äºç»™å®šçš„com_fä»¥åŠxin-xyin-yè¯æ˜fxyå³æ‰€è°“çš„å°†fåœ¨ç‚¹xyå¤„æ‰“å¼€pppfxyr-to-ç®€çŸ­è¯æ˜pivppcom_fxypito-æ¥å—æ‹’ç»"><a class="header" href="#å¯¹äºmathcal-fçš„commitmentshcemeæ¡†æ¶å¦‚ä¸‹setuplambda-to-ppè®¡ç®—publicparametercommitppfr-to-com_fåŸºäºéšæœºæ•°rå¯¹fin-mathcal-fçš„æ‰¿è¯ºevalprover--pverifier-vå¯¹äºç»™å®šçš„com_fä»¥åŠxin-xyin-yè¯æ˜fxyå³æ‰€è°“çš„å°†fåœ¨ç‚¹xyå¤„æ‰“å¼€pppfxyr-to-ç®€çŸ­è¯æ˜pivppcom_fxypito-æ¥å—æ‹’ç»">å¯¹äº\mathcal F<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">çš„</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal">mmi</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.05764em;">tS</span><span class="mord mathnormal">h</span><span class="mord mathnormal">ce</span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">æ¡†æ¶å¦‚ä¸‹ï¼š</span><span class="mord">âˆ’</span></span></span></span><code>setup(\lambda) \to pp</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">è®¡ç®—</span><span class="mord mathnormal">p</span><span class="mord mathnormal">u</span><span class="mord mathnormal">b</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal">c</span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">am</span><span class="mord mathnormal">e</span><span class="mord mathnormal">t</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord">âˆ’</span></span></span></span><code>commit(pp,f,r) \to com_f</code><span class="katex"><span class="katex-html" aria-hidden="true"></span></span><code>åŸºäºéšæœºæ•°rå¯¹f\in \mathcal Fçš„æ‰¿è¯º</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span></span></span></span><code>eval(prover \ P,verifier\ V)</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">å¯¹äºç»™å®šçš„</span></span></span></span><code>com_f</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ï¼Œä»¥åŠ</span></span></span></span><code>x\in X,y\in Y:è¯æ˜f(x)=y,å³æ‰€è°“çš„å°†fåœ¨ç‚¹(x,y)å¤„æ‰“å¼€</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span></span></span></span><code>P(pp,f,x,y,r) \to ç®€çŸ­è¯æ˜\pi</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span></span></span></span><code>V(pp,com_f,x,y,\pi)\to æ¥å—/æ‹’ç»</code></a></h3>
<h3 id="ä¸‰ç±»å…¸å‹çš„function-family-commiments"><a class="header" href="#ä¸‰ç±»å…¸å‹çš„function-family-commiments">ä¸‰ç±»å…¸å‹çš„Function Family Commiments</a></h3>
<ul>
<li>Polynominal commitmentsï¼šæ¬¡æ•°ä¸å¤§äºdçš„å•å˜é‡å¤šé¡¹å¼æ‰¿è¯º <code>f(X)\in \mathbb F_p^{(\leq d)} [X]</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">u</span><span class="mord mathnormal">lt</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">rco</span><span class="mord mathnormal">mmi</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mord cjk_fallback">ï¼šæ¬¡æ•°å°äºç­‰äº</span><span class="mord">1</span><span class="mord cjk_fallback">çš„å¤šå˜é‡å¤šé¡¹å¼æ‰¿è¯º</span></span></span></span><code>f(X_1,...,X_k)\in \mathbb F_p^{(\leq 1)}[X_1,...,X_K]</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord mathnormal">L</span><span class="mord mathnormal">in</span><span class="mord mathnormal">e</span><span class="mord mathnormal">a</span><span class="mord mathnormal">rco</span><span class="mord mathnormal">mmi</span><span class="mord mathnormal">t</span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">s</span><span class="mord cjk_fallback">ï¼š</span></span></span></span><code>f_{\vec v}(\vec u)= \left \langle \vec u, \vec v \right \rangle=\sum _{i=1}^nu_iv_i</code></li>
</ul>
<p>è¿™ä¸‰è€…ä»ä¸Šåˆ°ä¸‹ï¼Œè¶Šæ¥è¶Šgeneral</p>
<h2 id="pcs-polynominal-commitment-scheme"><a class="header" href="#pcs-polynominal-commitment-scheme">PCS: Polynominal Commitment Scheme</a></h2>
<p>é€‚ç”¨äºæ¬¡æ•°ä¸å¤§äºdçš„å•å˜é‡å¤šé¡¹å¼ <code>f(X)\in \mathbb F_p^{(\leq d)} [X]</code></p>
<h3 id="some-usual-psc"><a class="header" href="#some-usual-psc">Some usual PSC</a></h3>
<ul>
<li>Bulletproofsï¼šåŸºäºæ¤­åœ†æ›²çº¿ï¼Œverifierçš„ç®—æ³•å¤æ‚åº¦ä¸dæˆçº¿æ€§ç›¸å…³</li>
<li>KZGâ€˜10ï¼ŒDoryâ€™20ï¼šåŸºäºåŒçº¿æ€§æ¤­åœ†æ›²çº¿</li>
<li>Darkâ€™20ï¼šåŸºäºé˜¶æœªçŸ¥çš„ç¾¤</li>
<li>FRIï¼šåŸºäºhash Function</li>
</ul>
<h3 id="kzg-poly-commit-scheme"><a class="header" href="#kzg-poly-commit-scheme">KZG poly-commit scheme</a></h3>
<ul>
<li>é¢„å¤‡çŸ¥è¯†ï¼š<code>é˜¶ä¸ºpçš„ç¾¤\ \mathbb G:=\{1,G,2\cdot G,3\cdot G,...,(p-1)\cdot G\} ,å…¶ä¸­ï¼ŒGä¸ºç”Ÿæˆå…ƒ</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span></span></span></span><code>setup(\lambda) \to pp</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord cjk_fallback">å–éšæœºæ•°</span></span></span></span><code>\alpha\in \mathbb F_p</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span></span></span></span><code>pp=(H_0=1,H_1=\alpha \cdot G,H_2=\alpha^2 \cdot G,...,H_d=\alpha^d \cdot G)\in \mathbb G^{d+1}</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord cjk_fallback">åˆ é™¤</span></span></span></span><code>\alpha</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ï¼Œ</span></span></span></span><code>\alpha</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">ä¹Ÿç§°ä¸º</span><span class="mord mathnormal">G</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.03588em;">ey</span><span class="mord cjk_fallback">ï¼Œå³é™¤äº†ä¸Šå¸ï¼Œ</span></span></span></span><code>\alpha</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">ä¸èƒ½è¢«ä»»ä½•äººçŸ¥é“</span><span class="mord">âˆ’</span></span></span></span><code>commit(pp,f,r) \to com_f</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span></span></span></span><code>com_f:=f(\alpha)\cdot G \in \mathbb G</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ï¼šå…·ä½“çš„è®¡ç®—æ–¹æ³•å¦‚ä¸‹ï¼š</span></span></span></span><code>f(X)=f_0+f_1X+...+f_dX^d</code><span class="katex"><span class="katex-html" aria-hidden="true"></span></span><code>\implies com_f=f_0\cdot 1+f_1\cdot\alpha G+f_2\cdot\alpha^2 G+ ...+f_d\cdot \alpha^dG</code><span class="katex"><span class="katex-html" aria-hidden="true"></span></span><code>\iff com_f=f_0\cdot Hâ€”â€”1+f_1\cdot H1+...+f_d\cdot H_d</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">âˆ’</span><span class="mord cjk_fallback">æ³¨æ„ï¼Œæ­¤å¤„æ˜¯</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal">in</span><span class="mord mathnormal">d</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord cjk_fallback">çš„ï¼Œä½†ç”±äºæœªåšéšæœºå¤„ç†ï¼Œæ•…ä¸æ˜¯</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord cjk_fallback">çš„ï¼Œè‹¥éœ€</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">in</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord cjk_fallback">ï¼Œéœ€è¦</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mord">âˆ’</span></span></span></span><code>eval(prover \ P,verifier\ V)</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord cjk_fallback">ç›®æ ‡ï¼šè¯æ˜</span></span></span></span><code>f(u)=v</code><span class="katex"><span class="katex-html" aria-hidden="true"></span></span><code>f(u)=v</code><span class="katex"><span class="katex-html" aria-hidden="true"></span></span><code>\iff uæ˜¯ \hat f =f-vçš„æ ¹</code><span class="katex"><span class="katex-html" aria-hidden="true"></span></span><code>\iff (X-u)æ•´é™¤\hat f</code><span class="katex"><span class="katex-html" aria-hidden="true"></span></span><code>\iff \exists q\in \mathbb{F}_p[X]\  \ s.t.\ \ q(X)\cdot(X-u)=f(X)-v</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span></span></span></span><code>Prover(pp,f,u,v)</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">è®¡ç®—</span></span></span></span>å•†å¤šé¡¹å¼q(X) åŠå…¶æ‰¿è¯ºcom_q<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">ï¼Œå‘é€ç»™</span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord">âˆ’</span></span></span></span><code>Verifier(pp,com_f,u,v)</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">æ£€æŸ¥</span></span></span></span><code>(\alpha-u)\cdot com_q=com_f-v\cdot G</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">æ˜¯å¦æˆç«‹</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">æ­¤å¤„çš„é—®é¢˜æ˜¯</span></span></span></span><code>\alpha</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">æ˜¯ä¸å¯çŸ¥çš„ï¼Œé‚£å¦‚ä½•åœ¨ä¸ç”¨æ˜¾å¼åœ°çŸ¥é“</span></span></span></span><code>\alpha</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">çš„å‰æä¸‹éªŒè¯ç­‰å¼</span></span></span></span><code>(\alpha-u)\cdot com_q=com_f-v\cdot G</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">å‘¢ï¼Ÿåœ¨</span></span></span></span><code>com_qå’Œcom_f</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">ä¸­æˆ‘ä»¬é€šè¿‡</span><span class="mord mathnormal">se</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mord mathnormal">p</span><span class="mord cjk_fallback">æ­¥éª¤å°†</span></span></span></span><code>\alpha</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">éšè—äº†ï¼Œé‚£ä¹ˆç­‰å¼å·¦ä¾§çš„</span></span></span></span><code>(\alpha-u)</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">æ˜¯ä¸æ˜¯åŒæ ·ä¹Ÿå¯ä»¥é€šè¿‡</span><span class="mord mathnormal">se</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mord mathnormal">p</span><span class="mord cjk_fallback">éšè—èµ·æ¥ï¼Ÿä¸ºè¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬éœ€è¦æ‰©å±•</span><span class="mord mathnormal">se</span><span class="mord mathnormal">t</span><span class="mord mathnormal">u</span><span class="mord mathnormal">p</span><span class="mord cjk_fallback">æˆå¦‚ä¸‹</span><span class="mord">âˆ’</span></span></span></span><code>setup(\lambda) \to pp</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord cjk_fallback">å–éšæœºæ•°</span></span></span></span><code>\alpha\in \mathbb F_p</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span></span></span></span><code>pp=(H_0=1,H_1=\alpha \cdot G,H_2=\alpha^2 \cdot G,...,H_d=\alpha^d \cdot G)\in \mathbb G^{d+1} + (T_0=1,T_1=\alpha \cdot G_2) \in \mathbb G_2^1</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">ï¼Œ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">åˆ é™¤</span></span></span></span><code>\alpha</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">ï¼Œ</span></span></span></span><code>\alpha</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">ä¹Ÿç§°ä¸º</span><span class="mord mathnormal">G</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal" style="margin-right:0.03588em;">ey</span><span class="mord cjk_fallback">ï¼Œå³é™¤äº†ä¸Šå¸ï¼Œ</span></span></span></span><code>\alpha</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">ä¸èƒ½è¢«ä»»ä½•äººçŸ¥é“</span><span class="mord">âˆ’</span></span></span></span><code>Verifier(pp,com_f,u,v)</code><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord">âˆ’</span><span class="mord cjk_fallback">å¼•å…¥åŒçº¿æ€§æ˜ å°„å…³ç³»</span></span></span></span><code>e\in \mathbb G \times \mathbb G_2 \to \mathbb G_X$</code>
- è‡³æ­¤ï¼Œå°†åŸæ¥éœ€è¦éªŒè¯çš„<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">u</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.4391em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.153em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mclose mtight">?</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8694em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">G</span><span class="mord">â€˜</span></span></span></span>ï¼Œè½¬æ¢æˆäº† åœ¨<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathbb">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ŠéªŒè¯<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord">â€˜</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.403em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.153em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mclose mtight">?</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">co</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span></li>
</ul>
<h1 id="24-polynominal-iop"><a class="header" href="#24-polynominal-iop">2.4 Polynominal IOP</a></h1>
<h3 id="useful-lemma"><a class="header" href="#useful-lemma">Useful Lemma</a></h3>
<ul>
<li>
<p>Lemma1: Schwartz zippleå®šç†</p>
</li>
<li>
<p>Lemma2: å•ä½æ ¹å’Œä¹˜æ³•å­ç¾¤**ï¼š**</p>
<p>ä»¤<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>ä¸ºkæ¬¡å•ä½æ ¹ï¼Œå³ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8491em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1â€˜</span></span></span></span></p>
<p>ä¹˜æ³•å­ç¾¤ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">}</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŠ†</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9805em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathbb">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span></p>
<p>ç”±äºå•ä½æ ¹çš„å¯¹ç§°æ€§ï¼Œæœ‰<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.5138em;vertical-align:-0.9777em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5361em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">âˆ</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0747em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9324em;vertical-align:-0.0833em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1â€˜</span></span></span></span></p>
</li>
<li>
<p>Lemma3: <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord">â€˜</span></span></span></span>ä¸­çš„å…ƒç´ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8247em;"></span><span class="mord">â€˜</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span>å‡ä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord">â€˜</span></span></span></span>çš„æ ¹ï¼Œå³<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord cjk_fallback">åœ¨</span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord cjk_fallback">ä¸Šå‡ä¸º</span><span class="mord">0â€˜</span></span></span></span> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.5138em;vertical-align:-0.9777em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">èƒ½è¢«</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5361em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">âˆ</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0747em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ï‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8247em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord cjk_fallback">æ•´é™¤</span><span class="mord">â€˜</span></span></span></span> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord cjk_fallback">èƒ½è¢«</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1</span><span class="mord cjk_fallback">æ•´é™¤</span><span class="mord">â€˜</span></span></span></span></p>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7184em;vertical-align:-0.024em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âŸº</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">â€˜</span></span></span></span>å­˜åœ¨å•†å¤šé¡¹å¼  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord">/</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span></p>
</li>
</ul>
<h3 id="poly-iopå¯ä»¥é«˜æ•ˆå®Œæˆçš„ä»»åŠ¡"><a class="header" href="#poly-iopå¯ä»¥é«˜æ•ˆå®Œæˆçš„ä»»åŠ¡">Poly-IOPå¯ä»¥é«˜æ•ˆå®Œæˆçš„ä»»åŠ¡</a></h3>
<ul>
<li><strong>Task1 zero-test</strong>ï¼šè¯æ˜<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>åœ¨Hä¸Šç­‰äº0ï¼Œå³è¯æ˜Hä¸­çš„å…ƒç´ å‡ä¸º<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>çš„æ ¹</li>
<li><strong>Task2 sum-check</strong>ï¼šè¯æ˜<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0771em;vertical-align:-0.3271em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">âˆˆ</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3271em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span><span class="mord">â€˜</span></span></span></span>ï¼Œå³è¯æ˜<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>åœ¨Hä¸Šå…¨éƒ¨å–å€¼çš„å’Œç­‰äºb</li>
<li><strong>Task3 prod-check</strong>ï¼šè¯æ˜<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0771em;vertical-align:-0.3271em;"></span><span class="mord">â€˜</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1786em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mrel mtight">âˆˆ</span><span class="mord mathnormal mtight" style="margin-right:0.08125em;">H</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3271em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">c</span><span class="mord">â€˜</span></span></span></span>ï¼Œå³è¯æ˜<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>åœ¨Hä¸Šå…¨éƒ¨å–å€¼çš„å’Œç­‰äºc</li>
</ul>
<h3 id="zero-test-on-h"><a class="header" href="#zero-test-on-h">Zero Test on H</a></h3>
<ol>
<li>Prover å‘ Verifier Commit <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord cjk_fallback">å’Œ</span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord cjk_fallback">å³</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">â€˜</span></span></span></span></li>
<li>Verifier å‘Prover å‘é€éšæœºæ•°r</li>
<li>Verifier æ£€æŸ¥<span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.403em;vertical-align:-0.25em;"></span><span class="mord">â€˜</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.153em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mclose mtight">?</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0991em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8491em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">â€˜</span></span></span></span></li>
</ol>
<h3 id="å‚è€ƒèµ„æ–™"><a class="header" href="#å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</a></h3>
<p><a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-arithmetization.md">https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-arithmetization.md</a></p>
<p><a href="https://www.youtube.com/watch?v=J4pVTamUBvU&amp;list=PLj80z0cJm8QErn3akRcqvxUsyXWC81OGq&amp;index=2">https://www.youtube.com/watch?v=J4pVTamUBvU&amp;list=PLj80z0cJm8QErn3akRcqvxUsyXWC81OGq&amp;index=2</a></p>
<p><a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-polycom.md">https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-polycom.md</a>
](https://github.com/zkp-co-learning/ZKP/edit/main/%E7%AC%AC%E4%BA%8C%E7%AB%A0.md)https://github.com/zkp-co-learning/ZKP/edit/main/%E7%AC%AC%E4%BA%8C%E7%AB%A0.md](https://github.com/zkp-co-learning/ZKP/edit/main/%E7%AC%AC%E4%BA%8C%E7%AB%A0.md)https://github.com/zkp-co-learning/ZKP/edit/main/%E7%AC%AC%E4%BA%8C%E7%AB%A0.md</p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<p>æœ¬æ–‡å‡è®¾æ‚¨å¯¹æ¤­åœ†æ›²çº¿è¿ç®—åŠå“ˆå¸Œå‡½æ•°ç­‰æœ‰ç€åŸºç¡€çš„äº†è§£</p>
<h3 id="ç®€æ´çš„-schnorr-åè®®"><a class="header" href="#ç®€æ´çš„-schnorr-åè®®">ç®€æ´çš„ Schnorr åè®®</a></h3>
<p>Alice æ‹¥æœ‰ä¸€ä¸ªç§˜å¯†æ•°å­—ï¼Œ<code>a</code>ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ•°å­—æƒ³è±¡æˆã€Œç§é’¥ã€ï¼Œç„¶åæŠŠå®ƒã€Œæ˜ å°„ã€åˆ°æ¤­åœ†æ›²çº¿ç¾¤ä¸Šçš„ä¸€ä¸ªç‚¹Â <code>a*G</code>ï¼Œç®€å†™ä¸ºÂ <code>aG</code>ã€‚è¿™ä¸ªç‚¹æˆ‘ä»¬æŠŠå®ƒå½“åšã€Œå…¬é’¥ã€ã€‚</p>
<ul>
<li><code>sk = a</code>  ( secret key = a ) </li>
<li><code>PK = aG</code></li>
</ul>
<blockquote>
<p>a secret key <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>Â that corresponds to a public keyÂ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8588em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span></span></span></span>.</p>
</blockquote>
<p>è¯·æ³¨æ„ã€Œæ˜ å°„ã€è¿™ä¸ªè¯ï¼Œç»™ä»»æ„ä¸€ä¸ªæœ‰é™åŸŸä¸Šçš„æ•´æ•°Â <code>r</code>ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å¾ªç¯ç¾¤ä¸­æ‰¾åˆ°ä¸€ä¸ªå¯¹åº”çš„ç‚¹ Â <code>rG</code>ï¼Œæˆ–è€…ç”¨ä¸€ä¸ªæ ‡é‡ä¹˜æ³•æ¥è¡¨ç¤ºÂ <code>r*G</code>ã€‚ä½†æ˜¯åè¿‡æ¥è®¡ç®—æ˜¯å¾ˆã€Œå›°éš¾ã€çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªã€Œå¯†ç å­¦éš¾é¢˜ã€â€”â€” è¢«ç§°ä¸ºç¦»æ•£å¯¹æ•°éš¾é¢˜ã€‚</p>
<blockquote>
<p>å–æ¨¡ä¹‹å , å°±å¾ˆéš¾çŸ¥é“åŸæ¥çš„æŒ‡æ•°æ˜¯å¤šå°‘äº†ã€‚ äº‹å®ä¸Šï¼Œå¦‚æœæ¨¡å–å¾—ç›¸å½“å¤§ï¼Œä»è¿ç®—ç»“æœå€’æ¨æŒ‡æ•°è¿ç®—å°±ä¸å¯è¡Œäº†ï¼›<strong>ç°ä»£å¯†ç å­¦å¾ˆå¤§ç¨‹åº¦ä¸Šå°±æ˜¯åŸºäºè¿™ä¸ªé—®é¢˜çš„â€œå›°éš¾â€</strong></p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä»»æ„ç»™ä¸€ä¸ªæ¤­åœ†æ›²çº¿å¾ªç¯ç¾¤ä¸Šçš„ç‚¹Â <code>R</code>ï¼Œé‚£ä¹ˆåˆ°åº•æ˜¯æœ‰é™åŸŸä¸­çš„å“ªä¸€ä¸ªæ•´æ•°å¯¹åº”Â <code>R</code>ï¼Œè¿™ä¸ªè®¡ç®—æ˜¯å¾ˆéš¾çš„ï¼Œå¦‚æœæœ‰é™åŸŸè¶³å¤Ÿå¤§ï¼Œæ¯”å¦‚è¯´ 256bit è¿™ä¹ˆå¤§ï¼Œæˆ‘ä»¬å§‘ä¸”å¯ä»¥è®¤ä¸ºè¿™ä¸ªåå‘è®¡ç®—æ˜¯ä¸å¯èƒ½åšåˆ°çš„</p>
<p>Schnorr åè®®å……åˆ†åˆ©ç”¨äº†æœ‰é™åŸŸå’Œå¾ªç¯ç¾¤ä¹‹é—´å•å‘æ˜ å°„ï¼Œå®ç°äº†æœ€ç®€å•çš„é›¶çŸ¥è¯†è¯æ˜å®‰å…¨åè®®ï¼šAlice å‘ Bob è¯æ˜å¥¹æ‹¥æœ‰Â <code>PK</code>Â å¯¹åº”çš„ç§é’¥Â <code>sk</code> </p>
<p><img src="http://imagesoda.oss-cn-beijing.aliyuncs.com/Sodaoo/2023-02-04-120945.png" alt="" /></p>
<ol>
<li>ç¬¬ä¸€æ­¥ï¼šä¸ºäº†ä¿è¯é›¶çŸ¥è¯†ï¼ŒAlice éœ€è¦å…ˆäº§ç”Ÿä¸€ä¸ªéšæœºæ•° <code>r</code>ï¼Œè¿™ä¸ªéšæœºæ•°çš„ç”¨é€”æ˜¯ç”¨æ¥ä¿æŠ¤ç§é’¥ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> æ— æ³•è¢« Bob æŠ½å–å‡ºæ¥ã€‚è¿™ä¸ªéšæœºæ•°ä¹Ÿéœ€è¦æ˜ å°„åˆ°æ¤­åœ†æ›²çº¿ç¾¤ä¸Šå³ <code>rG</code>ã€‚  ( æ˜ å°„ä¹‹å , Bob å°±ä¸å¯èƒ½é€šè¿‡ <code>rG</code> æ¨ç®—å‡º <code>r </code> )</li>
<li>ç¬¬äºŒæ­¥ï¼šBob è¦æä¾›ä¸€ä¸ªéšæœºæ•°è¿›è¡ŒæŒ‘æˆ˜ï¼Œæˆ‘ä»¬æŠŠå®ƒç§°ä¸º Â <code>c</code>ã€‚</li>
<li>ç¬¬ä¸‰æ­¥ï¼šAlice æ ¹æ®æŒ‘æˆ˜æ•° <code>c</code>  è®¡ç®—Â  <code>z = r + c * a (å³sk)</code>ï¼ŒæŠŠÂ <code>z</code>  å‘ç»™ Bobï¼ŒBob åœ¨è‡ªå·±è¿™è¾¹é€šè¿‡ä¸‹å¼è¿›è¡Œæ£€éªŒï¼š</li>
</ol>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>z*G ?= R + c*PK 
    ?= rG + c*(aG)
<span class="boring">}</span></code></pre></pre>
<p>å¤§å®¶å¯ä»¥çœ‹åˆ° Bob åœ¨ç¬¬ä¸‰æ­¥ã€ŒåŒæ€åœ°ã€æ£€éªŒÂ <code>z</code>Â çš„è®¡ç®—è¿‡ç¨‹ã€‚å¦‚æœè¿™ä¸ªå¼å­æˆç«‹ï¼Œé‚£ä¹ˆå°±èƒ½è¯æ˜ Alice ç¡®å®æœ‰ç§é’¥Â <code>a</code>ã€‚å¯æ˜¯ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p><code>z</code>Â çš„è®¡ç®—å’ŒéªŒè¯è¿‡ç¨‹å¾ˆæœ‰è¶£ï¼Œæœ‰å‡ ä¸ªå…³é”®æŠ€å·§ï¼š</p>
<ol>
<li>é¦–å…ˆ Bob å¿…é¡»ç»™å‡ºä¸€ä¸ªã€Œéšæœºã€æŒ‘æˆ˜æ•° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span> ï¼Œç„¶å Bob åœ¨æ¤­åœ†æ›²çº¿ä¸ŠåŒæ€åœ°æ£€æŸ¥Â <code>z</code>Â ã€‚å¦‚æœæˆ‘ä»¬æŠŠæŒ‘æˆ˜æ•° Â <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>Â  çœ‹æˆæ˜¯ä¸€ä¸ªæœªçŸ¥æ•°ï¼Œé‚£ä¹ˆÂ <code>r+a*c=z</code>Â å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹ï¼Œå…¶ä¸­Â <code>r</code>Â ä¸Â <code>a</code>Â æ˜¯æ–¹ç¨‹ç³»æ•°ã€‚è¯·æ³¨æ„åœ¨Â <code>c</code>Â æœªçŸ¥çš„å‰æä¸‹ï¼Œå¦‚æœÂ <code>r + a*x = r' + a'*x</code>Â è¦æˆç«‹ï¼Œé‚£ä¹ˆæ ¹æ® Schwatz-Zippel å®šç†ï¼Œæå¤§æ¦‚ç‡ä¸ŠÂ <code>r=r'</code>ï¼Œ<code>a=a'</code>Â éƒ½æˆç«‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ Alice åœ¨Â <code>c</code>Â æœªçŸ¥çš„å‰æä¸‹ï¼Œæƒ³æ‰¾åˆ°å¦ä¸€å¯¹ä¸åŒçš„Â <code>r'</code>,<code>a'</code>Â æ¥è®¡ç®—Â <code>z</code>Â éª—è¿‡ Bob æ˜¯å‡ ä¹ä¸å¯èƒ½çš„ã€‚è¿™ä¸ªéšæœºæŒ‘æˆ˜æ•°Â <code>c</code>Â å®ç°äº†<code>r</code>Â å’ŒÂ <code>a</code>Â çš„é™åˆ¶ã€‚è™½ç„¶ Bob éšæœºé€‰äº†ä¸€ä¸ªæ•°ï¼Œä½†æ˜¯ç”±äº Alice äº‹å…ˆä¸çŸ¥é“ï¼Œæ‰€ä»¥ Alice ä¸å¾—ä¸ä½¿ç”¨ç§é’¥Â <code>a</code>Â æ¥è®¡ç®—Â <code>z</code>ã€‚è¿™é‡Œçš„å…³é”®ï¼šÂ <code>c</code>Â å¿…é¡»æ˜¯ä¸ªéšæœºæ•°ã€‚</li>
<li>Bob éªŒè¯æ˜¯åœ¨æ¤­åœ†æ›²çº¿ç¾¤ä¸Šå®Œæˆã€‚Bob ä¸çŸ¥é“ <code>r</code> ï¼Œä½†æ˜¯ä»–çŸ¥é“Â <code>r</code>Â  æ˜ å°„åˆ°æ›²çº¿ä¸Šçš„ç‚¹ <code>R</code> ï¼›Bob ä¹Ÿä¸çŸ¥é“Â <code>a</code>ï¼Œä½†æ˜¯ä»–çŸ¥é“Â <code>a</code>Â æ˜ å°„åˆ°æ›²çº¿ç¾¤ä¸Šçš„ç‚¹Â <code>PK</code>ï¼Œå³Â <code>a*G</code>ã€‚é€šè¿‡åŒæ€æ˜ å°„ä¸Schwatz-Zippel å®šç†ï¼ŒBob å¯ä»¥æ ¡éªŒÂ <code>z</code>Â çš„è®¡ç®—è¿‡ç¨‹æ˜¯å¦æ­£ç¡®ï¼Œä»è€ŒçŸ¥é“ Alice ç¡®å®æ˜¯é€šè¿‡Â <code>r</code>Â å’ŒÂ <code>a</code>Â è®¡ç®—å¾—å‡ºçš„Â <code>z</code>ï¼Œä½†æ˜¯åˆä¸æš´éœ²Â <code>r</code>Â ä¸Â <code>a</code>Â çš„å€¼ã€‚</li>
<li>è¿˜æœ‰ï¼Œåœ¨åè®®ç¬¬ä¸€æ­¥ä¸­äº§ç”Ÿçš„éšæœºæ•°Â <code>r</code>Â ä¿è¯äº†Â <code>a</code>Â çš„ä¿å¯†æ€§ã€‚å› ä¸ºä»»ä½•ä¸€ä¸ªç§˜å¯†å½“å’Œä¸€ä¸ªç¬¦åˆã€Œä¸€è‡´æ€§åˆ†å¸ƒã€çš„éšæœºæ•°ç›¸åŠ ä¹‹åçš„å’Œä»ç„¶ç¬¦åˆã€Œä¸€è‡´æ€§åˆ†å¸ƒã€ã€‚</li>
</ol>
<p>çœ‹æ‡‚äº†è¿™ä¸ªå›¾å°±çœ‹æ‡‚äº† !!!!! 
<img src="http://imagesoda.oss-cn-beijing.aliyuncs.com/Sodaoo/2023-02-04-120945.png" alt="" /></p>
<p>æ˜¯ Sigma é›¶çŸ¥è¯†è¯æ˜çš„ä¸€ä¸ªç‰¹ä¾‹</p>
<h4 id="schnorr-çš„éäº¤äº’å¼ç‰ˆæœ¬"><a class="header" href="#schnorr-çš„éäº¤äº’å¼ç‰ˆæœ¬">Schnorr çš„éäº¤äº’å¼ç‰ˆæœ¬</a></h4>
<p>Schnorr åè®®çš„éäº¤äº’å¼ç‰ˆæœ¬å¯ä»¥é¿å… Prover ä¸ Verifier çš„äº¤äº’ï¼Œä½†è¿™è¦æ±‚ Prover ä½¿ç”¨å“ˆå¸Œå‡½æ•°ï¼Œè¿™æ ·ä»–å°±æ— æ³•é¢„æµ‹å“ˆå¸Œå‡½æ•°çš„è¾“å‡ºï¼Œéäº¤äº’å¼ç‰ˆæœ¬çš„éªŒè¯å™¨å®ç°éå¸¸ç®€å•ï¼Œå› ä¸ºå®ƒä¸éœ€è¦éšæœºæ•°ç”Ÿæˆå™¨</p>
<p>(Making the protocol non-interactive)</p>
<p>é¦–å…ˆå®šä¹‰:  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>  æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span> å³ç§é’¥ ;  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>  æ˜¯ Public key å³å…¬é’¥ ;    <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8588em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span> </p>
<ol>
<li>Prover ç”Ÿæˆä¸€ä¸ªéšæœºæ•° <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>  å¹¶åˆ›å»ºä¸€ä¸ªæ‰¿è¯º  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">mm</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8588em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span></span></span></span></span></span></span></span> , Prover å¯¹   <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal">co</span><span class="mord mathnormal">mm</span><span class="mord cjk_fallback">ã€</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span>  è¿›è¡Œå“ˆå¸Œå¤„ç†ä»¥è·å¾—æŒ‘æˆ˜å€¼ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>  ,   <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ha</span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">mm</span><span class="mclose">)</span></span></span></span> </li>
<li>Prover åˆ›å»ºå¯¹æŒ‘æˆ˜çš„å“åº” <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> , ç„¶åå°†å…ƒç»„ <code>(comm, s)</code> å‘é€ç»™éªŒè¯è€…ã€‚</li>
</ol>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.7em;vertical-align:-1.1em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6em;"><span style="top:-3.6em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6em;"><span style="top:-3.6em;"><span class="pstrut" style="height:3.45em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">mm</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mspace" style="margin-right:1em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>Verifier è‡ªå·±è®¡ç®— <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">mm</span><span class="mclose">)</span></span></span></span>  , ç„¶åéªŒè¯ : </p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:6.0519em;vertical-align:-2.776em;"></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.276em;"><span style="top:-5.276em;"><span class="pstrut" style="height:3.153em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span></span></span><span style="top:-3.763em;"><span class="pstrut" style="height:3.153em;"></span><span class="mord"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.153em;"></span><span class="mord"></span></span><span style="top:-0.737em;"><span class="pstrut" style="height:3.153em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mbin mtight">+</span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mord mathnormal mtight">c</span><span class="mbin mtight">âˆ—</span><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.776em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.276em;"><span style="top:-5.276em;"><span class="pstrut" style="height:3.153em;"></span><span class="mord"><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.153em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mclose mtight">?</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;color:red;">P</span><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.07153em;color:red;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mathnormal mtight" style="color:red;">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mtight" style="color:red;">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="color:blue;">co</span><span class="mord mathnormal" style="color:blue;">mm</span></span></span></span><span style="top:-3.763em;"><span class="pstrut" style="height:3.153em;"></span><span class="mord"><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.153em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mclose mtight">?</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;color:red;">P</span><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.07153em;color:red;">K</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mathnormal mtight" style="color:red;">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight" style="color:red;"><span class="mord mtight" style="color:red;"><span class="mord mtight" style="color:red;">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord" style="color:blue;"><span class="mord mathnormal" style="margin-right:0.03588em;color:blue;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:blue;"><span class="mord mathnormal mtight" style="margin-right:0.02778em;color:blue;">r</span></span></span></span></span></span></span></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.153em;"></span><span class="mord"><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.153em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mclose mtight">?</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight" style="color:orange;"><span class="mord mathnormal mtight" style="color:orange;">a</span></span><span class="mbin mtight" style="color:orange;">â‹…</span><span class="mord mtight" style="color:orange;"><span class="mord mathnormal mtight" style="color:orange;">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight" style="color:orange;"><span class="mord mtight" style="color:orange;"><span class="mord mtight" style="color:orange;">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;color:orange;">r</span></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:1em;"></span><span class="mopen">(</span><span class="mrel amsrm">âˆµ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6644em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">a</span><span class="mspace">Â </span><span class="mord mathnormal">i</span><span class="mord mathnormal">s</span><span class="mspace">Â </span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose">)</span></span></span><span style="top:-0.737em;"><span class="pstrut" style="height:3.153em;"></span><span class="mord"><span class="mrel"><span class="mop op-limits"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.153em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">=</span></span></span><span style="top:-3.5669em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mclose mtight">?</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9425em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mbin mtight">+</span><span class="mspace mtight"><span class="mtight">Â </span></span><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span><span class="mbin mtight">â‹…</span><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8278em;"><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:2.776em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></span></p>
<p>å¦‚æœ Verifier è‡ªå·±éªŒè¯è¿™ä¸ªç­‰å¼ç›¸ç­‰, åˆ™ Prover å°±é€šè¿‡ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>  è¿™ç§æ–¹å¼éšè—äº†ç§é’¥ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span> , åŒæ—¶åˆèƒ½è®©å¯¹æ–¹ç¡®ä¿¡è‡ªå·±çœŸçš„æœ‰è¿™ä¸ªç§é’¥ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">a</span></span></span></span>  .</p>
<ol>
<li>The prover generates a random numberÂ <code>r</code>Â and creates a commitmentÂ <code>com = gÊ³</code>. The prover hashes Â <code>g</code>,Â <code>com</code>Â andÂ <code>y</code>Â to get challengeÂ <code>c</code>.Â <code>c = Hash(g, y, t)</code>.</li>
<li>The prover creates a response to the challenge asÂ <code>s = r + c*x</code>. The prover sends tupleÂ <code>(t, s)</code>Â to the verifier.</li>
</ol>
<p>The verifier now generates the same challengeÂ <code>c</code>Â asÂ <code>Hash(g, y, t)</code>Â and again checks ifÂ <code>gË¢</code>Â equalsÂ <code>yá¶œ.t</code>.Â <a href="https://github.com/lovesh/python-rubenesque/blob/f202f82104e161566793002f4857961f7cf12744/test/test_sigma.py#L8">Python code demonstrating this protocol</a>.</p>
<h4 id="schnorr-çš„é—®é¢˜"><a class="header" href="#schnorr-çš„é—®é¢˜">Schnorr çš„é—®é¢˜</a></h4>
<p>å¯¹ä¸åŒçš„æ¶ˆæ¯, å¦‚æœä¸å¹¸é€‰äº†ç›¸åŒçš„éšæœºæ•°  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>   ç§é’¥å°±ä¼šæ³„éœ²</p>
<p>å¦‚æœ Alice åœ¨ä¸¤æ¬¡äº¤äº’è¿‡ç¨‹ä¸­ä½¿ç”¨äº†åŒä¸€ä¸ªÂ <code>K</code>ï¼Œé‚£ä¹ˆ Bob å¯ä»¥é€šè¿‡å‘é€ä¸¤ä¸ªä¸åŒçš„Â <code>c</code>Â å’ŒÂ <code>c'</code>Â æ¥å¾—åˆ°Â <code>s</code>Â å’ŒÂ <code>s'</code>ï¼Œç„¶åé€šè¿‡ä¸‹é¢çš„å…¬å¼ç®—å‡ºç§é’¥Â <code>a</code>ï¼š</p>
<pre><code class="language-python">s  = (c +a*e)/k , 
s' = (c'+a*e)/k , ä¸¤å¼ç›¸å‡, æ±‚å‡º k 

k = (c - c')/(s - s')
a = (k * s - c)/e
</code></pre>
<h3 id="ecdsa"><a class="header" href="#ecdsa">ECDSA</a></h3>
<blockquote>
<p>Bitcoin å’Œ ETH éƒ½æ”¯æŒ ECDSA signature.</p>
</blockquote>
<h4 id="why-need-ecdsa"><a class="header" href="#why-need-ecdsa">why need ECDSA?</a></h4>
<p>é™¤äº†æ˜¾è€Œæ˜“è§çš„â€œæˆ‘éœ€è¦å¯¹ä¸€ä»½æ–‡ä»¶/åˆåŒè¿›è¡Œç­¾åâ€ï¼Œè¿˜æœ‰ä¸€ä¸ªéå¸¸æµè¡Œçš„åº”ç”¨åœºæ™¯ï¼šè®©æˆ‘ä»¬ä»¥ä¸€ä¸ªä¸æƒ³è‡ªå·±çš„æ•°æ®è¢«ç”¨æˆ·ä¿®æ”¹æˆ–è€…ç ´åçš„åº”ç”¨ç¨‹åºä¸ºä¾‹ï¼Œæ¯”å¦‚ä¸€ä¸ªåªå…è®¸ä½ è½½å…¥å®˜æ–¹åœ°å›¾å’Œä¸å¯ä¿®æ”¹çš„æ¨¡å—çš„æ¸¸æˆï¼Œæˆ–è€…ä¸€éƒ¨åªå…è®¸ä½ å®‰è£…å®˜æ–¹åº”ç”¨ç¨‹åºçš„æ‰‹æœºæˆ–å…¶å®ƒè®¾å¤‡ã€‚</p>
<p>åœ¨è¿™äº›æ¡ˆä¾‹å½“ä¸­ï¼Œç›¸å…³æ–‡ä»¶ï¼ˆåº”ç”¨ç¨‹åºã€æ¸¸æˆåœ°å›¾ã€æ•°æ®ç­‰ï¼‰ä¼šç”¨ <code> ECDSA</code> è¿›è¡Œç­¾åï¼Œå…¬é’¥ä¼šéšåº”ç”¨ç¨‹åº/æ¸¸æˆ/è®¾å¤‡ä¸€èµ·æ†ç»‘å¹¶ç”¨æ¥éªŒè¯ç­¾åæ¥ç¡®ä¿æ•°æ®æ²¡æœ‰è¢«ä¿®æ”¹ï¼Œè€Œç§é’¥åœ¨æœ¬åœ°ä¸€ä¸ªç§å¯†çš„åœ°æ–¹è¿›è¡Œä¿å­˜ã€‚ç”±äºä½ å¯ä»¥ç”¨å…¬é’¥å¯¹ç­¾åè¿›è¡ŒéªŒè¯ï¼Œä½†æ˜¯ä¸èƒ½ç”¨å®ƒåˆ›å»ºæˆ–è€…ä¼ªé€ æ–°çš„ç­¾åï¼Œä½ å¯ä»¥æ— æ‰€é¡¾å¿Œåœ°å°†å…¬é’¥éšåº”ç”¨ç¨‹åº/æ¸¸æˆ/è®¾å¤‡ä¸€èµ·åˆ†å‘ã€‚</p>
<p>è¿™ä¸<code>AES</code>ç›¸æ¯”ï¼ŒåŒºåˆ«æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚<code>AES</code>åŠ å¯†ç³»ç»Ÿå…è®¸ä½ å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä½†æ˜¯ä½ éœ€è¦ç”¨å¯†é’¥æ¥è§£å¯†ï¼Œè¿™å°±è¦æ±‚ä½ å°†å¯†é’¥ä¸åº”ç”¨ç¨‹åºä¸€èµ·æ†ç»‘ï¼Œç ´åäº†å¯¹æ•°æ®è¿›è¡Œä¿æŠ¤é˜²æ­¢æ•°æ®è¢«ç”¨æˆ·ä¿®æ”¹çš„ç›®çš„ã€‚</p>
<p>ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­å°±æ˜¯PS3çš„æ§åˆ¶å°ï¼Œå®ƒè¢«å¤§é‡çš„ç ´è§£ï¼Œæ‰€æœ‰çš„æ–‡ä»¶å¯ä»¥è§£å¯†ï¼Œæ‰€æœ‰çš„å¯†é’¥å¯ä»¥ä»è§£å¯†çš„æ–‡ä»¶å½“ä¸­æŠ½å–ï¼Œä½†æ˜¯ä¸ºäº†èƒ½å¤Ÿåœ¨æœ€æ–°çš„å›ºä»¶ä¸Šé¢è¿è¡Œç¨‹åºï¼Œä½ è¿˜éœ€è¦ç ´è§£ä¸€ä¸ª<code>ECDSA</code>çš„æ•°å­—ç­¾åã€‚</p>
<p>å½“ä½ æƒ³è¦å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡Œç­¾åçš„æ—¶å€™ï¼Œä½ ä¼šç”¨è¿™ä¸ªç§é’¥ / éšæœºæ•° / æ–‡ä»¶çš„å“ˆå¸Œç»„æˆä¸€ä¸ªé­”æ³•æ•°å­¦æ–¹ç¨‹ï¼Œè¿™å°†ç»™å‡ºä½ çš„ç­¾åã€‚ç­¾åæœ¬èº«å°†è¢«åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œç§°ä¸º <code>R</code> å’Œ <code>S</code> </p>
<ul>
<li>é€‰æ‹©éšæœºæ•°  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  ,  è®¡ç®—æ‰¿è¯º :  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord"><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03148em;color:red;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mbin mtight" style="color:red;">âˆ’</span></span></span></span></span></span></span></span><span class="mord" style="color:red;">1</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> </li>
<li>æŒ‘æˆ˜ : å–  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>  çš„æ¨ªåæ ‡ä¸º  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;color:orange;">r</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.3333em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>      (å…ˆ mod  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>  ,  å† mod <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> )</li>
<li>å“åº” :  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord"><span class="mord mathnormal" style="color:orange;">s</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;color:red;">k</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;color:orange;">r</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.3333em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></li>
</ul>
<p><strong>ä¸ºäº†éªŒè¯ç­¾åçš„æ­£ç¡®æ€§ï¼Œä½ åªéœ€è¦å…¬é’¥ï¼ˆç”¨ç§é’¥åœ¨æ›²çº¿ä¸Šé¢äº§ç”Ÿçš„ç‚¹ï¼‰å¹¶å°†å…¬é’¥å’Œç­¾åçš„ä¸€éƒ¨åˆ† <code>S</code> ä¸€èµ·ä»£å…¥å¦å¤–ä¸€ä¸ªæ–¹ç¨‹ï¼Œå¦‚æœè¿™ä¸ªç­¾åæ˜¯ç”±ç§é’¥æ­£ç¡®ç­¾åè¿‡çš„æ•°å­—ç­¾åï¼Œé‚£ä¹ˆå®ƒå°†ç»™å‡ºç­¾åçš„å¦å¤–ä¸€éƒ¨åˆ†  <code>R</code> ã€‚</strong></p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8019em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">G</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span></span></p>
<p>ç®€å•æ¥è¯´ï¼Œä¸€ä¸ªæ•°å­—ç­¾ååŒ…å«ä¸¤ä¸ªæ•°å­—ï¼Œ<code>R</code> å’Œ  <code>S</code>ï¼Œç„¶åä½ ä½¿ç”¨ä¸€ä¸ªç§é’¥æ¥äº§ç”Ÿ  <code>R</code>  å’Œ  <code>S</code>  ï¼Œå¦‚æœå°†å…¬é’¥å’Œ  <code>S</code>  ä»£å…¥è¢«é€‰å®šçš„é­”æ³•æ•°å­¦æ–¹ç¨‹ç»™å‡º  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span> , ä¸”  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">==</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span>  çš„è¯ï¼Œè¿™ä¸ªç­¾åå°±æ˜¯æœ‰æ•ˆçš„ã€‚ä»…ä»…çŸ¥é“å…¬é’¥æ˜¯æ— æ³•çŸ¥é“ç§é’¥æˆ–è€…åˆ›å»ºå‡ºæ•°å­—ç­¾åã€‚</p>
<h4 id="algorithm"><a class="header" href="#algorithm">Algorithm</a></h4>
<p>åˆå§‹åŒ–ï¼š æ¤­åœ†æ›²çº¿ç”Ÿæˆå…ƒä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span>ï¼Œæ ‡é‡åŸŸä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼ŒåŸºåŸŸä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span> </p>
<blockquote>
<p><strong>åŸºåŸŸ</strong> ç†è§£ä¸ºæ¤­åœ†æ›²çº¿ç‚¹çš„æ¨ªçºµåæ ‡çš„å–å€¼èŒƒå›´
<strong>æ ‡é‡åŸŸ</strong> å³åšå€ç‚¹è¿ç®—çš„æ ‡é‡çš„å–å€¼èŒƒå›´, æ¯”å¦‚ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span>  é‡Œçš„ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> , å…¶ä¸ä¼šè¶…è¿‡æ¤­åœ†æ›²çº¿çš„é˜¶ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span></p>
</blockquote>
<p>å¯†é’¥ç”Ÿæˆï¼š  ç§é’¥  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  å’Œå…¬é’¥  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span></p>
<p>ç­¾å:   è¾“å…¥ä»»æ„æ¶ˆæ¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> ï¼Œ è®¡ç®—  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.3333em;"></span><span class="mord">âˆ£</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span></p>
<ul>
<li>é€‰æ‹©éšæœºæ•°  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.0391em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>  ,  è®¡ç®—æ‰¿è¯º :  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7713em;"></span><span class="mord"><span class="mord" style="color:red;"><span class="mord mathnormal" style="margin-right:0.03148em;color:red;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7713em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight" style="color:red;"><span class="mbin mtight" style="color:red;">âˆ’</span></span></span></span></span></span></span></span><span class="mord" style="color:red;">1</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> </li>
<li>æŒ‘æˆ˜ : å–  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>  çš„æ¨ªåæ ‡ä¸º  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;color:orange;">r</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.3333em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>      (å…ˆ mod  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>  ,  å† mod <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> )</li>
<li>å“åº” :  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord"><span class="mord mathnormal" style="color:orange;">s</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;color:red;">k</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;color:orange;">r</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.3333em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>         ( k å¢åŠ äº† ECDSA çš„éš¾åº¦)</li>
</ul>
<p>åˆ™ç­¾åä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;color:orange;">r</span><span class="mpunct" style="color:orange;">,</span><span class="mspace" style="color:orange;"><span style="color:orange;">Â </span></span><span class="mspace" style="color:orange;"><span style="color:orange;">Â </span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="color:orange;">s</span></span><span class="mclose">)</span></span></span></span></p>
<blockquote>
<p><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span></span></span></span>   æ˜¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>   çš„ä¹˜æ³•é€†å…ƒ</p>
</blockquote>
<p>æˆ‘ä»¬æ˜¯å¦‚ä½•å¯¹ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ä¸€ä¸ªä¿¡æ¯è¿›è¡Œç­¾åçš„å‘¢ï¼Ÿ</p>
<ol>
<li>ä½ éœ€è¦çŸ¥é“ç­¾åæœ¬èº«æ˜¯ 40 å­—èŠ‚ï¼Œç”±å„20å­—èŠ‚çš„ä¸¤ä¸ªå€¼æ¥è¿›è¡Œè¡¨ç¤ºï¼Œç¬¬ä¸€ä¸ªå€¼å«ä½œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>ï¼Œç¬¬äºŒä¸ªå«ä½œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span>ã€‚</li>
<li>å€¼å¯¹  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span></span></span>  æ”¾åˆ°ä¸€èµ·å°±æ˜¯ä½ çš„  <code>ECDSA</code>  ç­¾å</li>
</ol>
<h4 id="éªŒè¯-"><a class="header" href="#éªŒè¯-">éªŒè¯ :</a></h4>
<p>éªŒè¯å®ƒï¼Œä¹Ÿéå¸¸çš„ç®€å•ï¼Œä½ åªéœ€è¦ [å…¬é’¥] å’Œå¯¼å‡ºè¿™ä¸ªå…¬é’¥çš„æ›²çº¿å‚æ•°å°±å¯ä»¥äº†ã€‚ä½ ç”¨ä»¥ä¸‹æ–¹ç¨‹æ¥è®¡ç®—  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span> ï¼š</p>
<p>Verifier  : </p>
<ol>
<li>è¾“å…¥æ¶ˆæ¯ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span> , è®¡ç®—  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span></span></span></li>
<li>æ ¡éªŒ  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li>
<li>è®¡ç®—</li>
</ol>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8019em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">G</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span></span></p>
<p>å–  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span>  çš„æ¨ªåæ ‡ä¸º  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0272em;vertical-align:-0.2753em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-2.4247em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2753em;"><span></span></span></span></span></span></span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.4444em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.3333em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em;">r</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>    ,  æ ¡éªŒç­‰å¼  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">==</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span>   : å¦‚æœç›¸ç­‰, åˆ™æ¥å— , å¦åˆ™æ‹’ç»</p>
<p>å…¬å¼æ¨å¯¼è¿‡ç¨‹å¦‚ä¸‹: </p>
<p><span class="katex-display"><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:7.5964em;vertical-align:-3.5482em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.0482em;"><span style="top:-6.0482em;"><span class="pstrut" style="height:2.8641em;"></span><span class="mord"></span></span><span style="top:-4.5241em;"><span class="pstrut" style="height:2.8641em;"></span><span class="mord"></span></span><span style="top:-3em;"><span class="pstrut" style="height:2.8641em;"></span><span class="mord"></span></span><span style="top:-1.4759em;"><span class="pstrut" style="height:2.8641em;"></span><span class="mord"></span></span><span style="top:0.0241em;"><span class="pstrut" style="height:2.8641em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.5482em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.0482em;"><span style="top:-6.1841em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8019em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span><span style="top:-4.66em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;color:red;">r</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:red;">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="color:red;">x</span><span class="mclose" style="color:red;">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin" style="color:red;">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="color:red;">G</span></span></span></span><span style="top:-3.1359em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">x</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:-1.6118em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">G</span></span></span><span style="top:-0.1118em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.5482em;"><span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>è¿™é‡ŒçŸ¥é“ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>  è¿˜æ˜¯å¯ä»¥æ¨ç®—ç§é’¥,  æ‰€ä»¥ EIP-32 è¦æ±‚ :  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.08125em;">H</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">ess</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal">e</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span></p>
<h3 id="eddsa"><a class="header" href="#eddsa">EdDSA</a></h3>
<blockquote>
<p>ä»¥å¤ªåŠ BN256 æ›²çº¿å·²ç»æ”¯æŒäº† EdDSA</p>
</blockquote>
<p>EdDSA æ­£æ˜¯ä¸ºäº†è§£å†³ Schnorr ç­¾åç§é’¥æ³„éœ²çš„é—®é¢˜ :  ä»–ä¸æ˜¯é€‰æ‹©éšæœºæ•°, è€Œæ˜¯è®¡ç®—éšæœºæ•°</p>
<p>åˆå§‹åŒ– : æ¤­åœ†æ›²çº¿ç”Ÿæˆå…ƒä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span> ,  é˜¶ä¸º  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>
å¯†é’¥ç”Ÿæˆ : ç§é’¥ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> ,  å…¬é’¥ä¸º  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">G</span></span></span></span></p>
<p>ç­¾åï¼š æ¶ˆæ¯ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ï¼Œè®¡ç®—éšæœºæ•°  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;color:red;">r</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel" style="color:red;">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="color:red;">ha</span><span class="mord mathnormal" style="color:red;">s</span><span class="mord mathnormal" style="color:red;">h</span><span class="mopen" style="color:red;">(</span><span class="mord mathnormal" style="color:red;">x</span><span class="mpunct" style="color:red;">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="color:red;">m</span><span class="mclose" style="color:red;">)</span></span></span></span>**ï¼Œè®¡ç®—æ‰¿è¯º  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">G</span></span></span></span>ï¼Œ</p>
<p>è®¡ç®—æŒ‘æˆ˜  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ha</span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span></p>
<p>è®¡ç®—å“åº”  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">s</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6667em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">mod</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span></p>
<p>ç­¾åä¸º(R,s)</p>
<p>éªŒè¯ï¼š é‡æ–°è®¡ç®—æŒ‘æˆ˜  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ha</span><span class="mord mathnormal">s</span><span class="mord mathnormal">h</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">m</span><span class="mclose">)</span></span></span></span> ï¼Œç„¶åæ ¡éªŒ  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">G</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">==</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">e</span><span class="mpunct">â‹…</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">K</span></span></span></span></p>
<p>ä¸ ECDSA æœ€å¤§çš„åŒºåˆ«åœ¨äº  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>  æ˜¯ç®—å‡ºæ¥çš„, æ²¡æœ‰ä½¿ç”¨éšæœºæ•°
è¿™æ ·äº§ç”Ÿçš„ç­¾åç»“æœæ˜¯ç¡®å®šæ€§çš„ï¼Œå³å¯¹åŒä¸€æ¶ˆæ¯, ç­¾åç»“æœç›¸åŒ, ä¸ä¼šé¢å¤–æ³„éœ²ä¿¡æ¯</p>
<p>ä¸€èˆ¬è¯´æ¥éšæœºæ•°æ˜¯å®‰å…¨æªæ–½ä¸­é‡è¦çš„ä¸€ç§æ–¹æ³•ï¼Œä½†æ˜¯éšæœºæ•°çš„äº§ç”Ÿä¹Ÿæ˜¯å®‰å…¨éšæ‚£ï¼Œè‘—åçš„ç´¢å°¼å…¬å¸äº§å“ PS3  å¯†é’¥æ³„éœ²äº‹ä»¶ï¼Œå°±æ˜¯éšæœºæ•°äº§ç”Ÿçš„é—®é¢˜å¯¼è‡´çš„ (å†™æ­»åœ¨äº†ä»£ç é‡Œ, æ™•)ã€‚</p>
<h3 id="zk-snark"><a class="header" href="#zk-snark">zk-SNARK</a></h3>
<p>åœ¨èŠ zk-SNARKs ä¹‹å‰, é¦–å…ˆæ¥çœ‹ NARK(Non-interactive ARgument of Knowledge) :</p>
<p><img src="http://imagesoda.oss-cn-beijing.aliyuncs.com/Sodaoo/2023-07-20-023801.png" alt="" /></p>
<ul>
<li>C : ç”µè·¯ Circuit </li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> : å…¬å¼€å£°æ˜ public statement</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span> : <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal" style="color:brown;">secre</span><span class="mord mathnormal" style="color:brown;">t</span></span></span></span> <em>witness</em> </li>
<li><strong>é¢„å¤„ç†(Preprocessing)</strong> ä¹Ÿç§°ä¸º <strong>Setup</strong>, å®ƒä»¥ç”µè·¯çš„æè¿°ä½œä¸ºè¾“å…¥,ç„¶åè¾“å‡ºè¿™äº›å…¬å¼€å‚æ•°,æˆ‘ä»¬ç§°ä¹‹ä¸º <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">pp</span></span></span></span> å’Œ <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">p</span></span></span></span> : </li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">pp</span></span></span></span> è¡¨ç¤º<strong>å…¬å¼€çš„</strong>å‚æ•°,ä¾›è¯æ˜è€…ä½¿ç”¨ã€‚</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">p</span></span></span></span> è¡¨ç¤º<strong>å…¬å¼€çš„</strong>å‚æ•°,ä¾›éªŒè¯è€…ä½¿ç”¨ã€‚</li>
</ul>
<p><img src="http://imagesoda.oss-cn-beijing.aliyuncs.com/Sodaoo/2023-07-20-024037.png" alt="" /></p>
<p>è¯æ˜è€…å’ŒéªŒè¯è€…å„è‡ªä¼šè¾“å…¥ : </p>
<ul>
<li>prover takes the  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> (public statement)   &amp;  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">pp</span></span></span></span> (public (circuit)params)  &amp;  the Witness</li>
<li>Verifier takes <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">p</span></span></span></span>  &amp;  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span> (public statement) </li>
</ul>
<p>ç„¶å,è¯æ˜è€…è¯•å›¾å‘éªŒè¯è€…è¯æ˜:  <strong>It knows some  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>  such that  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></strong></p>
<p><strong>NARK Definition</strong> :  A pre-processing NARK is a triple  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mclose">)</span></span></span></span> , where : </p>
<ul>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span></span></span></span>  generate the Circuit's  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">pp</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord">&amp;</span><span class="mspace">Â </span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">p</span></span></span></span>  as public params for P &amp; V.</li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal">pp</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="color:green;">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;color:brown;">w</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span></span></span></span> :  proof  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span></span></span></span></li>
<li><span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">p</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="color:green;">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;color:blue;">Ï€</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span></span></span></span> :  <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="color:green;">A</span><span class="mord mathnormal" style="color:green;">cce</span><span class="mord mathnormal" style="color:green;">pt</span></span></span></span> <em>or</em> <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;color:red;">R</span><span class="mord mathnormal" style="color:red;">e</span><span class="mord mathnormal" style="margin-right:0.05724em;color:red;">j</span><span class="mord mathnormal" style="color:red;">ec</span><span class="mord mathnormal" style="color:red;">t</span></span></span></span></li>
</ul>
<blockquote>
<p>æ‰€æœ‰ç®—æ³•å’Œå¯¹æ‰‹éƒ½å¯ä»¥è®¿é—® <em>éšæœºé¢„è¨€æœº (random oracle)</em> </p>
</blockquote>
<p>zk-SNARKs æ¡ä»¶æ˜¯è‹›åˆ»çš„, å› ä¸ºè¦è®© Verifier åœ¨å¦‚æ­¤çŸ­çš„æ—¶é—´å†…å®ŒæˆæŸäº›éªŒè¯, æˆ‘ä»¬éœ€è¦ä¸€äº›æ–°çš„æ–¹æ³•æ¥å»å¤„ç†è®¡ç®—, æ¯”å¦‚å¤šé¡¹å¼æ‰¿è¯º (polynomial commitment)</p>
<p>(To be continued ...)</p>
<h3 id="reference--2"><a class="header" href="#reference--2">Reference :</a></h3>
<p>Vitalik ZK_Snark
zk-learning Lectures
å®‰æ¯” zk-snarks
https://vitalik.ca/general/2021/01/26/snarks.html
<a href="https://medium.com/@loveshharchandani/zero-knowledge-proofs-with-sigma-protocols-91e94858a1fb">Zero Knowledge Proofs with Sigma Protocols</a></p>
<div style="break-before: page; page-break-before: always;"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="ä»ä»£ç ä¸­å­¦ä¹ -plonk-åè®®"><a class="header" href="#ä»ä»£ç ä¸­å­¦ä¹ -plonk-åè®®">ä»ä»£ç ä¸­å­¦ä¹  Plonk åè®®</a></h1>
<p>å†™ä½œæœ¬æ–‡çš„ç›®çš„ä¸»è¦æ˜¯å¸Œæœ›ä»ä»£ç çš„è§’åº¦ç†è§£ Plonk åè®®ã€‚å› ä¸ºæˆ‘æ˜¯å¼€å‘è€…ï¼Œä¹‹å‰è¯»æ–‡ç« é‡åˆ°å…¬å¼æ„Ÿè§‰æ¯”è¾ƒæŠ½è±¡ï¼Œæ‰€ä»¥å¸Œæœ›æœ‰è¿™æ ·çš„æ–‡ç« ï¼Œå¯ä»¥ä»ä»£ç çš„è§’åº¦æ¥é˜è¿° ZKP çš„åè®®æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« å¯¹åº”çš„æºä»£ç åœ¨<a href="https://github.com/Antalpha-Labs/baby-plonk">è¿™é‡Œ</a>ï¼Œä¸»è¦å®ç°äº† Plonk åè®®çš„æ ¸å¿ƒæ¦‚å¿µï¼Œéœ€è¦ç»“åˆ<a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/README.md">éƒ­å®‡è€å¸ˆçš„ Plonk ç³»åˆ—æ–‡ç« </a>é˜…è¯»ã€‚</p>
<h2 id="æµç¨‹"><a class="header" href="#æµç¨‹">æµç¨‹</a></h2>
<p>é€šè¿‡æµ‹è¯• <code>test.py</code> çœ‹åˆ°éªŒè¯ Plonk åè®®ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>Setup</li>
<li>Program</li>
<li>Assignment</li>
<li>Generate proof</li>
<li>Verify</li>
</ul>
<pre><code class="language-python=">def prover_test():
    print(&quot;Beginning prover test&quot;)
    # powers should be 2^n so that we can use roots of unity for FFT
    # and should be bigger than len(coeffs) of polynomial to do KZG commitment
    # the value here is: powers = 4 * group_order
    # which is bigger than the order of quotient polynomial
    group_order = 8
    powers = group_order * 4
    setup = Setup.generate_srs(powers)

    program = Program([&quot;e public&quot;, &quot;c &lt;== a * b&quot;, &quot;e &lt;== c * d&quot;], group_order)
    assignments = {&quot;a&quot;: 3, &quot;b&quot;: 4, &quot;c&quot;: 12, &quot;d&quot;: 5, &quot;e&quot;: 60}
    prover = Prover(setup, program)
    proof = prover.prove(assignments)
    print(&quot;Prover test success&quot;)
    return setup, proof, group_order

def verifier_test(setup, proof, group_order):
    print(&quot;Beginning verifier test&quot;)
    program = Program([&quot;e public&quot;, &quot;c &lt;== a * b&quot;, &quot;e &lt;== c * d&quot;], group_order)
    public = [60]
    vk = setup.verification_key(program.common_preprocessed_input())
    assert vk.verify_proof(group_order, proof, public)
    print(&quot;Verifier test success&quot;)

</code></pre>
<p>æ•´ä¸ªåè®®çš„è¿‡ç¨‹ï¼š</p>
<ol>
<li>ç»™å®šä¸€ä¸ªè®¡ç®—/ç”µè·¯/ç¨‹åº:</li>
</ol>
<pre><code>a * b = c
c * d = e
å…¶ä¸­ e æ˜¯å…¬å¼€å€¼
</code></pre>
<ol start="2">
<li>prover é€‰æ‹©ç‰¹å®šçš„ä¸€ç»„å€¼ witness = (a, b, c, d, e)ï¼Œè¿™ç»„å€¼æ»¡è¶³ä¸Šé¢çš„çº¦æŸæ¡ä»¶</li>
<li>åœ¨ä¿æŒ witness ä¸å…¬å¼€çš„å‰æä¸‹ï¼Œprover ç”Ÿæˆä¸€ä¸ªè¯æ˜ proof, å¯ä»¥è¯æ˜ prover çŸ¥é“ witness</li>
<li>verifier éªŒè¯ proof çš„çœŸå®æ€§</li>
</ol>
<p>ä¸‹é¢æˆ‘ä»¬é€šè¿‡ä»£ç ä¾æ¬¡çœ‹çœ‹æ¯ä¸ªæ­¥éª¤éƒ½åšäº†ä»€ä¹ˆã€‚</p>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<pre><code class="language-python=">@dataclass
class Setup(object):
    #   ([1]â‚, [x]â‚, ..., [x^{d-1}]â‚)
    # = ( G,    xG,  ...,  x^{d-1}G ), where G is a generator of G_1
    powers_of_x: list[G1Point]
    # [x]â‚‚ = xH, where H is a generator of G_2
    X2: G2Point

    @classmethod
    def generate_srs(cls, powers: int):
        print(&quot;Start to generate structured reference string&quot;)
        # tau is a random number whatever you choose
        tau = 218313819403157342856071133

        # Initialize powers_of_x with 0 values
        powers_of_x = [0] * powers
        # powers_of_x[0] =  b.G1 * tau**0 = b.G1
        # powers_of_x[1] =  b.G1 * tau**1 = powers_of_x[0] * tau
        # powers_of_x[2] =  b.G1 * tau**2 = powers_of_x[1] * tau
        # ...
        # powers_of_x[i] =  b.G1 * tau**i = powers_of_x[i - 1] * tau
        powers_of_x[0] = b.G1

        for i in range(powers):
            if i &gt; 0:
                powers_of_x[i] = b.multiply(powers_of_x[i - 1], tau)

        assert b.is_on_curve(powers_of_x[1], b.b)
        print(&quot;Generated G1 side, X^1 point: {}&quot;.format(powers_of_x[1]))

        X2 = b.multiply(b.G2, tau)
        assert b.is_on_curve(X2, b.b2)
        print(&quot;Generated G2 side, X^1 point: {}&quot;.format(X2))

        assert b.pairing(b.G2, powers_of_x[1]) == b.pairing(X2, b.G1)
        print(&quot;X^1 points checked consistent&quot;)
        print(&quot;Finished to generate structured reference string&quot;)

        return cls(powers_of_x, X2)

    # Encodes the KZG commitment that evaluates to the given values in the group
    def commit(self, values: Polynomial) -&gt; G1Point:
        if (values.basis == Basis.LAGRANGE):
            # inverse FFT from Lagrange basis to monomial basis
            coeffs = values.ifft().values
        elif (values.basis == Basis.MONOMIAL):
            coeffs = values.values
        if len(coeffs) &gt; len(self.powers_of_x):
            raise Exception(&quot;Not enough powers in setup&quot;)
        return ec_lincomb([(s, x) for s, x in zip(self.powers_of_x, coeffs)])

    # Generate the verification key for this program with the given setup
    def verification_key(self, pk: CommonPreprocessedInput) -&gt; VerificationKey:
        return VerificationKey(
            pk.group_order,
            self.commit(pk.QM),
            self.commit(pk.QL),
            self.commit(pk.QR),
            self.commit(pk.QO),
            self.commit(pk.QC),
            self.commit(pk.S1),
            self.commit(pk.S2),
            self.commit(pk.S3),
            self.X2,
            Scalar.root_of_unity(pk.group_order),
        )
    
</code></pre>
<p>è¿™é‡Œæœ‰å‡ ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‡½æ•° <code>generate_srs</code> ç”¨äºç”Ÿæˆ structured reference string(SRS)ï¼Œç”¨äºç»™å¤šé¡¹å¼åœ¨ç¾¤ä¸Šç”Ÿæˆ KZG commitmentã€‚åŸºæœ¬æµç¨‹ï¼š</p>
<ol>
<li>é€‰æ‹©ä¸€ä¸ªéšæœºæ•°ä½œä¸º tau çš„å€¼</li>
<li>ä»æ¤­åœ†æ›²çº¿ä¸Šè·å¾—ä¸¤ä¸ªç”Ÿæˆå…ƒ G1 å’Œ G2ï¼Œæœ‰ç°æˆçš„å‡½æ•°åº“å¯ä»¥æ‹¿åˆ°</li>
<li>ç”Ÿæˆæ‰€éœ€è¦çš„ SRS å€¼</li>
<li>æœ€åå¯¹ç”Ÿæˆçš„å€¼è¿›è¡ŒéªŒè¯</li>
</ol>
<p>ç¬¬äºŒä¸ªå‡½æ•° <code>commit</code>ï¼Œå°±æ˜¯å®é™…ç”¨æ¥ç”Ÿæˆ KZG commitment çš„å‡½æ•°</p>
<p>ç¬¬ä¸‰ä¸ªå‡½æ•° <code>verification_key</code> ç”¨æ¥ç»™ verifier ç”Ÿæˆ verification keyï¼Œç”¨æ¥éªŒè¯ proof</p>
<h2 id="program"><a class="header" href="#program">Program</a></h2>
<pre><code class="language-python">program = Program([&quot;e public&quot;, &quot;c &lt;== a * b&quot;, &quot;e &lt;== c * d&quot;], group_order)
</code></pre>
<p>Program ç±»çš„ç›®æ ‡æ˜¯ Arithmetizationï¼Œå°†æŸç§è®¡ç®—è½¬æ¢æˆæ•°å­¦è¡¨ç¤ºã€‚è¿™é‡Œçš„<code>è®¡ç®—</code>æŒ‡çš„æ˜¯ä¸€æ®µç”µè·¯ï¼Œ<code>æ•°å­¦è¡¨ç¤º</code>æŒ‡çš„æ˜¯å¤šé¡¹å¼ã€‚</p>
<p>åœ¨ Plonk ä¸­ï¼Œå¯ä»¥ç”¨å…«ä¸ªå¤šé¡¹å¼æ¥è¡¨ç¤ºè¿™ä¸ª Program: QL, QR, QM, QO, QC, S1, S2, S3ã€‚æ‰€ä»¥ Program ç±»çš„ä¸»è¦ç›®æ ‡å°±æ˜¯å¤„ç†ä¸Šé¢ç”µè·¯çš„å­—ç¬¦ä¸²çš„è¡¨ç¤ºï¼Œæœ€ç»ˆå¾—åˆ°è¿™å…«ä¸ªå¤šé¡¹å¼ã€‚è¿™å…«ä¸ªå¤šé¡¹å¼æ˜¯å…¬å¼€çš„ï¼Œprover å’Œ verifier éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªä¿¡æ¯ã€‚</p>
<p>ç»è¿‡ä¸€å®šçš„å¤„ç†ï¼Œprover å¾—åˆ° prover key(pk)ã€‚</p>
<pre><code class="language-python=">@dataclass
class CommonPreprocessedInput:
    &quot;&quot;&quot;Common preprocessed input&quot;&quot;&quot;

    group_order: int
    # q_M(X) multiplication selector polynomial
    QM: Polynomial
    # q_L(X) left selector polynomial
    QL: Polynomial
    # q_R(X) right selector polynomial
    QR: Polynomial
    # q_O(X) output selector polynomial
    QO: Polynomial
    # q_C(X) constants selector polynomial
    QC: Polynomial
    # S_Ïƒ1(X) first permutation polynomial S_Ïƒ1(X)
    S1: Polynomial
    # S_Ïƒ2(X) second permutation polynomial S_Ïƒ2(X)
    S2: Polynomial
    # S_Ïƒ3(X) third permutation polynomial S_Ïƒ3(X)
    S3: Polynomial

</code></pre>
<p>verifier å¾—åˆ° verification keyï¼Œåœ¨ä¸Šé¢çš„ <code>Setup</code> æ­¥éª¤ä¸­ä¹Ÿæåˆ°äº†ã€‚</p>
<pre><code class="language-python=">    # Generate the verification key for this program with the given setup
    def verification_key(self, pk: CommonPreprocessedInput) -&gt; VerificationKey:
        return VerificationKey(
            pk.group_order,
            self.commit(pk.QM),
            self.commit(pk.QL),
            self.commit(pk.QR),
            self.commit(pk.QO),
            self.commit(pk.QC),
            self.commit(pk.S1),
            self.commit(pk.S2),
            self.commit(pk.S3),
            self.X2,
            Scalar.root_of_unity(pk.group_order),
        )
</code></pre>
<p>å’Œ prover ä¸ä¸€æ ·çš„æ˜¯ï¼Œä¸ºä»€ä¹ˆä¸­é—´ 8 ä¸ªå€¼è¦ç”¨ commitment çš„å½¢å¼å‘ç»™ verifier å‘¢ï¼Ÿè¿™æ˜¯å› ä¸º Plonk åè®®ä¸ºäº†ä¿è¯ verifier ç«¯éªŒè¯çš„è®¡ç®—å¤æ‚åº¦å°½é‡ä½ï¼Œæ‰€ä»¥æ²¡æœ‰ç»™å‡ºåŸå§‹çš„å¤šé¡¹å¼ï¼Œè€Œåªç»™å‡ºäº† KZG æ‰¿è¯ºçš„å€¼ï¼Œåé¢ä¼šçœ‹åˆ°ï¼Œverifier é€šè¿‡ pairing éªŒè¯å°±å¯ä»¥ä¿è¯è¿™äº›æ‰¿è¯ºå€¼å’ŒåŸå§‹çš„å¤šé¡¹å¼æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œprover æ¬ºéª—ä¸äº† verifierï¼Œè¿™æ ·æ—¢ä¿è¯çš„æ­£ç¡®æ€§ï¼Œä¹Ÿä¿è¯äº† verifier éªŒè¯çš„ç®€å•æ€§ã€‚</p>
<h2 id="assignment-1"><a class="header" href="#assignment-1">Assignment</a></h2>
<pre><code class="language-python">assignments = {&quot;a&quot;: 3, &quot;b&quot;: 4, &quot;c&quot;: 12, &quot;d&quot;: 5, &quot;e&quot;: 60}
</code></pre>
<p>Assignment æ˜¯å¯¹ç”µè·¯ä¸­å¼•çº¿çš„èµ‹å€¼ï¼Œä¹Ÿå« witness æˆ–è€… private inputã€‚è¿™äº›å€¼åªæœ‰ prover çŸ¥é“ï¼Œå¯¹ verifier æ˜¯ä¿å¯†çš„ã€‚prover æœ€ç»ˆè¦å‘ verifier æä¾›è¯æ˜ï¼Œä¿è¯å°†è¿™äº›å€¼è¾“å…¥åˆ° program ä¸­èƒ½å¾—åˆ°æŒ‡å®šçš„ç»“æœã€‚</p>
<h2 id="generate-proof"><a class="header" href="#generate-proof">Generate proof</a></h2>
<pre><code class="language-python">proof = prover.prove(assignments)
</code></pre>
<p>è¿™é‡Œæ˜¯åè®®çš„é‡ç‚¹ï¼Œåˆ†ä¸ºäº”è½®ã€‚</p>
<h3 id="ä¸»ä½“é€»è¾‘"><a class="header" href="#ä¸»ä½“é€»è¾‘">ä¸»ä½“é€»è¾‘ï¼š</a></h3>
<pre><code class="language-python=">    def prove(self, witness: dict[Optional[str], int]) -&gt; Proof:
        # Initialise Fiat-Shamir transcript
        transcript = Transcript(b&quot;plonk&quot;)

        # Collect fixed and public information
        # FIXME: Hash pk and PI into transcript
        public_vars = self.program.get_public_assignments()
        PI = Polynomial(
            [Scalar(-witness[v]) for v in public_vars]
            + [Scalar(0) for _ in range(self.group_order - len(public_vars))],
            Basis.LAGRANGE,
        )
        self.PI = PI

        # Round 1
        msg_1 = self.round_1(witness)
        self.beta, self.gamma = transcript.round_1(msg_1)

        # Round 2
        msg_2 = self.round_2()
        self.alpha, self.fft_cofactor = transcript.round_2(msg_2)

        # Round 3
        msg_3 = self.round_3()
        self.zeta = transcript.round_3(msg_3)

        # Round 4
        msg_4 = self.round_4()
        self.v = transcript.round_4(msg_4)

        # Round 5
        msg_5 = self.round_5()

        return Proof(msg_1, msg_2, msg_3, msg_4, msg_5)

</code></pre>
<p>é€šè¿‡ 5 è½®çš„è®¡ç®—ä¼šç”Ÿæˆå¿…è¦çš„ proofï¼Œè¿™äº› proof ä¹‹åäº¤ç»™ verifier è¿›è¡ŒéªŒè¯ï¼Œå¦‚æœé€šè¿‡ï¼Œåˆ™æ•´ä¸ªåè®®å®Œæˆã€‚</p>
<h3 id="round-0-åˆå§‹åŒ–"><a class="header" href="#round-0-åˆå§‹åŒ–">Round 0: åˆå§‹åŒ–ï¼š</a></h3>
<pre><code class="language-python=">    def __init__(self, setup: Setup, program: Program):
        self.group_order = program.group_order
        self.setup = setup
        self.program = program
        self.pk = program.common_preprocessed_input()

</code></pre>
<h3 id="round-1-ç”Ÿæˆå¯¹-witnessassignments-å¤šé¡¹å¼çš„æ‰¿è¯º"><a class="header" href="#round-1-ç”Ÿæˆå¯¹-witnessassignments-å¤šé¡¹å¼çš„æ‰¿è¯º">Round 1: ç”Ÿæˆå¯¹ witness/assignments å¤šé¡¹å¼çš„æ‰¿è¯º</a></h3>
<p>è¿™ä¸ªè¿‡ç¨‹å’Œç›¸å…³çŸ¥è¯†å¯ä»¥å‚è€ƒ <a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-arithmetization.md">ç†è§£ PLONKï¼ˆä¸€ï¼‰ï¼šPlonkish Arithmetization
</a> å’Œ <a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-lagrange-basis.md">ç†è§£ PLONKï¼ˆäºŒï¼‰ï¼šå¤šé¡¹å¼ç¼–ç 
</a>ã€‚å¤šé¡¹å¼æ‰¿è¯ºç›¸å…³çŸ¥è¯†å¯ä»¥å‚è€ƒ <a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-polycom.mdf">ç†è§£ Plonkï¼ˆäº”ï¼‰ï¼šå¤šé¡¹å¼æ‰¿è¯º
</a></p>
<p>å¤§ä½“æµç¨‹:</p>
<ol>
<li>æ ¹æ® group_order åˆå§‹åŒ– A, B, C è¿™ä¸‰ä¸ª witness å¤šé¡¹å¼çš„ç‚¹å€¼ A_valuesï¼ŒB_valuesï¼ŒC_valuesï¼Œè¿™äº›ç‚¹å€¼ç”¨äºåé¢ç”Ÿæˆå¤šé¡¹å¼ï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆçš„ <code>Polynomial</code> ç±»</li>
<li>ä¾æ¬¡è¯»å– program ä¸­å¼•çº¿çš„å€¼ï¼Œå°†å·¦å¼•çº¿çš„å€¼ L æ·»åŠ åˆ° A_values, å³å¼•çº¿çš„å€¼æ·»åŠ åˆ° B_values ä¸­ï¼Œè¾“å‡ºå¼•çº¿çš„å€¼æ·»åŠ åˆ° C_values ä¸­</li>
<li>é€šè¿‡ <code>Polynomial</code> ç±»ç”Ÿæˆ Aï¼ŒBï¼ŒC å¤šé¡¹å¼</li>
<li>ç”Ÿæˆ Aï¼ŒBï¼ŒC å¤šé¡¹å¼çš„ KZG æ‰¿è¯º</li>
<li>éªŒè¯é—¨çº¦æŸç­‰å¼æ˜¯å¦æˆç«‹</li>
</ol>
<pre><code class="language-python=">    def round_1(
        self,
        witness: dict[Optional[str], int],
    ) -&gt; Message1:
        program = self.program
        setup = self.setup
        group_order = self.group_order

        if None not in witness:
            witness[None] = 0

        # 1. æ ¹æ® group_order åˆå§‹åŒ– A, B, C å¤šé¡¹å¼çš„ç‚¹å€¼
        # A_valuesï¼ŒB_valuesï¼ŒC_valuesï¼Œè¿™äº›ç‚¹å€¼ç”¨äºåé¢
        # ç”Ÿæˆå¤šé¡¹å¼ï¼Œä¹Ÿå°±æ˜¯ `Polynomial` ç±»
        # Compute wire assignments
        A_values = [Scalar(0) for _ in range(group_order)]
        B_values = [Scalar(0) for _ in range(group_order)]
        C_values = [Scalar(0) for _ in range(group_order)]

        # 2. ä¾æ¬¡è¯»å– program ä¸­å¼•çº¿çš„å€¼ï¼Œå°†å·¦å¼•çº¿çš„å€¼ L æ·»åŠ åˆ° A_values, 
        # å³å¼•çº¿çš„å€¼æ·»åŠ åˆ° B_values ä¸­ï¼Œè¾“å‡ºå¼•çº¿çš„å€¼æ·»åŠ åˆ° C_values ä¸­
        for i, gate_wires in enumerate(program.wires()):
            A_values[i] = Scalar(witness[gate_wires.L])
            B_values[i] = Scalar(witness[gate_wires.R])
            C_values[i] = Scalar(witness[gate_wires.O])

        # 3. é€šè¿‡ `Polynomial` ç±»ç”Ÿæˆ Aï¼ŒBï¼ŒC å¤šé¡¹å¼
        self.A = Polynomial(A_values, Basis.LAGRANGE)
        self.B = Polynomial(B_values, Basis.LAGRANGE)
        self.C = Polynomial(C_values, Basis.LAGRANGE)

        # 4. ç”Ÿæˆ Aï¼ŒBï¼ŒC å¤šé¡¹å¼çš„ KZG æ‰¿è¯º
        a_1 = setup.commit(self.A)
        b_1 = setup.commit(self.B)
        c_1 = setup.commit(self.C)

        # 5. éªŒè¯é—¨çº¦æŸç­‰å¼æ˜¯å¦æˆç«‹
        # Sanity check that witness fulfils gate constraints
        assert (
            self.A * self.pk.QL
            + self.B * self.pk.QR
            + self.A * self.B * self.pk.QM
            + self.C * self.pk.QO
            + self.PI
            + self.pk.QC
            == Polynomial([Scalar(0)] * group_order, Basis.LAGRANGE)
        )

        return Message1(a_1, b_1, c_1)
</code></pre>
<h3 id="round-2-ç”Ÿæˆ-permutation-accumulator-å¤šé¡¹å¼-z-çš„-kzg-æ‰¿è¯º"><a class="header" href="#round-2-ç”Ÿæˆ-permutation-accumulator-å¤šé¡¹å¼-z-çš„-kzg-æ‰¿è¯º">Round 2: ç”Ÿæˆ Permutation Accumulator å¤šé¡¹å¼ Z çš„ KZG æ‰¿è¯º</a></h3>
<p>å‚è€ƒæ–‡ç«  <a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-permutation.md">ç†è§£ PLONKï¼ˆä¸‰ï¼‰ï¼šç½®æ¢è¯æ˜
</a></p>
<p>è¦ç»™ <code>Z</code> ç”Ÿæˆæ‰¿è¯ºï¼Œé¦–å…ˆè¦æ„é€ <code>Z</code>ï¼Œç„¶åå¯ä»¥ç›´æ¥å¯¹å¤šé¡¹å¼ç”Ÿæˆ KZG æ‰¿è¯ºã€‚</p>
<p>å¤§ä½“æµç¨‹ï¼š</p>
<ol>
<li>åˆå§‹åŒ–<code>Z</code> çš„ç‚¹å€¼æ•°ç»„ <code>Z_values</code> ç¬¬ä¸€ä¸ªå€¼ä¸º 1</li>
<li>åœ¨ group_order å†…ï¼Œä¾æ¬¡ç”¨ä¸Šä¸€æ¬¡çš„å€¼ä¹˜ä»¥å½“å‰çš„ç´¯ä¹˜å› å­ï¼Œè·å¾—å½“å‰ <code>Z_values</code> çš„å€¼</li>
<li>ç¡®ä¿æœ€åä¸€é¡¹ä¸º 1ï¼ˆå…·ä½“åŸç†è¯·çœ‹ä¸Šé¢çš„æ–‡ç« ï¼‰</li>
<li>æ£€æŸ¥ç”Ÿæˆå€¼çš„æœ‰æ•ˆæ€§</li>
<li>ç”¨ Lagrange å½¢å¼æ„é€ å¤šé¡¹å¼</li>
<li>ç”Ÿæˆ KZG æ‰¿è¯º</li>
</ol>
<pre><code class="language-python=">    def round_2(self) -&gt; Message2:
        group_order = self.group_order
        setup = self.setup

        Z_values = [Scalar(1)]
        roots_of_unity = Scalar.roots_of_unity(group_order)
        for i in range(group_order):
            Z_values.append(
                Z_values[-1]
                * self.rlc(self.A.values[i], roots_of_unity[i])
                * self.rlc(self.B.values[i], 2 * roots_of_unity[i])
                * self.rlc(self.C.values[i], 3 * roots_of_unity[i])
                / self.rlc(self.A.values[i], self.pk.S1.values[i])
                / self.rlc(self.B.values[i], self.pk.S2.values[i])
                / self.rlc(self.C.values[i], self.pk.S3.values[i])
            )
        assert Z_values.pop() == 1

        # Sanity-check that Z was computed correctly
        for i in range(group_order):
            assert (
                self.rlc(self.A.values[i], roots_of_unity[i])
                * self.rlc(self.B.values[i], 2 * roots_of_unity[i])
                * self.rlc(self.C.values[i], 3 * roots_of_unity[i])
            ) * Z_values[i] - (
                self.rlc(self.A.values[i], self.pk.S1.values[i])
                * self.rlc(self.B.values[i], self.pk.S2.values[i])
                * self.rlc(self.C.values[i], self.pk.S3.values[i])
            ) * Z_values[
                (i + 1) % group_order
            ] == 0

        Z = Polynomial(Z_values, Basis.LAGRANGE)
        z_1 = setup.commit(Z)
        print(&quot;Permutation accumulator polynomial successfully generated&quot;)

        self.Z = Z
        return Message2(z_1)

</code></pre>
<p>å…¶ä¸­ <code>rlc</code> çš„å®šä¹‰ï¼š</p>
<pre><code class="language-python=">    def rlc(self, term_1, term_2):
        return term_1 + term_2 * self.beta + self.gamma

</code></pre>
<h3 id="round-3-ç”Ÿæˆå•†å¤šé¡¹å¼çš„æ‰¿è¯º"><a class="header" href="#round-3-ç”Ÿæˆå•†å¤šé¡¹å¼çš„æ‰¿è¯º">Round 3: ç”Ÿæˆå•†å¤šé¡¹å¼çš„æ‰¿è¯º</a></h3>
<p>ç›¸å…³çŸ¥è¯†å¯ä»¥å‚è€ƒæ–‡ç«  <a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-constraints.md">ç†è§£ PLONKï¼ˆå››ï¼‰ï¼šç®—æœ¯çº¦æŸä¸æ‹·è´çº¦æŸ
</a></p>
<p>å¤§ä½“æµç¨‹:</p>
<ol>
<li>æ„é€ æ¶ˆå¤±å¤šé¡¹å¼(Vanishing Polynomial): ZH_coeff</li>
<li>æ„é€ ç”µè·¯çš„é—¨çº¦æŸå¤šé¡¹å¼: <code>gate_constraints_coeff</code></li>
<li>æ„é€  Copy Constraints çš„å¤šé¡¹å¼: <code>permutation_grand_product</code></li>
<li>æ„é€  <code>Copy Constraints ç¬¬ä¸€ä¸ªå€¼ä¸º 1</code> è¿™ä¸ªçº¦æŸçš„å¤šé¡¹å¼: <code>permutation_first_row_coeff</code></li>
<li>æ±‚å‡ºå•†å¤šé¡¹å¼ <code>quotient polynomial</code>: T_coeff</li>
<li>è®¡ç®—å•†å¤šé¡¹å¼çš„ KZG æ‰¿è¯º</li>
</ol>
<pre><code class="language-python=">    def round_3(self) -&gt; Message3:
        group_order = self.group_order
        setup = self.setup

        # Compute the quotient polynomial

        alpha = self.alpha

        roots_of_unity = Scalar.roots_of_unity(group_order)

        A_coeff, B_coeff, C_coeff, S1_coeff, S2_coeff, S3_coeff, Z_coeff, QL_coeff, QR_coeff, QM_coeff, QO_coeff, QC_coeff, PI_coeff = (
            x.ifft()
            for x in (
                self.A,
                self.B,
                self.C,
                self.pk.S1,
                self.pk.S2,
                self.pk.S3,
                self.Z,
                self.pk.QL,
                self.pk.QR,
                self.pk.QM,
                self.pk.QO,
                self.pk.QC,
                self.PI,
            )
        )

        L0_coeff = (
            Polynomial([Scalar(1)] + [Scalar(0)] * (group_order - 1), Basis.LAGRANGE)
        ).ifft()

        # x^8 - 1 coeffs are [-1, 0, 0, 0, 0, 0, 0, 0, 1]
        # which needs 9 points(n + 1) to determine the polynomial
        ZH_array = [Scalar(-1)] + [Scalar(0)] * (group_order - 1) + [Scalar(1)]
        ZH_coeff = Polynomial(ZH_array, Basis.MONOMIAL)

        gate_constraints_coeff = (
            A_coeff * QL_coeff
            + B_coeff * QR_coeff
            + A_coeff * B_coeff * QM_coeff
            + C_coeff * QO_coeff
            + PI_coeff
            + QC_coeff
        )

        normal_roots = Polynomial(
            roots_of_unity, Basis.LAGRANGE
        )

        roots_coeff = normal_roots.ifft()
        # z * w
        ZW = self.Z.shift(1)
        ZW_coeff = ZW.ifft()

        for i in range(group_order):
            assert (
                self.rlc(self.A.values[i], roots_of_unity[i])
                * self.rlc(self.B.values[i], 2 * roots_of_unity[i])
                * self.rlc(self.C.values[i], 3 * roots_of_unity[i])
            ) * self.Z.values[i] - (
                self.rlc(self.A.values[i], self.pk.S1.values[i])
                * self.rlc(self.B.values[i], self.pk.S2.values[i])
                * self.rlc(self.C.values[i], self.pk.S3.values[i])
            ) * ZW.values[
                i % group_order
            ] == 0

        permutation_grand_product_coeff = (
            (
                self.rlc(A_coeff, roots_coeff)
                * self.rlc(B_coeff, roots_coeff * Scalar(2))
                * self.rlc(C_coeff, roots_coeff * Scalar(3))
            )
            * Z_coeff
            - (
                self.rlc(A_coeff, S1_coeff)
                * self.rlc(B_coeff, S2_coeff)
                * self.rlc(C_coeff, S3_coeff)
            )
            * ZW_coeff
        )

        permutation_first_row_coeff = (Z_coeff - Scalar(1)) * L0_coeff

        all_constraints = (
            gate_constraints_coeff
            + permutation_grand_product_coeff * alpha
            + permutation_first_row_coeff * alpha**2
        )

        # quotient polynomial
        T_coeff = all_constraints / ZH_coeff

        print(&quot;Generated the quotient polynomial&quot;)

        W_t = setup.commit(T_coeff)

        self.A_coeff = A_coeff
        self.B_coeff = B_coeff
        self.C_coeff = C_coeff
        self.S1_coeff = S1_coeff
        self.S2_coeff = S2_coeff
        self.S3_coeff = S3_coeff
        self.Z_coeff = Z_coeff
        self.ZW_coeff = ZW_coeff
        self.QL_coeff = QL_coeff
        self.QR_coeff = QR_coeff
        self.QM_coeff = QM_coeff
        self.QO_coeff = QO_coeff
        self.QC_coeff = QC_coeff
        self.PI_coeff = PI_coeff
        self.T_coeff = T_coeff

        return Message3(W_t)
</code></pre>
<h3 id="round-4-å¯¹å„ä¸ªå¤šé¡¹å¼åœ¨ä¸€ä¸ªéšæœºçš„-zeta-ç‚¹æ±‚å€¼"><a class="header" href="#round-4-å¯¹å„ä¸ªå¤šé¡¹å¼åœ¨ä¸€ä¸ªéšæœºçš„-zeta-ç‚¹æ±‚å€¼">Round 4: å¯¹å„ä¸ªå¤šé¡¹å¼åœ¨ä¸€ä¸ªéšæœºçš„ zeta ç‚¹æ±‚å€¼</a></h3>
<p>ç›¸å…³çŸ¥è¯†å¯ä»¥å‚è€ƒæ–‡ç«  <a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-constraints.md">ç†è§£ PLONKï¼ˆå››ï¼‰ï¼šç®—æœ¯çº¦æŸä¸æ‹·è´çº¦æŸ
</a></p>
<p>è¿™ä¸€æ­¥æ¯”è¾ƒç®€å•ï¼Œå¯¹å„ä¸ªå¤šé¡¹å¼åœ¨ä¸€ä¸ªéšæœºçš„ zeta ç‚¹æ±‚å€¼ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œå°±æ˜¯å¦‚ä½•è·å– zeta è¿™ä¸ªéšæœºå€¼ï¼Œä½¿ç”¨çš„æ–¹æ³•å«åšFiat-Shamir å˜æ¢ï¼Œå¯ä»¥å°†ä¸€ä¸ªéœ€è¦ prover å’Œ verifier è¿›è¡Œäº¤äº’çš„è¯æ˜è½¬åŒ–æˆä¸éœ€è¦äº¤äº’çš„è¯æ˜ï¼Œç®€å•ä»‹ç»å¯ä»¥å‚è€ƒ <a href="https://github.com/sec-bit/learning-zkp/blob/3bff37c46c7b4f447b0bb9304d1ebc039a582c5f/zkp-intro/4/zkp-rom.md#fiat-shamir-%E5%8F%98%E6%8D%A2--%E4%BB%8E-public-coin-%E5%88%B0-nizk">è¿™ç¯‡æ–‡ç« </a>ï¼Œä»£ç å¯ä»¥å‚è€ƒ <a href="https://github.com/Antalpha-Labs/baby-plonk/blob/main/transcript.py">è¿™é‡Œ</a>ã€‚</p>
<pre><code class="language-python=">    def round_4(self) -&gt; Message4:
        group_order = self.group_order
        zeta = self.zeta

        a_eval = self.A_coeff.coeff_eval(zeta)
        b_eval = self.B_coeff.coeff_eval(zeta)
        c_eval = self.C_coeff.coeff_eval(zeta)
        s1_eval = self.S1_coeff.coeff_eval(zeta)
        s2_eval = self.S2_coeff.coeff_eval(zeta)
        s3_eval = self.S3_coeff.coeff_eval(zeta)
        root_of_unity = Scalar.root_of_unity(group_order)
        z_eval = self.Z_coeff.coeff_eval(zeta)
        zw_eval = self.Z_coeff.coeff_eval(zeta * root_of_unity)
        ql_eval = self.QL_coeff.coeff_eval(zeta)
        qr_eval = self.QR_coeff.coeff_eval(zeta)
        qm_eval = self.QM_coeff.coeff_eval(zeta)
        qo_eval = self.QO_coeff.coeff_eval(zeta)
        qc_eval = self.QC_coeff.coeff_eval(zeta)
        t_eval = self.T_coeff.coeff_eval(zeta)

        self.a_eval = a_eval
        self.b_eval = b_eval
        self.c_eval = c_eval
        self.ql_eval = ql_eval
        self.qr_eval = qr_eval
        self.qm_eval = qm_eval
        self.qo_eval = qo_eval
        self.qc_eval = qc_eval
        self.s1_eval = s1_eval
        self.s2_eval = s2_eval
        self.s3_eval = s3_eval
        self.z_eval = z_eval
        self.zw_eval = zw_eval
        self.t_eval = t_eval

        return Message4(
            a_eval,
            b_eval,
            c_eval,
            ql_eval,
            qr_eval,
            qm_eval,
            qo_eval,
            qc_eval,
            s1_eval,
            s2_eval,
            s3_eval,
            z_eval,
            zw_eval,
            t_eval
        )

</code></pre>
<p><code>coeff_eval</code> æ˜¯ä¸€ä¸ªå¤šé¡¹å¼æ±‚å€¼çš„å‡½æ•°ã€‚å…·ä½“å®ç°å¯ä»¥çœ‹<a href="https://github.com/Antalpha-Labs/baby-plonk/blob/main/poly.py">è¿™é‡Œ</a>ã€‚</p>
<h3 id="round-5-å¯¹æ¯ä¸ªå¤šé¡¹å¼ç”Ÿæˆ-kzg-æ‰¿è¯ºä¸­éœ€è¦çš„ä¸¤ä¸ªæ‰¿è¯º"><a class="header" href="#round-5-å¯¹æ¯ä¸ªå¤šé¡¹å¼ç”Ÿæˆ-kzg-æ‰¿è¯ºä¸­éœ€è¦çš„ä¸¤ä¸ªæ‰¿è¯º">Round 5: å¯¹æ¯ä¸ªå¤šé¡¹å¼ç”Ÿæˆ KZG æ‰¿è¯ºä¸­éœ€è¦çš„ä¸¤ä¸ªæ‰¿è¯º</a></h3>
<p>ç›¸å…³çŸ¥è¯†å¯ä»¥å‚è€ƒæ–‡ç«  <a href="https://github.com/sec-bit/learning-zkp/blob/develop/plonk-intro-cn/plonk-constraints.md">ç†è§£ PLONKï¼ˆå››ï¼‰ï¼šç®—æœ¯çº¦æŸä¸æ‹·è´çº¦æŸ
</a>ã€‚</p>
<p>è¿™ä¸€æ­¥ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œç”Ÿæˆæ‰€éœ€çš„ KZG æ‰¿è¯ºï¼Œä¸º verifier è¿›è¡Œ verify åšå‡†å¤‡ã€‚</p>
<pre><code class="language-python=">    def round_5(self) -&gt; Message5:
        W_a, W_a_quot = self.generate_commitment(self.A_coeff, self.a_eval)
        W_b, W_b_quot = self.generate_commitment(self.B_coeff, self.b_eval)
        W_c, W_c_quot = self.generate_commitment(self.C_coeff, self.c_eval)
        W_ql, W_ql_quot = self.generate_commitment(self.QL_coeff, self.ql_eval)
        W_qr, W_qr_quot = self.generate_commitment(self.QR_coeff, self.qr_eval)
        W_qm, W_qm_quot = self.generate_commitment(self.QM_coeff, self.qm_eval)
        W_qo, W_qo_quot = self.generate_commitment(self.QO_coeff, self.qo_eval)
        W_qc, W_qc_quot = self.generate_commitment(self.QC_coeff, self.qc_eval)
        W_s1, W_s1_quot = self.generate_commitment(self.S1_coeff, self.s1_eval)
        W_s2, W_s2_quot = self.generate_commitment(self.S2_coeff, self.s2_eval)
        W_s3, W_s3_quot = self.generate_commitment(self.S3_coeff, self.s3_eval)
        W_z, W_z_quot = self.generate_commitment(self.Z_coeff, self.z_eval)
        W_zw, W_zw_quot = self.generate_commitment(self.ZW_coeff, self.zw_eval)
        W_t, W_t_quot = self.generate_commitment(self.T_coeff, self.t_eval)

        print(&quot;Generated final quotient witness polynomials&quot;)
        return Message5(
            W_a, W_a_quot,
            W_b, W_b_quot,
            W_c, W_c_quot,
            W_ql, W_ql_quot,
            W_qr, W_qr_quot,
            W_qm, W_qm_quot,
            W_qo, W_qo_quot,
            W_qc, W_qc_quot,
            W_s1, W_s1_quot,
            W_s2, W_s2_quot,
            W_s3, W_s3_quot,
            W_z, W_z_quot,
            W_zw, W_zw_quot,
            W_t, W_t_quot,
        )
</code></pre>
<p>ç”Ÿæˆæ‰¿è¯ºçš„ä»£ç :</p>
<pre><code class="language-python=">
    def generate_commitment(self, coeff: Polynomial, eval: Scalar):
        setup = self.setup
        zeta = self.zeta
        # Polynomial for (X - zeta)
        ZH_zeta_coeff = Polynomial([-zeta, Scalar(1)], Basis.MONOMIAL)
        quot_coeff = (coeff - eval) / ZH_zeta_coeff
        # witness for polynomial itself
        w = setup.commit(coeff)
        # witness for quotient polynomial
        w_quot = setup.commit(quot_coeff)
        return w, w_quot

</code></pre>
<h2 id="verify"><a class="header" href="#verify">Verify</a></h2>
<p>å†å›é¡¾ä¸€ä¸‹æµ‹è¯•ä¸­çš„ä»£ç æ˜¯è¿™æ ·è¿›è¡ŒéªŒè¯çš„:</p>
<pre><code class="language-python=">def verifier_test(setup, proof, group_order):
    print(&quot;Beginning verifier test&quot;)
    program = Program([&quot;e public&quot;, &quot;c &lt;== a * b&quot;, &quot;e &lt;== c * d&quot;], group_order)
    public = [60]
    vk = setup.verification_key(program.common_preprocessed_input())
    assert vk.verify_proof(group_order, proof, public)
    print(&quot;Verifier test success&quot;)

</code></pre>
<p><code>VerificationKey</code> çš„ä»£ç åœ¨<a href="https://github.com/Antalpha-Labs/baby-plonk/blob/main/verifier.py">è¿™é‡Œ</a>ï¼Œæœ€æ ¸å¿ƒçš„æ–¹æ³•æ˜¯ <code>verify_proof</code></p>
<p>verifier ä¸»è¦åšä¸¤ä»¶äº‹æƒ…:</p>
<ol>
<li>éªŒè¯ KZG æ‰¿è¯ºï¼Œä¿è¯å¤šé¡¹å¼æ˜¯å’Œæ‰€æ‰¿è¯ºçš„ä¸€è‡´</li>
<li>éªŒè¯æœ€ç»ˆç»„åˆå‡ºæ¥çš„å¤šé¡¹å¼æ±‚å€¼çš„ç›¸ç­‰æ€§</li>
</ol>
<pre><code class="language-python=">    def verify_proof(self, group_order: int, pf, public=[]) -&gt; bool:
        # 4. Compute challenges
        beta, gamma, alpha, zeta, v, u = self.compute_challenges(pf)
        proof = pf.flatten()

        # 5. Compute zero polynomial evaluation Z_H(Î¶) = Î¶^n - 1
        ZH_ev = zeta**group_order - 1

        # 6. Compute Lagrange polynomial evaluation L_0(Î¶)
        L0_ev = ZH_ev / (group_order * (zeta - 1))

        # 7. Compute public input polynomial evaluation PI(Î¶).
        PI = Polynomial(
            [Scalar(-x) for x in public]
            + [Scalar(0) for _ in range(group_order - len(public))],
            Basis.LAGRANGE,
        )
        PI_ev = PI.barycentric_eval(zeta)

        # verify KZG10 commitment
        self.verify_commitment(proof, proof[&quot;W_a&quot;], &quot;W_a_quot&quot;, &quot;a_eval&quot;, zeta)
        self.verify_commitment(proof, proof[&quot;W_b&quot;], &quot;W_b_quot&quot;, &quot;b_eval&quot;, zeta)
        self.verify_commitment(proof, proof[&quot;W_c&quot;], &quot;W_c_quot&quot;, &quot;c_eval&quot;, zeta)
        self.verify_commitment(proof, proof[&quot;W_z&quot;], &quot;W_z_quot&quot;, &quot;z_eval&quot;, zeta)
        self.verify_commitment(proof, proof[&quot;W_zw&quot;], &quot;W_zw_quot&quot;, &quot;zw_eval&quot;, zeta)
        self.verify_commitment(proof, proof[&quot;W_t&quot;], &quot;W_t_quot&quot;, &quot;t_eval&quot;, zeta)
        self.verify_commitment(proof, self.Ql, &quot;W_ql_quot&quot;, &quot;ql_eval&quot;, zeta)
        self.verify_commitment(proof, self.Qr, &quot;W_qr_quot&quot;, &quot;qr_eval&quot;, zeta)
        self.verify_commitment(proof, self.Qm, &quot;W_qm_quot&quot;, &quot;qm_eval&quot;, zeta)
        self.verify_commitment(proof, self.Qo, &quot;W_qo_quot&quot;, &quot;qo_eval&quot;, zeta)
        self.verify_commitment(proof, self.Qc, &quot;W_qc_quot&quot;, &quot;qc_eval&quot;, zeta)
        self.verify_commitment(proof, self.S1, &quot;W_s1_quot&quot;, &quot;s1_eval&quot;, zeta)
        self.verify_commitment(proof, self.S2, &quot;W_s2_quot&quot;, &quot;s2_eval&quot;, zeta)
        self.verify_commitment(proof, self.S3, &quot;W_s3_quot&quot;, &quot;s3_eval&quot;, zeta)

        a_eval = proof[&quot;a_eval&quot;]
        b_eval = proof[&quot;b_eval&quot;]
        c_eval = proof[&quot;c_eval&quot;]
        ql_eval = proof[&quot;ql_eval&quot;]
        qr_eval = proof[&quot;qr_eval&quot;]
        qm_eval = proof[&quot;qm_eval&quot;]
        qo_eval = proof[&quot;qo_eval&quot;]
        qc_eval = proof[&quot;qc_eval&quot;]
        s1_eval = proof[&quot;s1_eval&quot;]
        s2_eval = proof[&quot;s2_eval&quot;]
        s3_eval = proof[&quot;s3_eval&quot;]
        z_eval = proof[&quot;z_eval&quot;]
        zw_eval = proof[&quot;zw_eval&quot;]
        t_eval = proof[&quot;t_eval&quot;]

        f_eval = (
            (a_eval + beta * zeta + gamma)
            * (b_eval + beta * zeta * 2 + gamma)
            * (c_eval + beta * zeta * 3 + gamma)
        )
        g_eval = (
            (a_eval + beta * s1_eval + gamma)
            * (b_eval + beta * s2_eval + gamma)
            * (c_eval + beta * s3_eval + gamma)
        )

        gate_constraints_eval = (
            ql_eval * a_eval
            + qr_eval * b_eval
            + qm_eval * a_eval * b_eval
            + qo_eval * c_eval
            + qc_eval
            + PI_ev
        )

        permutation_grand_product_eval = z_eval * f_eval - zw_eval * g_eval

        permutation_first_row_eval = L0_ev * (z_eval - 1)

        left = (
            gate_constraints_eval
            + alpha * permutation_grand_product_eval
            +  alpha ** 2 * permutation_first_row_eval
        )

        right = t_eval * ZH_ev

        assert left == right

        print(&quot;Done equation check for all constraints&quot;)
        return True

    # Compute challenges (should be same as those computed by prover)
    def compute_challenges(
        self, proof
    ) -&gt; tuple[Scalar, Scalar, Scalar, Scalar, Scalar, Scalar]:
        transcript = Transcript(b&quot;plonk&quot;)
        beta, gamma = transcript.round_1(proof.msg_1)
        alpha, _fft_cofactor = transcript.round_2(proof.msg_2)
        zeta = transcript.round_3(proof.msg_3)
        v = transcript.round_4(proof.msg_4)
        u = transcript.round_5(proof.msg_5)

        return beta, gamma, alpha, zeta, v, u

    def verify_commitment(self, proof, W, W_quot_key, eval_key, zeta):
        W_quot = proof[W_quot_key]
        eval = proof[eval_key]
        ec_comb = ec_lincomb(
            [
                (W, 1),
                (W_quot, zeta),
                (b.G1, -eval),
            ]
        )

        assert b.pairing(self.X_2, W_quot) == b.pairing(b.G2, ec_comb)
        print(f&quot;Done KZG10 commitment check for {eval_key} polynomial&quot;)

</code></pre>
<h2 id="æœ€å"><a class="header" href="#æœ€å">æœ€å</a></h2>
<p>ä»¥ä¸Šå°±æ˜¯ Plonk åè®®çš„ä»£ç è®²è§£ï¼Œæ¥ä¸‹æ¥å»ºè®®è¯»è€…äº²è‡ªè¿è¡Œä¸€ä¸‹<a href="https://github.com/Antalpha-Labs/baby-plonk">è¿™ä¸ªä»£ç </a>ï¼Œæ‰“å°å…¶ä¸­ä¸€äº›å€¼çœ‹çœ‹ï¼Œè¿™æ ·ä¼šå¯¹åè®®çš„äº†è§£æ›´åŠ æ·±åˆ»ã€‚</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </div>
    </body>
</html>
